(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var em={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),R_=Symbol.for("react.portal"),P_=Symbol.for("react.fragment"),b_=Symbol.for("react.strict_mode"),O_=Symbol.for("react.profiler"),A_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),M_=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),F_=Symbol.for("react.memo"),z_=Symbol.for("react.lazy"),Af=Symbol.iterator;function U_(e){return e===null||typeof e!="object"?null:(e=Af&&e[Af]||e["@@iterator"],typeof e=="function"?e:null)}var tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nm=Object.assign,rm={};function Pi(e,t,n){this.props=e,this.context=t,this.refs=rm,this.updater=n||tm}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function im(){}im.prototype=Pi.prototype;function Rc(e,t,n){this.props=e,this.context=t,this.refs=rm,this.updater=n||tm}var Pc=Rc.prototype=new im;Pc.constructor=Rc;nm(Pc,Pi.prototype);Pc.isPureReactComponent=!0;var Df=Array.isArray,sm=Object.prototype.hasOwnProperty,bc={current:null},om={key:!0,ref:!0,__self:!0,__source:!0};function lm(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)sm.call(t,r)&&!om.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qs,type:e,key:s,ref:o,props:i,_owner:bc.current}}function $_(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function B_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mf=/\/+/g;function Sa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B_(""+e.key):t.toString(36)}function Fo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qs:case R_:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Sa(o,0):r,Df(i)?(n="",e!=null&&(n=e.replace(Mf,"$&/")+"/"),Fo(i,t,n,"",function(u){return u})):i!=null&&(Oc(i)&&(i=$_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Df(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Sa(s,l);o+=Fo(s,t,n,a,i)}else if(a=U_(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Sa(s,l++),o+=Fo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vo(e,t,n){if(e==null)return e;var r=[],i=0;return Fo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function W_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},zo={transition:null},j_={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:zo,ReactCurrentOwner:bc};function am(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:vo,forEach:function(e,t,n){vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vo(e,function(){t++}),t},toArray:function(e){return vo(e,function(t){return t})||[]},only:function(e){if(!Oc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Pi;G.Fragment=P_;G.Profiler=O_;G.PureComponent=Rc;G.StrictMode=b_;G.Suspense=L_;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_;G.act=am;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nm({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=bc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)sm.call(t,a)&&!om.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:qs,type:e.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(e){return e={$$typeof:D_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A_,_context:e},e.Consumer=e};G.createElement=lm;G.createFactory=function(e){var t=lm.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:M_,render:e}};G.isValidElement=Oc;G.lazy=function(e){return{$$typeof:z_,_payload:{_status:-1,_result:e},_init:W_}};G.memo=function(e,t){return{$$typeof:F_,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=zo.transition;zo.transition={};try{e()}finally{zo.transition=t}};G.unstable_act=am;G.useCallback=function(e,t){return Je.current.useCallback(e,t)};G.useContext=function(e){return Je.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};G.useEffect=function(e,t){return Je.current.useEffect(e,t)};G.useId=function(){return Je.current.useId()};G.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Je.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};G.useRef=function(e){return Je.current.useRef(e)};G.useState=function(e){return Je.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Je.current.useTransition()};G.version="18.3.1";em.exports=G;var v=em.exports;const f=Zp(v);var uu={},um={exports:{}},ht={},cm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var $=P.length;P.push(F);e:for(;0<$;){var K=$-1>>>1,q=P[K];if(0<i(q,F))P[K]=F,P[$]=q,$=K;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var F=P[0],$=P.pop();if($!==F){P[0]=$;e:for(var K=0,q=P.length,X=q>>>1;K<X;){var B=2*(K+1)-1,M=P[B],D=B+1,ae=P[D];if(0>i(M,$))D<q&&0>i(ae,M)?(P[K]=ae,P[D]=$,K=D):(P[K]=M,P[B]=$,K=B);else if(D<q&&0>i(ae,$))P[K]=ae,P[D]=$,K=D;else break e}}return F}function i(P,F){var $=P.sortIndex-F.sortIndex;return $!==0?$:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,d=null,c=3,y=!1,_=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=P)r(u),F.sortIndex=F.expirationTime,t(a,F);else break;F=n(u)}}function C(P){if(E=!1,g(P),!_)if(n(a)!==null)_=!0,xe(S);else{var F=n(u);F!==null&&le(C,F.startTime-P)}}function S(P,F){_=!1,E&&(E=!1,m(R),R=-1),y=!0;var $=c;try{for(g(F),d=n(a);d!==null&&(!(d.expirationTime>F)||P&&!L());){var K=d.callback;if(typeof K=="function"){d.callback=null,c=d.priorityLevel;var q=K(d.expirationTime<=F);F=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(a)&&r(a),g(F)}else r(a);d=n(a)}if(d!==null)var X=!0;else{var B=n(u);B!==null&&le(C,B.startTime-F),X=!1}return X}finally{d=null,c=$,y=!1}}var x=!1,T=null,R=-1,A=5,I=-1;function L(){return!(e.unstable_now()-I<A)}function W(){if(T!==null){var P=e.unstable_now();I=P;var F=!0;try{F=T(!0,P)}finally{F?ne():(x=!1,T=null)}}else x=!1}var ne;if(typeof p=="function")ne=function(){p(W)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,we=Se.port2;Se.port1.onmessage=W,ne=function(){we.postMessage(null)}}else ne=function(){w(W,0)};function xe(P){T=P,x||(x=!0,ne())}function le(P,F){R=w(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){_||y||(_=!0,xe(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(c){case 1:case 2:case 3:var F=3;break;default:F=c}var $=c;c=F;try{return P()}finally{c=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=c;c=P;try{return F()}finally{c=$}},e.unstable_scheduleCallback=function(P,F,$){var K=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,P={id:h++,callback:F,priorityLevel:P,startTime:$,expirationTime:q,sortIndex:-1},$>K?(P.sortIndex=$,t(u,P),n(a)===null&&P===n(u)&&(E?(m(R),R=-1):E=!0,le(C,$-K))):(P.sortIndex=q,t(a,P),_||y||(_=!0,xe(S))),P},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(P){var F=c;return function(){var $=c;c=F;try{return P.apply(this,arguments)}finally{c=$}}}})(dm);cm.exports=dm;var H_=cm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=v,ft=H_;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fm=new Set,ws={};function Rr(e,t){mi(e,t),mi(e+"Capture",t)}function mi(e,t){for(ws[e]=t,e=0;e<t.length;e++)fm.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=Object.prototype.hasOwnProperty,G_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lf={},Ff={};function K_(e){return cu.call(Ff,e)?!0:cu.call(Lf,e)?!1:G_.test(e)?Ff[e]=!0:(Lf[e]=!0,!1)}function Q_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y_(e,t,n,r){if(t===null||typeof t>"u"||Q_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function Dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ac,Dc);$e[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ac,Dc);$e[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ac,Dc);$e[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mc(e,t,n,r){var i=$e.hasOwnProperty(t)?$e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y_(t,n,i,r)&&(n=null),r||i===null?K_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=V_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),Lc=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),hm=Symbol.for("react.provider"),pm=Symbol.for("react.context"),Fc=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),mm=Symbol.for("react.offscreen"),zf=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=zf&&e[zf]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,ka;function rs(e){if(ka===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ka=t&&t[1]||""}return`
`+ka+e}var xa=!1;function Na(e,t){if(!e||xa)return"";xa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{xa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rs(e):""}function q_(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=Na(e.type,!1),e;case 11:return e=Na(e.type.render,!1),e;case 1:return e=Na(e.type,!0),e;default:return""}}function pu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case Vr:return"Portal";case du:return"Profiler";case Lc:return"StrictMode";case fu:return"Suspense";case hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pm:return(e.displayName||"Context")+".Consumer";case hm:return(e._context.displayName||"Context")+".Provider";case Fc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zc:return t=e.displayName||null,t!==null?t:pu(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return pu(e(t))}catch{}}return null}function X_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pu(t);case 8:return t===Lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J_(e){var t=gm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _o(e){e._valueTracker||(e._valueTracker=J_(e))}function vm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mu(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ym(e,t){t=t.checked,t!=null&&Mc(e,"checked",t,!1)}function gu(e,t){ym(e,t);var n=Yn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vu(e,t.type,n):t.hasOwnProperty("defaultValue")&&vu(e,t.type,Yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $f(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vu(e,t,n){(t!=="number"||Xo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var is=Array.isArray;function ii(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(is(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yn(n)}}function _m(e,t){var n=Yn(t.value),r=Yn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Em(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _u(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Em(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,wm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z_=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(e){Z_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ls[t]=ls[e]})});function Cm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ls.hasOwnProperty(e)&&ls[e]?(""+t).trim():t+"px"}function Sm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var e0=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(e,t){if(t){if(e0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function wu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=null;function Uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Su=null,si=null,oi=null;function jf(e){if(e=Zs(e)){if(typeof Su!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Ql(t),Su(e.stateNode,e.type,t))}}function km(e){si?oi?oi.push(e):oi=[e]:si=e}function xm(){if(si){var e=si,t=oi;if(oi=si=null,jf(e),t)for(e=0;e<t.length;e++)jf(t[e])}}function Nm(e,t){return e(t)}function Tm(){}var Ta=!1;function Im(e,t,n){if(Ta)return e(t,n);Ta=!0;try{return Nm(e,t,n)}finally{Ta=!1,(si!==null||oi!==null)&&(Tm(),xm())}}function Ss(e,t){var n=e.stateNode;if(n===null)return null;var r=Ql(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var ku=!1;if(hn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){ku=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{ku=!1}function t0(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var as=!1,Jo=null,Zo=!1,xu=null,n0={onError:function(e){as=!0,Jo=e}};function r0(e,t,n,r,i,s,o,l,a){as=!1,Jo=null,t0.apply(n0,arguments)}function i0(e,t,n,r,i,s,o,l,a){if(r0.apply(this,arguments),as){if(as){var u=Jo;as=!1,Jo=null}else throw Error(k(198));Zo||(Zo=!0,xu=u)}}function Pr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hf(e){if(Pr(e)!==e)throw Error(k(188))}function s0(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hf(i),e;if(s===r)return Hf(i),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function Pm(e){return e=s0(e),e!==null?bm(e):null}function bm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bm(e);if(t!==null)return t;e=e.sibling}return null}var Om=ft.unstable_scheduleCallback,Vf=ft.unstable_cancelCallback,o0=ft.unstable_shouldYield,l0=ft.unstable_requestPaint,Ce=ft.unstable_now,a0=ft.unstable_getCurrentPriorityLevel,$c=ft.unstable_ImmediatePriority,Am=ft.unstable_UserBlockingPriority,el=ft.unstable_NormalPriority,u0=ft.unstable_LowPriority,Dm=ft.unstable_IdlePriority,Hl=null,Vt=null;function c0(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Hl,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:h0,d0=Math.log,f0=Math.LN2;function h0(e){return e>>>=0,e===0?32:31-(d0(e)/f0|0)|0}var wo=64,Co=4194304;function ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ss(l):(s&=o,s!==0&&(r=ss(s)))}else o=n&~i,o!==0?r=ss(o):s!==0&&(r=ss(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mt(t),i=1<<n,r|=e[n],t&=~i;return r}function p0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Mt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=p0(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Nu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mm(){var e=wo;return wo<<=1,!(wo&4194240)&&(wo=64),e}function Ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=n}function g0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Bc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Z=0;function Lm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fm,Wc,zm,Um,$m,Tu=!1,So=[],Fn=null,zn=null,Un=null,ks=new Map,xs=new Map,Pn=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gf(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function Gi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Zs(t),t!==null&&Wc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function y0(e,t,n,r,i){switch(t){case"focusin":return Fn=Gi(Fn,e,t,n,r,i),!0;case"dragenter":return zn=Gi(zn,e,t,n,r,i),!0;case"mouseover":return Un=Gi(Un,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ks.set(s,Gi(ks.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xs.set(s,Gi(xs.get(s)||null,e,t,n,r,i)),!0}return!1}function Bm(e){var t=fr(e.target);if(t!==null){var n=Pr(t);if(n!==null){if(t=n.tag,t===13){if(t=Rm(n),t!==null){e.blockedOn=t,$m(e.priority,function(){zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cu=r,n.target.dispatchEvent(r),Cu=null}else return t=Zs(n),t!==null&&Wc(t),e.blockedOn=n,!1;t.shift()}return!0}function Kf(e,t,n){Uo(e)&&n.delete(t)}function _0(){Tu=!1,Fn!==null&&Uo(Fn)&&(Fn=null),zn!==null&&Uo(zn)&&(zn=null),Un!==null&&Uo(Un)&&(Un=null),ks.forEach(Kf),xs.forEach(Kf)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,Tu||(Tu=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,_0)))}function Ns(e){function t(i){return Ki(i,e)}if(0<So.length){Ki(So[0],e);for(var n=1;n<So.length;n++){var r=So[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fn!==null&&Ki(Fn,e),zn!==null&&Ki(zn,e),Un!==null&&Ki(Un,e),ks.forEach(t),xs.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Bm(n),n.blockedOn===null&&Pn.shift()}var li=En.ReactCurrentBatchConfig,nl=!0;function E0(e,t,n,r){var i=Z,s=li.transition;li.transition=null;try{Z=1,jc(e,t,n,r)}finally{Z=i,li.transition=s}}function w0(e,t,n,r){var i=Z,s=li.transition;li.transition=null;try{Z=4,jc(e,t,n,r)}finally{Z=i,li.transition=s}}function jc(e,t,n,r){if(nl){var i=Iu(e,t,n,r);if(i===null)za(e,t,r,rl,n),Gf(e,r);else if(y0(i,e,t,n,r))r.stopPropagation();else if(Gf(e,r),t&4&&-1<v0.indexOf(e)){for(;i!==null;){var s=Zs(i);if(s!==null&&Fm(s),s=Iu(e,t,n,r),s===null&&za(e,t,r,rl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else za(e,t,r,null,n)}}var rl=null;function Iu(e,t,n,r){if(rl=null,e=Uc(r),e=fr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function Wm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a0()){case $c:return 1;case Am:return 4;case el:case u0:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var On=null,Hc=null,$o=null;function jm(){if($o)return $o;var e,t=Hc,n=t.length,r,i="value"in On?On.value:On.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $o=i.slice(e,1<r?1-r:void 0)}function Bo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function Qf(){return!1}function pt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ko:Qf,this.isPropagationStopped=Qf,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=pt(bi),Js=ge({},bi,{view:0,detail:0}),C0=pt(Js),Ra,Pa,Qi,Vl=ge({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(Ra=e.screenX-Qi.screenX,Pa=e.screenY-Qi.screenY):Pa=Ra=0,Qi=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Pa}}),Yf=pt(Vl),S0=ge({},Vl,{dataTransfer:0}),k0=pt(S0),x0=ge({},Js,{relatedTarget:0}),ba=pt(x0),N0=ge({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=pt(N0),I0=ge({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R0=pt(I0),P0=ge({},bi,{data:0}),qf=pt(P0),b0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A0[e])?!!t[e]:!1}function Gc(){return D0}var M0=ge({},Js,{key:function(e){if(e.key){var t=b0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?Bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L0=pt(M0),F0=ge({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xf=pt(F0),z0=ge({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),U0=pt(z0),$0=ge({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=pt($0),W0=ge({},Vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=pt(W0),H0=[9,13,27,32],Kc=hn&&"CompositionEvent"in window,us=null;hn&&"documentMode"in document&&(us=document.documentMode);var V0=hn&&"TextEvent"in window&&!us,Hm=hn&&(!Kc||us&&8<us&&11>=us),Jf=String.fromCharCode(32),Zf=!1;function Vm(e,t){switch(e){case"keyup":return H0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function G0(e,t){switch(e){case"compositionend":return Gm(t);case"keypress":return t.which!==32?null:(Zf=!0,Jf);case"textInput":return e=t.data,e===Jf&&Zf?null:e;default:return null}}function K0(e,t){if(Kr)return e==="compositionend"||!Kc&&Vm(e,t)?(e=jm(),$o=Hc=On=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hm&&t.locale!=="ko"?null:t.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q0[e.type]:t==="textarea"}function Km(e,t,n,r){km(r),t=il(t,"onChange"),0<t.length&&(n=new Vc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cs=null,Ts=null;function Y0(e){ig(e,0)}function Gl(e){var t=qr(e);if(vm(t))return e}function q0(e,t){if(e==="change")return t}var Qm=!1;if(hn){var Oa;if(hn){var Aa="oninput"in document;if(!Aa){var th=document.createElement("div");th.setAttribute("oninput","return;"),Aa=typeof th.oninput=="function"}Oa=Aa}else Oa=!1;Qm=Oa&&(!document.documentMode||9<document.documentMode)}function nh(){cs&&(cs.detachEvent("onpropertychange",Ym),Ts=cs=null)}function Ym(e){if(e.propertyName==="value"&&Gl(Ts)){var t=[];Km(t,Ts,e,Uc(e)),Im(Y0,t)}}function X0(e,t,n){e==="focusin"?(nh(),cs=t,Ts=n,cs.attachEvent("onpropertychange",Ym)):e==="focusout"&&nh()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Ts)}function Z0(e,t){if(e==="click")return Gl(t)}function e1(e,t){if(e==="input"||e==="change")return Gl(t)}function t1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:t1;function Is(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cu.call(t,i)||!zt(e[i],t[i]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var n=rh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rh(n)}}function qm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xm(){for(var e=window,t=Xo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xo(e.document)}return t}function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n1(e){var t=Xm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qm(n.ownerDocument.documentElement,n)){if(r!==null&&Qc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ih(n,s);var o=ih(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r1=hn&&"documentMode"in document&&11>=document.documentMode,Qr=null,Ru=null,ds=null,Pu=!1;function sh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pu||Qr==null||Qr!==Xo(r)||(r=Qr,"selectionStart"in r&&Qc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ds&&Is(ds,r)||(ds=r,r=il(Ru,"onSelect"),0<r.length&&(t=new Vc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qr)))}function xo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},Da={},Jm={};hn&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Kl(e){if(Da[e])return Da[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jm)return Da[e]=t[n];return e}var Zm=Kl("animationend"),eg=Kl("animationiteration"),tg=Kl("animationstart"),ng=Kl("transitionend"),rg=new Map,oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){rg.set(e,t),Rr(t,[e])}for(var Ma=0;Ma<oh.length;Ma++){var La=oh[Ma],i1=La.toLowerCase(),s1=La[0].toUpperCase()+La.slice(1);tr(i1,"on"+s1)}tr(Zm,"onAnimationEnd");tr(eg,"onAnimationIteration");tr(tg,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(ng,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function lh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,i0(r,t,void 0,e),e.currentTarget=null}function ig(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;lh(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;lh(i,l,u),s=a}}}if(Zo)throw e=xu,Zo=!1,xu=null,e}function ue(e,t){var n=t[Mu];n===void 0&&(n=t[Mu]=new Set);var r=e+"__bubble";n.has(r)||(sg(t,e,2,!1),n.add(r))}function Fa(e,t,n){var r=0;t&&(r|=4),sg(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[No]){e[No]=!0,fm.forEach(function(n){n!=="selectionchange"&&(o1.has(n)||Fa(n,!1,e),Fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,Fa("selectionchange",!1,t))}}function sg(e,t,n,r){switch(Wm(t)){case 1:var i=E0;break;case 4:i=w0;break;default:i=jc}n=i.bind(null,t,n,e),i=void 0,!ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function za(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Im(function(){var u=s,h=Uc(n),d=[];e:{var c=rg.get(e);if(c!==void 0){var y=Vc,_=e;switch(e){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":y=L0;break;case"focusin":_="focus",y=ba;break;case"focusout":_="blur",y=ba;break;case"beforeblur":case"afterblur":y=ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=k0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=U0;break;case Zm:case eg:case tg:y=T0;break;case ng:y=B0;break;case"scroll":y=C0;break;case"wheel":y=j0;break;case"copy":case"cut":case"paste":y=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xf}var E=(t&4)!==0,w=!E&&e==="scroll",m=E?c!==null?c+"Capture":null:c;E=[];for(var p=u,g;p!==null;){g=p;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,m!==null&&(C=Ss(p,m),C!=null&&E.push(Ps(p,C,g)))),w)break;p=p.return}0<E.length&&(c=new y(c,_,null,n,h),d.push({event:c,listeners:E}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",c&&n!==Cu&&(_=n.relatedTarget||n.fromElement)&&(fr(_)||_[pn]))break e;if((y||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=u,_=_?fr(_):null,_!==null&&(w=Pr(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(E=Yf,C="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(E=Xf,C="onPointerLeave",m="onPointerEnter",p="pointer"),w=y==null?c:qr(y),g=_==null?c:qr(_),c=new E(C,p+"leave",y,n,h),c.target=w,c.relatedTarget=g,C=null,fr(h)===u&&(E=new E(m,p+"enter",_,n,h),E.target=g,E.relatedTarget=w,C=E),w=C,y&&_)t:{for(E=y,m=_,p=0,g=E;g;g=jr(g))p++;for(g=0,C=m;C;C=jr(C))g++;for(;0<p-g;)E=jr(E),p--;for(;0<g-p;)m=jr(m),g--;for(;p--;){if(E===m||m!==null&&E===m.alternate)break t;E=jr(E),m=jr(m)}E=null}else E=null;y!==null&&ah(d,c,y,E,!1),_!==null&&w!==null&&ah(d,w,_,E,!0)}}e:{if(c=u?qr(u):window,y=c.nodeName&&c.nodeName.toLowerCase(),y==="select"||y==="input"&&c.type==="file")var S=q0;else if(eh(c))if(Qm)S=e1;else{S=J0;var x=X0}else(y=c.nodeName)&&y.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(S=Z0);if(S&&(S=S(e,u))){Km(d,S,n,h);break e}x&&x(e,c,u),e==="focusout"&&(x=c._wrapperState)&&x.controlled&&c.type==="number"&&vu(c,"number",c.value)}switch(x=u?qr(u):window,e){case"focusin":(eh(x)||x.contentEditable==="true")&&(Qr=x,Ru=u,ds=null);break;case"focusout":ds=Ru=Qr=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,sh(d,n,h);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":sh(d,n,h)}var T;if(Kc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Kr?Vm(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Hm&&n.locale!=="ko"&&(Kr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Kr&&(T=jm()):(On=h,Hc="value"in On?On.value:On.textContent,Kr=!0)),x=il(u,R),0<x.length&&(R=new qf(R,e,null,n,h),d.push({event:R,listeners:x}),T?R.data=T:(T=Gm(n),T!==null&&(R.data=T)))),(T=V0?G0(e,n):K0(e,n))&&(u=il(u,"onBeforeInput"),0<u.length&&(h=new qf("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=T))}ig(d,t)})}function Ps(e,t,n){return{instance:e,listener:t,currentTarget:n}}function il(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ss(e,n),s!=null&&r.unshift(Ps(e,s,i)),s=Ss(e,t),s!=null&&r.push(Ps(e,s,i))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ah(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ss(n,s),a!=null&&o.unshift(Ps(n,a,l))):i||(a=Ss(n,s),a!=null&&o.push(Ps(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var l1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function uh(e){return(typeof e=="string"?e:""+e).replace(l1,`
`).replace(a1,"")}function To(e,t,n){if(t=uh(t),uh(e)!==t&&n)throw Error(k(425))}function sl(){}var bu=null,Ou=null;function Au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(d1)}:Du;function d1(e){setTimeout(function(){throw e})}function Ua(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ns(t)}function $n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Oi,bs="__reactProps$"+Oi,pn="__reactContainer$"+Oi,Mu="__reactEvents$"+Oi,f1="__reactListeners$"+Oi,h1="__reactHandles$"+Oi;function fr(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dh(e);e!==null;){if(n=e[Ht])return n;e=dh(e)}return t}e=n,n=e.parentNode}return null}function Zs(e){return e=e[Ht]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Ql(e){return e[bs]||null}var Lu=[],Xr=-1;function nr(e){return{current:e}}function ce(e){0>Xr||(e.current=Lu[Xr],Lu[Xr]=null,Xr--)}function oe(e,t){Xr++,Lu[Xr]=e.current,e.current=t}var qn={},Ge=nr(qn),st=nr(!1),Er=qn;function gi(e,t){var n=e.type.contextTypes;if(!n)return qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ot(e){return e=e.childContextTypes,e!=null}function ol(){ce(st),ce(Ge)}function fh(e,t,n){if(Ge.current!==qn)throw Error(k(168));oe(Ge,t),oe(st,n)}function og(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(k(108,X_(e)||"Unknown",i));return ge({},n,r)}function ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,Er=Ge.current,oe(Ge,e),oe(st,st.current),!0}function hh(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=og(e,t,Er),r.__reactInternalMemoizedMergedChildContext=e,ce(st),ce(Ge),oe(Ge,e)):ce(st),oe(st,n)}var sn=null,Yl=!1,$a=!1;function lg(e){sn===null?sn=[e]:sn.push(e)}function p1(e){Yl=!0,lg(e)}function rr(){if(!$a&&sn!==null){$a=!0;var e=0,t=Z;try{var n=sn;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,Yl=!1}catch(i){throw sn!==null&&(sn=sn.slice(e+1)),Om($c,rr),i}finally{Z=t,$a=!1}}return null}var Jr=[],Zr=0,al=null,ul=0,vt=[],yt=0,wr=null,ln=1,an="";function lr(e,t){Jr[Zr++]=ul,Jr[Zr++]=al,al=e,ul=t}function ag(e,t,n){vt[yt++]=ln,vt[yt++]=an,vt[yt++]=wr,wr=e;var r=ln;e=an;var i=32-Mt(r)-1;r&=~(1<<i),n+=1;var s=32-Mt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ln=1<<32-Mt(t)+i|n<<i|r,an=s+e}else ln=1<<s|n<<i|r,an=e}function Yc(e){e.return!==null&&(lr(e,1),ag(e,1,0))}function qc(e){for(;e===al;)al=Jr[--Zr],Jr[Zr]=null,ul=Jr[--Zr],Jr[Zr]=null;for(;e===wr;)wr=vt[--yt],vt[yt]=null,an=vt[--yt],vt[yt]=null,ln=vt[--yt],vt[yt]=null}var dt=null,ct=null,de=!1,Ot=null;function ug(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ph(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=$n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wr!==null?{id:ln,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dt=e,ct=null,!0):!1;default:return!1}}function Fu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zu(e){if(de){var t=ct;if(t){var n=t;if(!ph(e,t)){if(Fu(e))throw Error(k(418));t=$n(n.nextSibling);var r=dt;t&&ph(e,t)?ug(r,n):(e.flags=e.flags&-4097|2,de=!1,dt=e)}}else{if(Fu(e))throw Error(k(418));e.flags=e.flags&-4097|2,de=!1,dt=e}}}function mh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function Io(e){if(e!==dt)return!1;if(!de)return mh(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Au(e.type,e.memoizedProps)),t&&(t=ct)){if(Fu(e))throw cg(),Error(k(418));for(;t;)ug(e,t),t=$n(t.nextSibling)}if(mh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=$n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?$n(e.stateNode.nextSibling):null;return!0}function cg(){for(var e=ct;e;)e=$n(e.nextSibling)}function vi(){ct=dt=null,de=!1}function Xc(e){Ot===null?Ot=[e]:Ot.push(e)}var m1=En.ReactCurrentBatchConfig;function Yi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function Ro(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gh(e){var t=e._init;return t(e._payload)}function dg(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Hn(m,p),m.index=0,m.sibling=null,m}function s(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,C){return p===null||p.tag!==6?(p=Ka(g,m.mode,C),p.return=m,p):(p=i(p,g),p.return=m,p)}function a(m,p,g,C){var S=g.type;return S===Gr?h(m,p,g.props.children,C,g.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===In&&gh(S)===p.type)?(C=i(p,g.props),C.ref=Yi(m,p,g),C.return=m,C):(C=Qo(g.type,g.key,g.props,null,m.mode,C),C.ref=Yi(m,p,g),C.return=m,C)}function u(m,p,g,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Qa(g,m.mode,C),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function h(m,p,g,C,S){return p===null||p.tag!==7?(p=yr(g,m.mode,C,S),p.return=m,p):(p=i(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ka(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case yo:return g=Qo(p.type,p.key,p.props,null,m.mode,g),g.ref=Yi(m,null,p),g.return=m,g;case Vr:return p=Qa(p,m.mode,g),p.return=m,p;case In:var C=p._init;return d(m,C(p._payload),g)}if(is(p)||Hi(p))return p=yr(p,m.mode,g,null),p.return=m,p;Ro(m,p)}return null}function c(m,p,g,C){var S=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(m,p,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yo:return g.key===S?a(m,p,g,C):null;case Vr:return g.key===S?u(m,p,g,C):null;case In:return S=g._init,c(m,p,S(g._payload),C)}if(is(g)||Hi(g))return S!==null?null:h(m,p,g,C,null);Ro(m,g)}return null}function y(m,p,g,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(g)||null,l(p,m,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yo:return m=m.get(C.key===null?g:C.key)||null,a(p,m,C,S);case Vr:return m=m.get(C.key===null?g:C.key)||null,u(p,m,C,S);case In:var x=C._init;return y(m,p,g,x(C._payload),S)}if(is(C)||Hi(C))return m=m.get(g)||null,h(p,m,C,S,null);Ro(p,C)}return null}function _(m,p,g,C){for(var S=null,x=null,T=p,R=p=0,A=null;T!==null&&R<g.length;R++){T.index>R?(A=T,T=null):A=T.sibling;var I=c(m,T,g[R],C);if(I===null){T===null&&(T=A);break}e&&T&&I.alternate===null&&t(m,T),p=s(I,p,R),x===null?S=I:x.sibling=I,x=I,T=A}if(R===g.length)return n(m,T),de&&lr(m,R),S;if(T===null){for(;R<g.length;R++)T=d(m,g[R],C),T!==null&&(p=s(T,p,R),x===null?S=T:x.sibling=T,x=T);return de&&lr(m,R),S}for(T=r(m,T);R<g.length;R++)A=y(T,m,R,g[R],C),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?R:A.key),p=s(A,p,R),x===null?S=A:x.sibling=A,x=A);return e&&T.forEach(function(L){return t(m,L)}),de&&lr(m,R),S}function E(m,p,g,C){var S=Hi(g);if(typeof S!="function")throw Error(k(150));if(g=S.call(g),g==null)throw Error(k(151));for(var x=S=null,T=p,R=p=0,A=null,I=g.next();T!==null&&!I.done;R++,I=g.next()){T.index>R?(A=T,T=null):A=T.sibling;var L=c(m,T,I.value,C);if(L===null){T===null&&(T=A);break}e&&T&&L.alternate===null&&t(m,T),p=s(L,p,R),x===null?S=L:x.sibling=L,x=L,T=A}if(I.done)return n(m,T),de&&lr(m,R),S;if(T===null){for(;!I.done;R++,I=g.next())I=d(m,I.value,C),I!==null&&(p=s(I,p,R),x===null?S=I:x.sibling=I,x=I);return de&&lr(m,R),S}for(T=r(m,T);!I.done;R++,I=g.next())I=y(T,m,R,I.value,C),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?R:I.key),p=s(I,p,R),x===null?S=I:x.sibling=I,x=I);return e&&T.forEach(function(W){return t(m,W)}),de&&lr(m,R),S}function w(m,p,g,C){if(typeof g=="object"&&g!==null&&g.type===Gr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case yo:e:{for(var S=g.key,x=p;x!==null;){if(x.key===S){if(S=g.type,S===Gr){if(x.tag===7){n(m,x.sibling),p=i(x,g.props.children),p.return=m,m=p;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===In&&gh(S)===x.type){n(m,x.sibling),p=i(x,g.props),p.ref=Yi(m,x,g),p.return=m,m=p;break e}n(m,x);break}else t(m,x);x=x.sibling}g.type===Gr?(p=yr(g.props.children,m.mode,C,g.key),p.return=m,m=p):(C=Qo(g.type,g.key,g.props,null,m.mode,C),C.ref=Yi(m,p,g),C.return=m,m=C)}return o(m);case Vr:e:{for(x=g.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=Qa(g,m.mode,C),p.return=m,m=p}return o(m);case In:return x=g._init,w(m,p,x(g._payload),C)}if(is(g))return _(m,p,g,C);if(Hi(g))return E(m,p,g,C);Ro(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=Ka(g,m.mode,C),p.return=m,m=p),o(m)):n(m,p)}return w}var yi=dg(!0),fg=dg(!1),cl=nr(null),dl=null,ei=null,Jc=null;function Zc(){Jc=ei=dl=null}function ed(e){var t=cl.current;ce(cl),e._currentValue=t}function Uu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ai(e,t){dl=e,Jc=ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Jc!==e)if(e={context:e,memoizedValue:t,next:null},ei===null){if(dl===null)throw Error(k(308));ei=e,dl.dependencies={lanes:0,firstContext:e}}else ei=ei.next=e;return t}var hr=null;function td(e){hr===null?hr=[e]:hr.push(e)}function hg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,td(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,td(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function Wo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bc(e,n)}}function vh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fl(e,t,n,r){var i=e.updateQueue;Rn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,h=u=a=null,l=s;do{var c=l.lane,y=l.eventTime;if((r&c)===c){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,E=l;switch(c=t,y=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){d=_.call(y,d,c);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,c=typeof _=="function"?_.call(y,d,c):_,c==null)break e;d=ge({},d,c);break e;case 2:Rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else y={eventTime:y,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,a=d):h=h.next=y,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Sr|=o,e.lanes=o,e.memoizedState=d}}function yh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var eo={},Gt=nr(eo),Os=nr(eo),As=nr(eo);function pr(e){if(e===eo)throw Error(k(174));return e}function rd(e,t){switch(oe(As,t),oe(Os,e),oe(Gt,eo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_u(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_u(t,e)}ce(Gt),oe(Gt,t)}function _i(){ce(Gt),ce(Os),ce(As)}function mg(e){pr(As.current);var t=pr(Gt.current),n=_u(t,e.type);t!==n&&(oe(Os,e),oe(Gt,n))}function id(e){Os.current===e&&(ce(Gt),ce(Os))}var pe=nr(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function sd(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var jo=En.ReactCurrentDispatcher,Wa=En.ReactCurrentBatchConfig,Cr=0,me=null,Te=null,Ae=null,pl=!1,fs=!1,Ds=0,g1=0;function We(){throw Error(k(321))}function od(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zt(e[n],t[n]))return!1;return!0}function ld(e,t,n,r,i,s){if(Cr=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?E1:w1,e=n(r,i),fs){s=0;do{if(fs=!1,Ds=0,25<=s)throw Error(k(301));s+=1,Ae=Te=null,t.updateQueue=null,jo.current=C1,e=n(r,i)}while(fs)}if(jo.current=ml,t=Te!==null&&Te.next!==null,Cr=0,Ae=Te=me=null,pl=!1,t)throw Error(k(300));return e}function ad(){var e=Ds!==0;return Ds=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?me.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function kt(){if(Te===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ae===null?me.memoizedState:Ae.next;if(t!==null)Ae=t,Te=e;else{if(e===null)throw Error(k(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ae===null?me.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ms(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=kt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=Te,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var h=u.lane;if((Cr&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,me.lanes|=h,Sr|=h}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,zt(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,me.lanes|=s,Sr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ha(e){var t=kt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);zt(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function gg(){}function vg(e,t){var n=me,r=kt(),i=t(),s=!zt(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,ud(Eg.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Ls(9,_g.bind(null,n,r,i,t),void 0,null),Me===null)throw Error(k(349));Cr&30||yg(n,t,i)}return i}function yg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _g(e,t,n,r){t.value=n,t.getSnapshot=r,wg(t)&&Cg(e)}function Eg(e,t,n){return n(function(){wg(t)&&Cg(e)})}function wg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zt(e,n)}catch{return!0}}function Cg(e){var t=mn(e,1);t!==null&&Lt(t,e,1,-1)}function _h(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:e},t.queue=e,e=e.dispatch=_1.bind(null,me,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sg(){return kt().memoizedState}function Ho(e,t,n,r){var i=jt();me.flags|=e,i.memoizedState=Ls(1|t,n,void 0,r===void 0?null:r)}function ql(e,t,n,r){var i=kt();r=r===void 0?null:r;var s=void 0;if(Te!==null){var o=Te.memoizedState;if(s=o.destroy,r!==null&&od(r,o.deps)){i.memoizedState=Ls(t,n,s,r);return}}me.flags|=e,i.memoizedState=Ls(1|t,n,s,r)}function Eh(e,t){return Ho(8390656,8,e,t)}function ud(e,t){return ql(2048,8,e,t)}function kg(e,t){return ql(4,2,e,t)}function xg(e,t){return ql(4,4,e,t)}function Ng(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tg(e,t,n){return n=n!=null?n.concat([e]):null,ql(4,4,Ng.bind(null,t,e),n)}function cd(){}function Ig(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&od(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rg(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&od(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pg(e,t,n){return Cr&21?(zt(n,t)||(n=Mm(),me.lanes|=n,Sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function v1(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=Wa.transition;Wa.transition={};try{e(!1),t()}finally{Z=n,Wa.transition=r}}function bg(){return kt().memoizedState}function y1(e,t,n){var r=jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Og(e))Ag(t,n);else if(n=hg(e,t,n,r),n!==null){var i=qe();Lt(n,e,r,i),Dg(n,t,r)}}function _1(e,t,n){var r=jn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Og(e))Ag(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,zt(l,o)){var a=t.interleaved;a===null?(i.next=i,td(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=hg(e,t,i,r),n!==null&&(i=qe(),Lt(n,e,r,i),Dg(n,t,r))}}function Og(e){var t=e.alternate;return e===me||t!==null&&t===me}function Ag(e,t){fs=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bc(e,n)}}var ml={readContext:St,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},E1={readContext:St,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Eh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4194308,4,Ng.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=y1.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:_h,useDebugValue:cd,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=_h(!1),t=e[0];return e=v1.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,i=jt();if(de){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),Me===null)throw Error(k(349));Cr&30||yg(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Eh(Eg.bind(null,r,s,e),[e]),r.flags|=2048,Ls(9,_g.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=jt(),t=Me.identifierPrefix;if(de){var n=an,r=ln;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ds++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=g1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w1={readContext:St,useCallback:Ig,useContext:St,useEffect:ud,useImperativeHandle:Tg,useInsertionEffect:kg,useLayoutEffect:xg,useMemo:Rg,useReducer:ja,useRef:Sg,useState:function(){return ja(Ms)},useDebugValue:cd,useDeferredValue:function(e){var t=kt();return Pg(t,Te.memoizedState,e)},useTransition:function(){var e=ja(Ms)[0],t=kt().memoizedState;return[e,t]},useMutableSource:gg,useSyncExternalStore:vg,useId:bg,unstable_isNewReconciler:!1},C1={readContext:St,useCallback:Ig,useContext:St,useEffect:ud,useImperativeHandle:Tg,useInsertionEffect:kg,useLayoutEffect:xg,useMemo:Rg,useReducer:Ha,useRef:Sg,useState:function(){return Ha(Ms)},useDebugValue:cd,useDeferredValue:function(e){var t=kt();return Te===null?t.memoizedState=e:Pg(t,Te.memoizedState,e)},useTransition:function(){var e=Ha(Ms)[0],t=kt().memoizedState;return[e,t]},useMutableSource:gg,useSyncExternalStore:vg,useId:bg,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $u(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xl={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),i=jn(e),s=cn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Bn(e,s,i),t!==null&&(Lt(t,e,i,r),Wo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),i=jn(e),s=cn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Bn(e,s,i),t!==null&&(Lt(t,e,i,r),Wo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=jn(e),i=cn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bn(e,i,r),t!==null&&(Lt(t,e,r,n),Wo(t,e,r))}};function wh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Is(n,r)||!Is(i,s):!0}function Mg(e,t,n){var r=!1,i=qn,s=t.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=ot(t)?Er:Ge.current,r=t.contextTypes,s=(r=r!=null)?gi(e,i):qn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ch(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xl.enqueueReplaceState(t,t.state,null)}function Bu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},nd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=ot(t)?Er:Ge.current,i.context=gi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&($u(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Xl.enqueueReplaceState(i,i.state,null),fl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ei(e,t){try{var n="",r=t;do n+=q_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Va(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var S1=typeof WeakMap=="function"?WeakMap:Map;function Lg(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vl||(vl=!0,Ju=r),Wu(e,t)},n}function Fg(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wu(e,t),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Sh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new S1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=F1.bind(null,e,t,n),t.then(e,e))}function kh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Bn(n,t,1))),n.lanes|=1),e)}var k1=En.ReactCurrentOwner,rt=!1;function Qe(e,t,n,r){t.child=e===null?fg(t,null,n,r):yi(t,e.child,n,r)}function Nh(e,t,n,r,i){n=n.render;var s=t.ref;return ai(t,i),r=ld(e,t,n,r,s,i),n=ad(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(de&&n&&Yc(t),t.flags|=1,Qe(e,t,r,i),t.child)}function Th(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!yd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,zg(e,t,s,r,i)):(e=Qo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Is,n(o,r)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=Hn(s,r),e.ref=t.ref,e.return=t,t.child=e}function zg(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Is(s,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,gn(e,t,i)}return ju(e,t,n,r,i)}function Ug(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(ni,ut),ut|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(ni,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(ni,ut),ut|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,oe(ni,ut),ut|=r;return Qe(e,t,i,n),t.child}function $g(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ju(e,t,n,r,i){var s=ot(n)?Er:Ge.current;return s=gi(t,s),ai(t,i),n=ld(e,t,n,r,s,i),r=ad(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(de&&r&&Yc(t),t.flags|=1,Qe(e,t,n,i),t.child)}function Ih(e,t,n,r,i){if(ot(n)){var s=!0;ll(t)}else s=!1;if(ai(t,i),t.stateNode===null)Vo(e,t),Mg(t,n,r),Bu(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=St(u):(u=ot(n)?Er:Ge.current,u=gi(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ch(t,o,r,u),Rn=!1;var c=t.memoizedState;o.state=c,fl(t,r,o,i),a=t.memoizedState,l!==r||c!==a||st.current||Rn?(typeof h=="function"&&($u(t,n,h,r),a=t.memoizedState),(l=Rn||wh(t,n,l,r,c,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,pg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Pt(t.type,l),o.props=u,d=t.pendingProps,c=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=St(a):(a=ot(n)?Er:Ge.current,a=gi(t,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||c!==a)&&Ch(t,o,r,a),Rn=!1,c=t.memoizedState,o.state=c,fl(t,r,o,i);var _=t.memoizedState;l!==d||c!==_||st.current||Rn?(typeof y=="function"&&($u(t,n,y,r),_=t.memoizedState),(u=Rn||wh(t,n,u,r,c,_,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Hu(e,t,n,r,s,i)}function Hu(e,t,n,r,i,s){$g(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&hh(t,n,!1),gn(e,t,s);r=t.stateNode,k1.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=yi(t,e.child,null,s),t.child=yi(t,null,l,s)):Qe(e,t,l,s),t.memoizedState=r.state,i&&hh(t,n,!0),t.child}function Bg(e){var t=e.stateNode;t.pendingContext?fh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fh(e,t.context,!1),rd(e,t.containerInfo)}function Rh(e,t,n,r,i){return vi(),Xc(i),t.flags|=256,Qe(e,t,n,r),t.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wg(e,t,n){var r=t.pendingProps,i=pe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),oe(pe,i&1),e===null)return zu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ea(o,r,0,null),e=yr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Gu(n),t.memoizedState=Vu,e):dd(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return x1(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Hn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Hn(l,s):(s=yr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Gu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Vu,r}return s=e.child,e=s.sibling,r=Hn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dd(e,t){return t=ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Po(e,t,n,r){return r!==null&&Xc(r),yi(t,e.child,null,n),e=dd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x1(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Va(Error(k(422))),Po(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ea({mode:"visible",children:r.children},i,0,null),s=yr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&yi(t,e.child,null,o),t.child.memoizedState=Gu(o),t.memoizedState=Vu,s);if(!(t.mode&1))return Po(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(k(419)),r=Va(s,r,void 0),Po(e,t,o,r)}if(l=(o&e.childLanes)!==0,rt||l){if(r=Me,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mn(e,i),Lt(r,e,i,-1))}return vd(),r=Va(Error(k(421))),Po(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=z1.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ct=$n(i.nextSibling),dt=t,de=!0,Ot=null,e!==null&&(vt[yt++]=ln,vt[yt++]=an,vt[yt++]=wr,ln=e.id,an=e.overflow,wr=t),t=dd(t,r.children),t.flags|=4096,t)}function Ph(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Uu(e.return,t,n)}function Ga(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Qe(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,n,t);else if(e.tag===19)Ph(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(pe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,s);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function N1(e,t,n){switch(t.tag){case 3:Bg(t),vi();break;case 5:mg(t);break;case 1:ot(t.type)&&ll(t);break;case 4:rd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;oe(cl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Wg(e,t,n):(oe(pe,pe.current&1),e=gn(e,t,n),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Ug(e,t,n)}return gn(e,t,n)}var Hg,Ku,Vg,Gg;Hg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ku=function(){};Vg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,pr(Gt.current);var s=null;switch(n){case"input":i=mu(e,i),r=mu(e,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=yu(e,i),r=yu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sl)}Eu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ws.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ws.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Gg=function(e,t,n,r){n!==r&&(t.flags|=4)};function qi(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function T1(e,t,n){var r=t.pendingProps;switch(qc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return ot(t.type)&&ol(),je(t),null;case 3:return r=t.stateNode,_i(),ce(st),ce(Ge),sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(tc(Ot),Ot=null))),Ku(e,t),je(t),null;case 5:id(t);var i=pr(As.current);if(n=t.type,e!==null&&t.stateNode!=null)Vg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return je(t),null}if(e=pr(Gt.current),Io(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ht]=t,r[bs]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<os.length;i++)ue(os[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Uf(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Bf(r,s),ue("invalid",r)}Eu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&To(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&To(r.textContent,l,e),i=["children",""+l]):ws.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":_o(r),$f(r,s,!0);break;case"textarea":_o(r),Wf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Em(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ht]=t,e[bs]=r,Hg(e,t,!1,!1),t.stateNode=e;e:{switch(o=wu(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<os.length;i++)ue(os[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":Uf(e,r),i=mu(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Bf(e,r),i=yu(e,r),ue("invalid",e);break;default:i=r}Eu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Sm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&wm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cs(e,a):typeof a=="number"&&Cs(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ws.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&Mc(e,s,a,o))}switch(n){case"input":_o(e),$f(e,r,!1);break;case"textarea":_o(e),Wf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ii(e,!!r.multiple,s,!1):r.defaultValue!=null&&ii(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Gg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=pr(As.current),pr(Gt.current),Io(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(s=r.nodeValue!==n)&&(e=dt,e!==null))switch(e.tag){case 3:To(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&To(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return je(t),null;case 13:if(ce(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&ct!==null&&t.mode&1&&!(t.flags&128))cg(),vi(),t.flags|=98560,s=!1;else if(s=Io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[Ht]=t}else vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),s=!1}else Ot!==null&&(tc(Ot),Ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Pe===0&&(Pe=3):vd())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return _i(),Ku(e,t),e===null&&Rs(t.stateNode.containerInfo),je(t),null;case 10:return ed(t.type._context),je(t),null;case 17:return ot(t.type)&&ol(),je(t),null;case 19:if(ce(pe),s=t.memoizedState,s===null)return je(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)qi(s,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hl(e),o!==null){for(t.flags|=128,qi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ce()>wi&&(t.flags|=128,r=!0,qi(s,!1),t.lanes=4194304)}else{if(!r)if(e=hl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!de)return je(t),null}else 2*Ce()-s.renderingStartTime>wi&&n!==1073741824&&(t.flags|=128,r=!0,qi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ce(),t.sibling=null,n=pe.current,oe(pe,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return gd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function I1(e,t){switch(qc(t),t.tag){case 1:return ot(t.type)&&ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _i(),ce(st),ce(Ge),sd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return id(t),null;case 13:if(ce(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(pe),null;case 4:return _i(),null;case 10:return ed(t.type._context),null;case 22:case 23:return gd(),null;case 24:return null;default:return null}}var bo=!1,He=!1,R1=typeof WeakSet=="function"?WeakSet:Set,O=null;function ti(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Qu(e,t,n){try{n()}catch(r){ye(e,t,r)}}var bh=!1;function P1(e,t){if(bu=nl,e=Xm(),Qc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,d=e,c=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)c=d,d=y;for(;;){if(d===e)break t;if(c===n&&++u===i&&(l=o),c===s&&++h===r&&(a=o),(y=d.nextSibling)!==null)break;d=c,c=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ou={focusedElem:e,selectionRange:n},nl=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,w=_.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?E:Pt(t.type,E),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(C){ye(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return _=bh,bh=!1,_}function hs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qu(t,n,s)}i=i.next}while(i!==r)}}function Jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Kg(e){var t=e.alternate;t!==null&&(e.alternate=null,Kg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[bs],delete t[Mu],delete t[f1],delete t[h1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qg(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sl));else if(r!==4&&(e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function Xu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xu(e,t,n),e=e.sibling;e!==null;)Xu(e,t,n),e=e.sibling}var Le=null,bt=!1;function Tn(e,t,n){for(n=n.child;n!==null;)Yg(e,t,n),n=n.sibling}function Yg(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Hl,n)}catch{}switch(n.tag){case 5:He||ti(n,t);case 6:var r=Le,i=bt;Le=null,Tn(e,t,n),Le=r,bt=i,Le!==null&&(bt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(bt?(e=Le,n=n.stateNode,e.nodeType===8?Ua(e.parentNode,n):e.nodeType===1&&Ua(e,n),Ns(e)):Ua(Le,n.stateNode));break;case 4:r=Le,i=bt,Le=n.stateNode.containerInfo,bt=!0,Tn(e,t,n),Le=r,bt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qu(n,t,o),i=i.next}while(i!==r)}Tn(e,t,n);break;case 1:if(!He&&(ti(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Tn(e,t,n),He=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function Ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new R1),t.forEach(function(r){var i=U1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,bt=!1;break e;case 3:Le=l.stateNode.containerInfo,bt=!0;break e;case 4:Le=l.stateNode.containerInfo,bt=!0;break e}l=l.return}if(Le===null)throw Error(k(160));Yg(s,o,i),Le=null,bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qg(t,e),t=t.sibling}function qg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Wt(e),r&4){try{hs(3,e,e.return),Jl(3,e)}catch(E){ye(e,e.return,E)}try{hs(5,e,e.return)}catch(E){ye(e,e.return,E)}}break;case 1:Rt(t,e),Wt(e),r&512&&n!==null&&ti(n,n.return);break;case 5:if(Rt(t,e),Wt(e),r&512&&n!==null&&ti(n,n.return),e.flags&32){var i=e.stateNode;try{Cs(i,"")}catch(E){ye(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ym(i,s),wu(l,o);var u=wu(l,s);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?Sm(i,d):h==="dangerouslySetInnerHTML"?wm(i,d):h==="children"?Cs(i,d):Mc(i,h,d,u)}switch(l){case"input":gu(i,s);break;case"textarea":_m(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ii(i,!!s.multiple,y,!1):c!==!!s.multiple&&(s.defaultValue!=null?ii(i,!!s.multiple,s.defaultValue,!0):ii(i,!!s.multiple,s.multiple?[]:"",!1))}i[bs]=s}catch(E){ye(e,e.return,E)}}break;case 6:if(Rt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){ye(e,e.return,E)}}break;case 3:if(Rt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(E){ye(e,e.return,E)}break;case 4:Rt(t,e),Wt(e);break;case 13:Rt(t,e),Wt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pd=Ce())),r&4&&Ah(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||h,Rt(t,e),He=u):Rt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(O=e,h=e.child;h!==null;){for(d=O=h;O!==null;){switch(c=O,y=c.child,c.tag){case 0:case 11:case 14:case 15:hs(4,c,c.return);break;case 1:ti(c,c.return);var _=c.stateNode;if(typeof _.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){ye(r,n,E)}}break;case 5:ti(c,c.return);break;case 22:if(c.memoizedState!==null){Mh(d);continue}}y!==null?(y.return=c,O=y):Mh(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Cm("display",o))}catch(E){ye(e,e.return,E)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){ye(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rt(t,e),Wt(e),r&4&&Ah(e);break;case 21:break;default:Rt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qg(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cs(i,""),r.flags&=-33);var s=Oh(e);Xu(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Oh(e);qu(e,l,o);break;default:throw Error(k(161))}}catch(a){ye(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b1(e,t,n){O=e,Xg(e)}function Xg(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bo;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||He;l=bo;var u=He;if(bo=o,(He=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Lh(i):a!==null?(a.return=o,O=a):Lh(i);for(;s!==null;)O=s,Xg(s),s=s.sibling;O=i,bo=l,He=u}Dh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Dh(e)}}function Dh(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Jl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&yh(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ns(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}He||t.flags&512&&Yu(t)}catch(c){ye(t,t.return,c)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Mh(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Lh(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jl(4,t)}catch(a){ye(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ye(t,i,a)}}var s=t.return;try{Yu(t)}catch(a){ye(t,s,a)}break;case 5:var o=t.return;try{Yu(t)}catch(a){ye(t,o,a)}}}catch(a){ye(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var O1=Math.ceil,gl=En.ReactCurrentDispatcher,fd=En.ReactCurrentOwner,Ct=En.ReactCurrentBatchConfig,Q=0,Me=null,ke=null,Ue=0,ut=0,ni=nr(0),Pe=0,Fs=null,Sr=0,Zl=0,hd=0,ps=null,nt=null,pd=0,wi=1/0,rn=null,vl=!1,Ju=null,Wn=null,Oo=!1,An=null,yl=0,ms=0,Zu=null,Go=-1,Ko=0;function qe(){return Q&6?Ce():Go!==-1?Go:Go=Ce()}function jn(e){return e.mode&1?Q&2&&Ue!==0?Ue&-Ue:m1.transition!==null?(Ko===0&&(Ko=Mm()),Ko):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Wm(e.type)),e):1}function Lt(e,t,n,r){if(50<ms)throw ms=0,Zu=null,Error(k(185));Xs(e,n,r),(!(Q&2)||e!==Me)&&(e===Me&&(!(Q&2)&&(Zl|=n),Pe===4&&bn(e,Ue)),lt(e,r),n===1&&Q===0&&!(t.mode&1)&&(wi=Ce()+500,Yl&&rr()))}function lt(e,t){var n=e.callbackNode;m0(e,t);var r=tl(e,e===Me?Ue:0);if(r===0)n!==null&&Vf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vf(n),t===1)e.tag===0?p1(Fh.bind(null,e)):lg(Fh.bind(null,e)),c1(function(){!(Q&6)&&rr()}),n=null;else{switch(Lm(r)){case 1:n=$c;break;case 4:n=Am;break;case 16:n=el;break;case 536870912:n=Dm;break;default:n=el}n=sv(n,Jg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jg(e,t){if(Go=-1,Ko=0,Q&6)throw Error(k(327));var n=e.callbackNode;if(ui()&&e.callbackNode!==n)return null;var r=tl(e,e===Me?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_l(e,r);else{t=r;var i=Q;Q|=2;var s=ev();(Me!==e||Ue!==t)&&(rn=null,wi=Ce()+500,vr(e,t));do try{M1();break}catch(l){Zg(e,l)}while(1);Zc(),gl.current=s,Q=i,ke!==null?t=0:(Me=null,Ue=0,t=Pe)}if(t!==0){if(t===2&&(i=Nu(e),i!==0&&(r=i,t=ec(e,i))),t===1)throw n=Fs,vr(e,0),bn(e,r),lt(e,Ce()),n;if(t===6)bn(e,r);else{if(i=e.current.alternate,!(r&30)&&!A1(i)&&(t=_l(e,r),t===2&&(s=Nu(e),s!==0&&(r=s,t=ec(e,s))),t===1))throw n=Fs,vr(e,0),bn(e,r),lt(e,Ce()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:ar(e,nt,rn);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=pd+500-Ce(),10<t)){if(tl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Du(ar.bind(null,e,nt,rn),t);break}ar(e,nt,rn);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Mt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O1(r/1960))-r,10<r){e.timeoutHandle=Du(ar.bind(null,e,nt,rn),r);break}ar(e,nt,rn);break;case 5:ar(e,nt,rn);break;default:throw Error(k(329))}}}return lt(e,Ce()),e.callbackNode===n?Jg.bind(null,e):null}function ec(e,t){var n=ps;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=_l(e,t),e!==2&&(t=nt,nt=n,t!==null&&tc(t)),e}function tc(e){nt===null?nt=e:nt.push.apply(nt,e)}function A1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~hd,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function Fh(e){if(Q&6)throw Error(k(327));ui();var t=tl(e,0);if(!(t&1))return lt(e,Ce()),null;var n=_l(e,t);if(e.tag!==0&&n===2){var r=Nu(e);r!==0&&(t=r,n=ec(e,r))}if(n===1)throw n=Fs,vr(e,0),bn(e,t),lt(e,Ce()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,nt,rn),lt(e,Ce()),null}function md(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(wi=Ce()+500,Yl&&rr())}}function kr(e){An!==null&&An.tag===0&&!(Q&6)&&ui();var t=Q;Q|=1;var n=Ct.transition,r=Z;try{if(Ct.transition=null,Z=1,e)return e()}finally{Z=r,Ct.transition=n,Q=t,!(Q&6)&&rr()}}function gd(){ut=ni.current,ce(ni)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,u1(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:_i(),ce(st),ce(Ge),sd();break;case 5:id(r);break;case 4:_i();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:ed(r.type._context);break;case 22:case 23:gd()}n=n.return}if(Me=e,ke=e=Hn(e.current,null),Ue=ut=t,Pe=0,Fs=null,hd=Zl=Sr=0,nt=ps=null,hr!==null){for(t=0;t<hr.length;t++)if(n=hr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hr=null}return e}function Zg(e,t){do{var n=ke;try{if(Zc(),jo.current=ml,pl){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pl=!1}if(Cr=0,Ae=Te=me=null,fs=!1,Ds=0,fd.current=null,n===null||n.return===null){Pe=1,Fs=t,ke=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ue,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=kh(o);if(y!==null){y.flags&=-257,xh(y,o,l,s,t),y.mode&1&&Sh(s,u,t),t=y,a=u;var _=t.updateQueue;if(_===null){var E=new Set;E.add(a),t.updateQueue=E}else _.add(a);break e}else{if(!(t&1)){Sh(s,u,t),vd();break e}a=Error(k(426))}}else if(de&&l.mode&1){var w=kh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),xh(w,o,l,s,t),Xc(Ei(a,l));break e}}s=a=Ei(a,l),Pe!==4&&(Pe=2),ps===null?ps=[s]:ps.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Lg(s,a,t);vh(s,m);break e;case 1:l=a;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wn===null||!Wn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=Fg(s,l,t);vh(s,C);break e}}s=s.return}while(s!==null)}nv(n)}catch(S){t=S,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(1)}function ev(){var e=gl.current;return gl.current=ml,e===null?ml:e}function vd(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Me===null||!(Sr&268435455)&&!(Zl&268435455)||bn(Me,Ue)}function _l(e,t){var n=Q;Q|=2;var r=ev();(Me!==e||Ue!==t)&&(rn=null,vr(e,t));do try{D1();break}catch(i){Zg(e,i)}while(1);if(Zc(),Q=n,gl.current=r,ke!==null)throw Error(k(261));return Me=null,Ue=0,Pe}function D1(){for(;ke!==null;)tv(ke)}function M1(){for(;ke!==null&&!o0();)tv(ke)}function tv(e){var t=iv(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?nv(e):ke=t,fd.current=null}function nv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=I1(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,ke=null;return}}else if(n=T1(n,t,ut),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Pe===0&&(Pe=5)}function ar(e,t,n){var r=Z,i=Ct.transition;try{Ct.transition=null,Z=1,L1(e,t,n,r)}finally{Ct.transition=i,Z=r}return null}function L1(e,t,n,r){do ui();while(An!==null);if(Q&6)throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(g0(e,s),e===Me&&(ke=Me=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oo||(Oo=!0,sv(el,function(){return ui(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ct.transition,Ct.transition=null;var o=Z;Z=1;var l=Q;Q|=4,fd.current=null,P1(e,n),qg(n,e),n1(Ou),nl=!!bu,Ou=bu=null,e.current=n,b1(n),l0(),Q=l,Z=o,Ct.transition=s}else e.current=n;if(Oo&&(Oo=!1,An=e,yl=i),s=e.pendingLanes,s===0&&(Wn=null),c0(n.stateNode),lt(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vl)throw vl=!1,e=Ju,Ju=null,e;return yl&1&&e.tag!==0&&ui(),s=e.pendingLanes,s&1?e===Zu?ms++:(ms=0,Zu=e):ms=0,rr(),null}function ui(){if(An!==null){var e=Lm(yl),t=Ct.transition,n=Z;try{if(Ct.transition=null,Z=16>e?16:e,An===null)var r=!1;else{if(e=An,An=null,yl=0,Q&6)throw Error(k(331));var i=Q;for(Q|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:hs(8,h,s)}var d=h.child;if(d!==null)d.return=h,O=d;else for(;O!==null;){h=O;var c=h.sibling,y=h.return;if(Kg(h),h===u){O=null;break}if(c!==null){c.return=y,O=c;break}O=y}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var w=E.sibling;E.sibling=null,E=w}while(E!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,O=m;break e}O=s.return}}var p=e.current;for(O=p;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jl(9,l)}}catch(S){ye(l,l.return,S)}if(l===o){O=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,O=C;break e}O=l.return}}if(Q=i,rr(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Hl,e)}catch{}r=!0}return r}finally{Z=n,Ct.transition=t}}return!1}function zh(e,t,n){t=Ei(n,t),t=Lg(e,t,1),e=Bn(e,t,1),t=qe(),e!==null&&(Xs(e,1,t),lt(e,t))}function ye(e,t,n){if(e.tag===3)zh(e,e,n);else for(;t!==null;){if(t.tag===3){zh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){e=Ei(n,e),e=Fg(t,e,1),t=Bn(t,e,1),e=qe(),t!==null&&(Xs(t,1,e),lt(t,e));break}}t=t.return}}function F1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ue&n)===n&&(Pe===4||Pe===3&&(Ue&130023424)===Ue&&500>Ce()-pd?vr(e,0):hd|=n),lt(e,t)}function rv(e,t){t===0&&(e.mode&1?(t=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):t=1);var n=qe();e=mn(e,t),e!==null&&(Xs(e,t,n),lt(e,n))}function z1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rv(e,n)}function U1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),rv(e,n)}var iv;iv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,N1(e,t,n);rt=!!(e.flags&131072)}else rt=!1,de&&t.flags&1048576&&ag(t,ul,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vo(e,t),e=t.pendingProps;var i=gi(t,Ge.current);ai(t,n),i=ld(null,t,r,e,i,n);var s=ad();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(s=!0,ll(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nd(t),i.updater=Xl,t.stateNode=i,i._reactInternals=t,Bu(t,r,e,n),t=Hu(null,t,r,!0,s,n)):(t.tag=0,de&&s&&Yc(t),Qe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=B1(r),e=Pt(r,e),i){case 0:t=ju(null,t,r,e,n);break e;case 1:t=Ih(null,t,r,e,n);break e;case 11:t=Nh(null,t,r,e,n);break e;case 14:t=Th(null,t,r,Pt(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),ju(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Ih(e,t,r,i,n);case 3:e:{if(Bg(t),e===null)throw Error(k(387));r=t.pendingProps,s=t.memoizedState,i=s.element,pg(e,t),fl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ei(Error(k(423)),t),t=Rh(e,t,r,n,i);break e}else if(r!==i){i=Ei(Error(k(424)),t),t=Rh(e,t,r,n,i);break e}else for(ct=$n(t.stateNode.containerInfo.firstChild),dt=t,de=!0,Ot=null,n=fg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vi(),r===i){t=gn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return mg(t),e===null&&zu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Au(r,i)?o=null:s!==null&&Au(r,s)&&(t.flags|=32),$g(e,t),Qe(e,t,o,n),t.child;case 6:return e===null&&zu(t),null;case 13:return Wg(e,t,n);case 4:return rd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yi(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Nh(e,t,r,i,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,oe(cl,r._currentValue),r._currentValue=o,s!==null)if(zt(s.value,o)){if(s.children===i.children&&!st.current){t=gn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=cn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Uu(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ai(t,n),i=St(i),r=r(i),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,i=Pt(r,t.pendingProps),i=Pt(r.type,i),Th(e,t,r,i,n);case 15:return zg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Vo(e,t),t.tag=1,ot(r)?(e=!0,ll(t)):e=!1,ai(t,n),Mg(t,r,i),Bu(t,r,i,n),Hu(null,t,r,!0,e,n);case 19:return jg(e,t,n);case 22:return Ug(e,t,n)}throw Error(k(156,t.tag))};function sv(e,t){return Om(e,t)}function $1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new $1(e,t,n,r)}function yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B1(e){if(typeof e=="function")return yd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fc)return 11;if(e===zc)return 14}return 2}function Hn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")yd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gr:return yr(n.children,i,s,t);case Lc:o=8,i|=8;break;case du:return e=_t(12,n,t,i|2),e.elementType=du,e.lanes=s,e;case fu:return e=_t(13,n,t,i),e.elementType=fu,e.lanes=s,e;case hu:return e=_t(19,n,t,i),e.elementType=hu,e.lanes=s,e;case mm:return ea(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hm:o=10;break e;case pm:o=9;break e;case Fc:o=11;break e;case zc:o=14;break e;case In:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=_t(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function yr(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function ea(e,t,n,r){return e=_t(22,e,r,t),e.elementType=mm,e.lanes=n,e.stateNode={isHidden:!1},e}function Ka(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Qa(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ia(0),this.expirationTimes=Ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _d(e,t,n,r,i,s,o,l,a){return e=new W1(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_t(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(s),e}function j1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ov(e){if(!e)return qn;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(ot(n))return og(e,n,t)}return t}function lv(e,t,n,r,i,s,o,l,a){return e=_d(n,r,!0,e,i,s,o,l,a),e.context=ov(null),n=e.current,r=qe(),i=jn(n),s=cn(r,i),s.callback=t??null,Bn(n,s,i),e.current.lanes=i,Xs(e,i,r),lt(e,r),e}function ta(e,t,n,r){var i=t.current,s=qe(),o=jn(i);return n=ov(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bn(i,t,o),e!==null&&(Lt(e,i,o,s),Wo(e,i,o)),o}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ed(e,t){Uh(e,t),(e=e.alternate)&&Uh(e,t)}function H1(){return null}var av=typeof reportError=="function"?reportError:function(e){console.error(e)};function wd(e){this._internalRoot=e}na.prototype.render=wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));ta(e,t,null,null)};na.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){ta(null,e,null,null)}),t[pn]=null}};function na(e){this._internalRoot=e}na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Um();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&Bm(e)}};function Cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $h(){}function V1(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=El(o);s.call(u)}}var o=lv(t,r,e,0,null,!1,!1,"",$h);return e._reactRootContainer=o,e[pn]=o.current,Rs(e.nodeType===8?e.parentNode:e),kr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=El(a);l.call(u)}}var a=_d(e,0,!1,null,null,!1,!1,"",$h);return e._reactRootContainer=a,e[pn]=a.current,Rs(e.nodeType===8?e.parentNode:e),kr(function(){ta(t,a,n,r)}),a}function ia(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=El(o);l.call(a)}}ta(t,o,e,i)}else o=V1(n,t,e,i,r);return El(o)}Fm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ss(t.pendingLanes);n!==0&&(Bc(t,n|1),lt(t,Ce()),!(Q&6)&&(wi=Ce()+500,rr()))}break;case 13:kr(function(){var r=mn(e,1);if(r!==null){var i=qe();Lt(r,e,1,i)}}),Ed(e,1)}};Wc=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=qe();Lt(t,e,134217728,n)}Ed(e,134217728)}};zm=function(e){if(e.tag===13){var t=jn(e),n=mn(e,t);if(n!==null){var r=qe();Lt(n,e,t,r)}Ed(e,t)}};Um=function(){return Z};$m=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};Su=function(e,t,n){switch(t){case"input":if(gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ql(r);if(!i)throw Error(k(90));vm(r),gu(r,i)}}}break;case"textarea":_m(e,n);break;case"select":t=n.value,t!=null&&ii(e,!!n.multiple,t,!1)}};Nm=md;Tm=kr;var G1={usingClientEntryPoint:!1,Events:[Zs,qr,Ql,km,xm,md]},Xi={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K1={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pm(e),e===null?null:e.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||H1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Hl=Ao.inject(K1),Vt=Ao}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(t))throw Error(k(200));return j1(e,t,null,n)};ht.createRoot=function(e,t){if(!Cd(e))throw Error(k(299));var n=!1,r="",i=av;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_d(e,1,!1,null,null,n,!1,r,i),e[pn]=t.current,Rs(e.nodeType===8?e.parentNode:e),new wd(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=Pm(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return kr(e)};ht.hydrate=function(e,t,n){if(!ra(t))throw Error(k(200));return ia(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!Cd(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=av;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=lv(t,null,e,1,n??null,i,!1,s,o),e[pn]=t.current,Rs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new na(t)};ht.render=function(e,t,n){if(!ra(t))throw Error(k(200));return ia(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!ra(e))throw Error(k(40));return e._reactRootContainer?(kr(function(){ia(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};ht.unstable_batchedUpdates=md;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ra(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return ia(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uv)}catch(e){console.error(e)}}uv(),um.exports=ht;var cv=um.exports,Bh=cv;uu.createRoot=Bh.createRoot,uu.hydrateRoot=Bh.hydrateRoot;const Q1="modulepreload",Y1=function(e){return"/"+e},Wh={},q1=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Y1(s),s in Wh)return;Wh[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Q1,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});Sd.parse=rE;Sd.serialize=iE;const X1=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,J1=/^[\u0021-\u003A\u003C-\u007E]*$/,Z1=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,eE=/^[\u0020-\u003A\u003D-\u007E]*$/,tE=Object.prototype.toString,nE=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function rE(e,t){const n=new nE,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||sE;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const l=e.indexOf(";",s),a=l===-1?r:l;if(o>a){s=e.lastIndexOf(";",o-1)+1;continue}const u=jh(e,s,o),h=Hh(e,o,u),d=e.slice(u,h);if(n[d]===void 0){let c=jh(e,o+1,a),y=Hh(e,a,c);const _=i(e.slice(c,y));n[d]=_}s=a+1}while(s<r);return n}function jh(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Hh(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function iE(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!X1.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!J1.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!Z1.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!eE.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!oE(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function sE(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function oE(e){return tE.call(e)==="[object Date]"}var Vh="popstate";function lE(e={}){function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return nc("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zs(i)}return uE(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ut(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aE(){return Math.random().toString(36).substring(2,10)}function Gh(e,t){return{usr:e.state,key:e.key,idx:t}}function nc(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ai(t):t,state:n,key:t&&t.key||r||aE()}}function zs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ai(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function uE(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",a=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){l="POP";let w=h(),m=w==null?null:w-u;u=w,a&&a({action:l,location:E.location,delta:m})}function c(w,m){l="PUSH";let p=nc(E.location,w,m);n&&n(p,w),u=h()+1;let g=Gh(p,u),C=E.createHref(p);try{o.pushState(g,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&a&&a({action:l,location:E.location,delta:1})}function y(w,m){l="REPLACE";let p=nc(E.location,w,m);n&&n(p,w),u=h();let g=Gh(p,u),C=E.createHref(p);o.replaceState(g,"",C),s&&a&&a({action:l,location:E.location,delta:0})}function _(w){return cE(w)}let E={get action(){return l},get location(){return e(i,o)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Vh,d),a=w,()=>{i.removeEventListener(Vh,d),a=null}},createHref(w){return t(i,w)},createURL:_,encodeLocation(w){let m=_(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:y,go(w){return o.go(w)}};return E}function cE(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:zs(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dv(e,t,n="/"){return dE(e,t,n,!1)}function dE(e,t,n,r){let i=typeof t=="string"?Ai(t):t,s=vn(i.pathname||"/",n);if(s==null)return null;let o=fv(e);fE(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=SE(s);l=wE(o[a],u,r)}return l}function fv(e,t=[],n=[],r=""){let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(fe(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let u=dn([r,a.relativePath]),h=n.concat(a);s.children&&s.children.length>0&&(fe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),fv(s.children,t,h,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:_E(u,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of hv(s.path))i(s,o,a)}),t}function hv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hv(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function fE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hE=/^:[\w-]+$/,pE=3,mE=2,gE=1,vE=10,yE=-2,Kh=e=>e==="*";function _E(e,t){let n=e.split("/"),r=n.length;return n.some(Kh)&&(r+=yE),t&&(r+=mE),n.filter(i=>!Kh(i)).reduce((i,s)=>i+(hE.test(s)?pE:s===""?gE:vE),r)}function EE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function wE(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",d=wl({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},h),c=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=wl({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:dn([s,d.pathname]),pathnameBase:TE(dn([s,d.pathnameBase])),route:c}),d.pathnameBase!=="/"&&(s=dn([s,d.pathnameBase]))}return o}function wl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=CE(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:d},c)=>{if(h==="*"){let _=l[c]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=l[c];return d&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function CE(e,t=!1,n=!0){Ut(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function SE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ut(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kE(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ai(e):e;return{pathname:n?n.startsWith("/")?n:xE(n,t):t,search:IE(r),hash:RE(i)}}function xE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ya(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kd(e){let t=NE(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function xd(e,t,n,r=!1){let i;typeof e=="string"?i=Ai(e):(i={...e},fe(!i.pathname||!i.pathname.includes("?"),Ya("?","pathname","search",i)),fe(!i.pathname||!i.pathname.includes("#"),Ya("#","pathname","hash",i)),fe(!i.search||!i.search.includes("#"),Ya("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),d-=1;i.pathname=c.join("/")}l=d>=0?t[d]:"/"}let a=kE(i,l),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||h)&&(a.pathname+="/"),a}var dn=e=>e.join("/").replace(/\/\/+/g,"/"),TE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var pv=["POST","PUT","PATCH","DELETE"];new Set(pv);var bE=["GET",...pv];new Set(bE);var Di=v.createContext(null);Di.displayName="DataRouter";var sa=v.createContext(null);sa.displayName="DataRouterState";var mv=v.createContext({isTransitioning:!1});mv.displayName="ViewTransition";var OE=v.createContext(new Map);OE.displayName="Fetchers";var AE=v.createContext(null);AE.displayName="Await";var $t=v.createContext(null);$t.displayName="Navigation";var to=v.createContext(null);to.displayName="Location";var Nt=v.createContext({outlet:null,matches:[],isDataRoute:!1});Nt.displayName="Route";var Nd=v.createContext(null);Nd.displayName="RouteError";function DE(e,{relative:t}={}){fe(Mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext($t),{hash:i,pathname:s,search:o}=no(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:dn([n,s])),r.createHref({pathname:l,search:o,hash:i})}function Mi(){return v.useContext(to)!=null}function Kt(){return fe(Mi(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(to).location}var gv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vv(e){v.useContext($t).static||v.useLayoutEffect(e)}function br(){let{isDataRoute:e}=v.useContext(Nt);return e?qE():ME()}function ME(){fe(Mi(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Di),{basename:t,navigator:n}=v.useContext($t),{matches:r}=v.useContext(Nt),{pathname:i}=Kt(),s=JSON.stringify(kd(r)),o=v.useRef(!1);return vv(()=>{o.current=!0}),v.useCallback((a,u={})=>{if(Ut(o.current,gv),!o.current)return;if(typeof a=="number"){n.go(a);return}let h=xd(a,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:dn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,s,i,e])}var LE=v.createContext(null);function FE(e){let t=v.useContext(Nt).outlet;return t&&v.createElement(LE.Provider,{value:e},t)}function zE(){let{matches:e}=v.useContext(Nt),t=e[e.length-1];return t?t.params:{}}function no(e,{relative:t}={}){let{matches:n}=v.useContext(Nt),{pathname:r}=Kt(),i=JSON.stringify(kd(n));return v.useMemo(()=>xd(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function UE(e,t){return yv(e,t)}function yv(e,t,n,r){var m;fe(Mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext($t),{matches:s}=v.useContext(Nt),o=s[s.length-1],l=o?o.params:{},a=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let p=h&&h.path||"";_v(a,!h||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let d=Kt(),c;if(t){let p=typeof t=="string"?Ai(t):t;fe(u==="/"||((m=p.pathname)==null?void 0:m.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),c=p}else c=d;let y=c.pathname||"/",_=y;if(u!=="/"){let p=u.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let E=dv(e,{pathname:_});Ut(h||E!=null,`No routes matched location "${c.pathname}${c.search}${c.hash}" `),Ut(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${c.pathname}${c.search}${c.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=HE(E&&E.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:dn([u,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:dn([u,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,n,r);return t&&w?v.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...c},navigationType:"POP"}},w):w}function $E(){let e=YE(),t=PE(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:s},"ErrorBoundary")," or"," ",v.createElement("code",{style:s},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,o)}var BE=v.createElement($E,null),WE=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Nt.Provider,{value:this.props.routeContext},v.createElement(Nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jE({routeContext:e,match:t,children:n}){let r=v.useContext(Di);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Nt.Provider,{value:e},n)}function HE(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let a=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);fe(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,a+1))}let o=!1,l=-1;if(n)for(let a=0;a<i.length;a++){let u=i[a];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=a),u.route.id){let{loaderData:h,errors:d}=n,c=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||c){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((a,u,h)=>{let d,c=!1,y=null,_=null;n&&(d=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||BE,o&&(l<0&&h===0?(_v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,_=null):l===h&&(c=!0,_=u.route.hydrateFallbackElement||null)));let E=t.concat(i.slice(0,h+1)),w=()=>{let m;return d?m=y:c?m=_:u.route.Component?m=v.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=a,v.createElement(jE,{match:u,routeContext:{outlet:a,matches:E,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?v.createElement(WE,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}function Td(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VE(e){let t=v.useContext(Di);return fe(t,Td(e)),t}function GE(e){let t=v.useContext(sa);return fe(t,Td(e)),t}function KE(e){let t=v.useContext(Nt);return fe(t,Td(e)),t}function Id(e){let t=KE(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function QE(){return Id("useRouteId")}function YE(){var r;let e=v.useContext(Nd),t=GE("useRouteError"),n=Id("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function qE(){let{router:e}=VE("useNavigate"),t=Id("useNavigate"),n=v.useRef(!1);return vv(()=>{n.current=!0}),v.useCallback(async(i,s={})=>{Ut(n.current,gv),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Qh={};function _v(e,t,n){!t&&!Qh[e]&&(Qh[e]=!0,Ut(!1,n))}v.memo(XE);function XE({routes:e,future:t,state:n}){return yv(e,void 0,n,t)}function Ev({to:e,replace:t,state:n,relative:r}){fe(Mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext($t);Ut(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=v.useContext(Nt),{pathname:o}=Kt(),l=br(),a=xd(e,kd(s),o,r==="path"),u=JSON.stringify(a);return v.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function Rd(e){return FE(e.context)}function ve(e){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JE({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){fe(!Mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ai(n));let{pathname:a="/",search:u="",hash:h="",state:d=null,key:c="default"}=n,y=v.useMemo(()=>{let _=vn(a,o);return _==null?null:{location:{pathname:_,search:u,hash:h,state:d,key:c},navigationType:r}},[o,a,u,h,d,c,r]);return Ut(y!=null,`<Router basename="${o}"> is not able to match the URL "${a}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement($t.Provider,{value:l},v.createElement(to.Provider,{children:t,value:y}))}function ZE({children:e,location:t}){return UE(rc(e),t)}function rc(e,t=[]){let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let s=[...t,i];if(r.type===v.Fragment){n.push.apply(n,rc(r.props.children,s));return}fe(r.type===ve,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rc(r.props.children,s)),n.push(o)}),n}var Yo="get",qo="application/x-www-form-urlencoded";function oa(e){return e!=null&&typeof e.tagName=="string"}function ew(e){return oa(e)&&e.tagName.toLowerCase()==="button"}function tw(e){return oa(e)&&e.tagName.toLowerCase()==="form"}function nw(e){return oa(e)&&e.tagName.toLowerCase()==="input"}function rw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iw(e,t){return e.button===0&&(!t||t==="_self")&&!rw(e)}var Do=null;function sw(){if(Do===null)try{new FormData(document.createElement("form"),0),Do=!1}catch{Do=!0}return Do}var ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qa(e){return e!=null&&!ow.has(e)?(Ut(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):e}function lw(e,t){let n,r,i,s,o;if(tw(e)){let l=e.getAttribute("action");r=l?vn(l,t):null,n=e.getAttribute("method")||Yo,i=qa(e.getAttribute("enctype"))||qo,s=new FormData(e)}else if(ew(e)||nw(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(r=a?vn(a,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Yo,i=qa(e.getAttribute("formenctype"))||qa(l.getAttribute("enctype"))||qo,s=new FormData(l,e),!sw()){let{name:u,type:h,value:d}=e;if(h==="image"){let c=u?`${u}.`:"";s.append(`${c}x`,"0"),s.append(`${c}y`,"0")}else u&&s.append(u,d)}}else{if(oa(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yo,r=null,i=qo,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Pd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function aw(e,t){if(e.id in t)return t[e.id];try{let n=await q1(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uw(e){return e!=null&&typeof e.page=="string"}function cw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dw(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await aw(s,n);return o.links?o.links():[]}return[]}));return mw(r.flat(1).filter(cw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yh(e,t,n,r,i,s){let o=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,l=(a,u)=>{var h;return n[u].pathname!==a.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==a.params["*"]};return s==="assets"?t.filter((a,u)=>o(a,u)||l(a,u)):s==="data"?t.filter((a,u)=>{var d;let h=r.routes[a.route.id];if(!h||!h.hasLoader)return!1;if(o(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let c=a.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function fw(e,t,{includeHydrateFallback:n}={}){return hw(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function hw(e){return[...new Set(e)]}function pw(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function mw(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!uw(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let l=JSON.stringify(pw(s));return n.has(l)||(n.add(l),i.push({key:l,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gw=new Set([100,101,204,205]);function vw(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&vn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wv(){let e=v.useContext(Di);return Pd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yw(){let e=v.useContext(sa);return Pd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bd=v.createContext(void 0);bd.displayName="FrameworkContext";function Cv(){let e=v.useContext(bd);return Pd(e,"You must render this element inside a <HydratedRouter> element"),e}function _w(e,t){let n=v.useContext(bd),[r,i]=v.useState(!1),[s,o]=v.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,c=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let E=m=>{m.forEach(p=>{o(p.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return c.current&&w.observe(c.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,c,{}]:[s,c,{onFocus:Ji(l,y),onBlur:Ji(a,_),onMouseEnter:Ji(u,y),onMouseLeave:Ji(h,_),onTouchStart:Ji(d,y)}]:[!1,c,{}]}function Ji(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ew({page:e,...t}){let{router:n}=wv(),r=v.useMemo(()=>dv(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(Cw,{page:e,matches:r,...t}):null}function ww(e){let{manifest:t,routeModules:n}=Cv(),[r,i]=v.useState([]);return v.useEffect(()=>{let s=!1;return dw(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function Cw({page:e,matches:t,...n}){let r=Kt(),{manifest:i,routeModules:s}=Cv(),{basename:o}=wv(),{loaderData:l,matches:a}=yw(),u=v.useMemo(()=>Yh(e,t,a,i,r,"data"),[e,t,a,i,r]),h=v.useMemo(()=>Yh(e,t,a,i,r,"assets"),[e,t,a,i,r]),d=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(t.forEach(m=>{var g;let p=i.routes[m.route.id];!p||!p.hasLoader||(!u.some(C=>C.route.id===m.route.id)&&m.route.id in l&&((g=s[m.route.id])!=null&&g.shouldRevalidate)||p.hasClientLoader?E=!0:_.add(m.route.id))}),_.size===0)return[];let w=vw(e,o);return E&&_.size>0&&w.searchParams.set("_routes",t.filter(m=>_.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[o,l,r,i,u,t,e,s]),c=v.useMemo(()=>fw(h,i),[h,i]),y=ww(h);return v.createElement(v.Fragment,null,d.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),c.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:E})=>v.createElement("link",{key:_,...E})))}function Sw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sv&&(window.__reactRouterVersion="7.6.2")}catch{}function kw({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=lE({window:n,v5Compat:!0}));let i=r.current,[s,o]=v.useState({action:i.action,location:i.location}),l=v.useCallback(a=>{v.startTransition(()=>o(a))},[o]);return v.useLayoutEffect(()=>i.listen(l),[i,l]),v.createElement(JE,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mr=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:h,viewTransition:d,...c},y){let{basename:_}=v.useContext($t),E=typeof u=="string"&&kv.test(u),w,m=!1;if(typeof u=="string"&&E&&(w=u,Sv))try{let A=new URL(window.location.href),I=u.startsWith("//")?new URL(A.protocol+u):new URL(u),L=vn(I.pathname,_);I.origin===A.origin&&L!=null?u=L+I.search+I.hash:m=!0}catch{Ut(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=DE(u,{relative:i}),[g,C,S]=_w(r,c),x=Iw(u,{replace:o,state:l,target:a,preventScrollReset:h,relative:i,viewTransition:d});function T(A){t&&t(A),A.defaultPrevented||x(A)}let R=v.createElement("a",{...c,...S,href:w||p,onClick:m||s?t:T,ref:Sw(y,C),target:a,"data-discover":!E&&n==="render"?"true":void 0});return g&&!E?v.createElement(v.Fragment,null,R,v.createElement(Ew,{page:p})):R});mr.displayName="Link";var xw=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:a,...u},h){let d=no(o,{relative:u.relative}),c=Kt(),y=v.useContext(sa),{navigator:_,basename:E}=v.useContext($t),w=y!=null&&Aw(d)&&l===!0,m=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,p=c.pathname,g=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(p=p.toLowerCase(),g=g?g.toLowerCase():null,m=m.toLowerCase()),g&&E&&(g=vn(g,E)||g);const C=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=p===m||!i&&p.startsWith(m)&&p.charAt(C)==="/",x=g!=null&&(g===m||!i&&g.startsWith(m)&&g.charAt(m.length)==="/"),T={isActive:S,isPending:x,isTransitioning:w},R=S?t:void 0,A;typeof r=="function"?A=r(T):A=[r,S?"active":null,x?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(T):s;return v.createElement(mr,{...u,"aria-current":R,className:A,ref:h,style:I,to:o,viewTransition:l},typeof a=="function"?a(T):a)});xw.displayName="NavLink";var Nw=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Yo,action:l,onSubmit:a,relative:u,preventScrollReset:h,viewTransition:d,...c},y)=>{let _=bw(),E=Ow(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",m=typeof l=="string"&&kv.test(l),p=g=>{if(a&&a(g),g.defaultPrevented)return;g.preventDefault();let C=g.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||o;_(C||g.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:d})};return v.createElement("form",{ref:y,method:w,action:E,onSubmit:r?a:p,...c,"data-discover":!m&&e==="render"?"true":void 0})});Nw.displayName="Form";function Tw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xv(e){let t=v.useContext(Di);return fe(t,Tw(e)),t}function Iw(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=br(),a=Kt(),u=no(e,{relative:s});return v.useCallback(h=>{if(iw(h,t)){h.preventDefault();let d=n!==void 0?n:zs(a)===zs(u);l(e,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[a,l,u,n,r,t,e,i,s,o])}var Rw=0,Pw=()=>`__${String(++Rw)}__`;function bw(){let{router:e}=xv("useSubmit"),{basename:t}=v.useContext($t),n=QE();return v.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:a,body:u}=lw(r,t);if(i.navigate===!1){let h=i.fetcherKey||Pw();await e.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:a,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:a,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Ow(e,{relative:t}={}){let{basename:n}=v.useContext($t),r=v.useContext(Nt);fe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...no(e||".",{relative:t})},o=Kt();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),a=l.getAll("index");if(a.some(h=>h==="")){l.delete("index"),a.filter(d=>d).forEach(d=>l.append("index",d));let h=l.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:dn([n,s.pathname])),zs(s)}function Aw(e,t={}){let n=v.useContext(mv);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xv("useViewTransitionState"),i=no(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=vn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=vn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wl(i.pathname,o)!=null||wl(i.pathname,s)!=null}[...gw];function Dw({show:e,onSubmit:t,onClose:n,loading:r,error:i}){const[s,o]=v.useState("");if(!e)return null;const l=a=>{a.preventDefault(),t(s)};return f.createElement("div",{className:"otp-modal-backdrop"},f.createElement("div",{className:"otp-modal"},f.createElement("h2",null,"Enter OTP"),f.createElement("form",{onSubmit:l},f.createElement("input",{type:"text",value:s,onChange:a=>o(a.target.value),maxLength:6,autoFocus:!0,required:!0,placeholder:"Enter 6-digit OTP",className:"input"}),i&&f.createElement("div",{className:"error-message"},i),f.createElement("div",{className:"otp-button-row"},f.createElement("button",{className:"otp-verify-btn",type:"submit"},"Verify"),f.createElement("button",{className:"otp-cancel-btn",type:"button",onClick:n,style:{marginLeft:"1rem"},disabled:r},"Cancel")))))}function Mw({onChange:e,values:t={},errors:n={}}){const r=i=>{const{name:s,value:o}=i.target;e&&e(s,o)};return f.createElement(f.Fragment,null,f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"contactNumber",className:"label"},"Contact Number"),f.createElement("input",{type:"tel",id:"contactNumber",name:"contactNumber",className:`input${n.contactNumber?" error":""}`,value:t.contactNumber||"",onChange:r,required:!0,inputMode:"numeric",pattern:"[0-9]*",placeholder:n.contactNumber?n.contactNumber:"Contact Number"})),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"city",className:"label"},"City"),f.createElement("input",{type:"text",id:"city",name:"city",className:`input${n.city?" error":""}`,value:t.city||"",onChange:r,required:!0,placeholder:n.city?n.city:"City"})),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"state",className:"label"},"State"),f.createElement("input",{type:"text",id:"state",name:"state",className:`input${n.state?" error":""}`,value:t.state||"",onChange:r,required:!0,placeholder:n.state?n.state:"State"})),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"country",className:"label"},"Country"),f.createElement("input",{type:"text",id:"country",name:"country",className:`input${n.country?" error":""}`,value:t.country||"",onChange:r,required:!0,placeholder:n.country?n.country:"Country"})),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"zipCode",className:"label"},"Zip Code"),f.createElement("input",{type:"text",id:"zipCode",name:"zipCode",className:`input${n.zipCode?" error":""}`,value:t.zipCode||"",onChange:r,required:!0,placeholder:n.zipCode?n.zipCode:"Zip Code"})))}const Lw={contactNumber:{required:!0,pattern:/^[0-9]{7,15}$/},city:{required:!0},state:{required:!0},country:{required:!0},zipCode:{required:!0,pattern:/^[0-9a-zA-Z\- ]{3,10}$/}};function qh(e,t){const n=Lw[e];return n.required&&!t?"This field is required":n.minLength&&t.length<n.minLength?`Minimum ${n.minLength} characters`:n.pattern&&!n.pattern.test(t)?"Invalid format":""}function Fw({email:e}){const t=br(),[n,r]=v.useState({contactNumber:"",city:"",state:"",country:"",zipCode:""}),[i,s]=v.useState({}),[o,l]=v.useState(!1),[a,u]=v.useState(""),[h,d]=v.useState(!1),c=(_,E)=>{r(w=>({...w,[_]:E})),s(w=>({...w,[_]:qh(_,E)}))},y=async _=>{_.preventDefault();const E={};if(Object.keys(n).forEach(w=>{E[w]=qh(w,n[w])}),s(E),!Object.values(E).some(w=>w)){d(!0),u("");try{if(!(await fetch("https://system-production-9942.up.railway.app/api/v1/auth/register/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,...n})})).ok)throw new Error("Failed to submit information");l(!0),setTimeout(()=>{t("/login")},1e3)}catch{u("Failed to submit information. Please try again.")}finally{d(!1)}}};return o?f.createElement("div",{className:"form-success"},f.createElement("h2",null,"Register Completed!")):f.createElement("div",{className:"address-page"},f.createElement("h2",null,"Enter Additional Information"),f.createElement("form",{className:"form",onSubmit:y,noValidate:!0},f.createElement(Mw,{values:n,errors:i,onChange:c}),a&&f.createElement("div",{className:"error-message"},a),f.createElement("button",{type:"submit",className:"signup-button",disabled:h},h?"Submitting...":"Submit")))}var Nv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xh=f.createContext&&f.createContext(Nv),zw=["attr","size","title"];function Uw(e,t){if(e==null)return{};var n=$w(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $w(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jh(Object(n),!0).forEach(function(r){Bw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bw(e,t,n){return t=Ww(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ww(e){var t=jw(e,"string");return typeof t=="symbol"?t:t+""}function jw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tv(e){return e&&e.map((t,n)=>f.createElement(t.tag,Sl({key:n},t.attr),Tv(t.child)))}function Li(e){return t=>f.createElement(Hw,Cl({attr:Sl({},e.attr)},t),Tv(e.child))}function Hw(e){var t=n=>{var{attr:r,size:i,title:s}=e,o=Uw(e,zw),l=i||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),f.createElement("svg",Cl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:Sl(Sl({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&f.createElement("title",null,s),e.children)};return Xh!==void 0?f.createElement(Xh.Consumer,null,n=>t(n)):t(Nv)}function Vw(e){return Li({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function Gw(e){return Li({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Kw(e){return Li({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Iv(e){return Li({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Rv(e){return Li({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function kl(e){return Li({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Zh({value:e,onChange:t,name:n="password",placeholder:r="Password",error:i,success:s,required:o}){const[l,a]=v.useState(!1);return f.createElement("div",null,f.createElement("div",{className:"password-input-wrapper"},f.createElement("input",{type:l?"text":"password",name:n,value:e,onChange:t,placeholder:r,className:`input password-input${i?" error":""}${s?" success":""}`,autoComplete:"new-password",required:o}),f.createElement("span",{onClick:()=>a(u=>!u),className:"toggle-password","aria-label":l?"Hide password":"Show password",tabIndex:0,role:"button"},l?f.createElement(Gw,{size:20}):f.createElement(Kw,{size:20}))))}const Qw={firstName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s]+$/},lastName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s]+$/},email:{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@gmail\.com$/},role:{required:!0},password:{required:!0,minLength:1},retypePassword:{required:!0},username:{required:!0,minLength:8,pattern:/^[a-zA-Z0-9_]+$/}};function Yw(e){return{hasLength:e.length>=8,hasUppercase:/[A-Z]/.test(e),hasLowercase:/[a-z]/.test(e),hasNumber:/\d/.test(e)}}function qw(e){let t=0;return/[A-Z]/.test(e)&&(t+=1),/\d/.test(e)&&(t+=1),e.length>=8&&(t+=1),t===3?"strong":t===2?"moderate":"poor"}function Xw(){var K,q;const[e,t]=v.useState({firstName:"",lastName:"",email:"",username:"",role:"",password:"",retypePassword:""}),[n,r]=v.useState({}),[i,s]=v.useState({}),[o,l]=v.useState("poor"),[a,u]=v.useState(!1),[h,d]=v.useState(!1),[c,y]=v.useState(!1),[_,E]=v.useState(""),[w,m]=v.useState(!1),[p,g]=v.useState(null),[C,S]=v.useState(!1);v.useState({contactNumber:"",city:"",state:"",country:"",zipCode:""}),v.useState({});const[x,T]=v.useState(!1),[R,A]=v.useState(!1),I=(X,B)=>{const M=Qw[X];let D="";return M.required&&(!B||B==="")?D="This field is required":M.minLength&&B.length<M.minLength?D=`Must be at least ${M.minLength} characters`:M.pattern&&!M.pattern.test(B)&&((X==="firstName"||X==="lastName")&&(D="Only letters and spaces allowed"),X==="email"&&(D="Invalid email address")),D},L=X=>{const{name:B,value:M}=X.target;t(D=>({...D,[B]:M})),B==="password"&&(s(Yw(M)),l(qw(M))),r(D=>({...D,[B]:I(B,M),...B==="retypePassword"?{retypePassword:M!==e.password?"Passwords do not match":""}:{},...B==="password"?{retypePassword:e.retypePassword&&M!==e.retypePassword?"Passwords do not match":""}:{}}))},W=async X=>{const B=X.target.value;if(t(D=>({...D,username:B})),T(!1),r(D=>({...D,username:void 0})),B.length<8){r(D=>({...D,username:"Username must be at least 8 characters."}));return}A(!0);const M=await ne(B);A(!1),T(M),M&&r(D=>({...D,username:"Username is already used."}))},ne=async X=>(await new Promise(M=>setTimeout(M,500)),["admin","user","test"].includes(X.toLowerCase())),Se=async X=>{X.preventDefault();const B={};if(Object.keys(e).forEach(M=>{const D=I(M,e[M]);D&&(B[M]=D)}),e.password!==e.retypePassword&&(B.retypePassword="Passwords do not match"),e.role||(B.role="Choose a role"),r(B),!Object.values(B).some(M=>M)){u(!0);try{const M={...e},D=await fetch("https://system-production-9942.up.railway.app/api/v1/auth/otp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!D.ok){const ae=await D.json();throw new Error(ae.message||"Registration failed")}g(M),d(!0)}catch(M){alert("Registration failed: "+M.message)}finally{u(!1)}}},we=async(X,B)=>{m(!0),E("");try{if(!(await fetch("https://system-production-9942.up.railway.app/api/v1/auth/otp/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:X,otp:B})})).ok)throw new Error("OTP verification failed");y(!0),d(!1),S(!0)}catch{E("Invalid OTP or failed to save address. Please try again.")}finally{m(!1)}};if(c&&p)return f.createElement(Fw,{email:p.email});const xe=i.hasLength&&i.hasUppercase&&i.hasLowercase&&i.hasNumber,le=e.password&&e.retypePassword&&e.password===e.retypePassword,P=((K=e==null?void 0:e.firstName)==null?void 0:K.length)>=2&&/^[a-zA-Z\s]+$/.test(e.firstName),F=((q=e==null?void 0:e.lastName)==null?void 0:q.length)>=2&&/^[a-zA-Z\s]+$/.test(e.lastName),$=(e==null?void 0:e.email)&&/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(e.email);return f.createElement("div",{className:"form-container"},f.createElement("h1",{className:"title"},"Create your account"),C&&f.createElement("div",{className:"success-message"},"Account created and verified successfully!"),!C&&f.createElement("form",{className:"form",onSubmit:Se,noValidate:!0},f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"firstName",className:"label"},"First Name"),f.createElement("input",{type:"text",id:"firstName",name:"firstName",className:`input${n.firstName?" error":""}${P?" success":""}`,value:e.firstName,onChange:L,required:!0,placeholder:n.firstName?n.firstName:"First Name"})),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"lastName",className:"label"},"Last Name"),f.createElement("input",{type:"text",id:"lastName",name:"lastName",className:`input${n.lastName?" error":""}${F?" success":""}`,value:e.lastName,onChange:L,required:!0,placeholder:n.lastName?n.lastName:"Last Name"})),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"username",className:"label"},"Username"),f.createElement("input",{type:"text",name:"username",value:e.username,onChange:W,className:`input${n.username?" error":""}${e.username&&!x&&!n.username?" success":""}`,placeholder:n.username?n.username:"Username",autoComplete:"username",required:!0}),R?f.createElement("div",{className:"checking-message"},"Checking username availability..."):x?f.createElement("div",{className:"error-message"},"Username is already used."):e.username.length>=8&&!n.username?f.createElement("div",{className:"success-message"},"Username is available!"):null),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"email",className:"label"},"Email"),f.createElement("input",{type:"email",name:"email",value:e.email,onChange:L,className:`input${n.email?" error":""}${$?" success":""}`,placeholder:n.email?n.email:"Email",autoComplete:"email",required:!0})),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"role",className:"label"},"Position/Role"),f.createElement("select",{id:"role",name:"role",className:`input${n.role?" error":""}`,value:e.role,onChange:L,required:!0},f.createElement("option",{value:""},"Select your role"),f.createElement("option",{value:"MarketingLead"},"Marketing Lead"),f.createElement("option",{value:"ContentCreator"},"Content Creator"),f.createElement("option",{value:"GraphicDesigner"},"Graphic Designer")),n.role&&f.createElement("div",{className:"error-message"},n.role)),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"password",className:"label"},"Password"),f.createElement(Zh,{value:e.password,onChange:L,error:n.password,name:"password",placeholder:n.password?n.password:"Password",success:xe}),e.password&&f.createElement("div",{className:`password-strength-indicator ${o}`},"Password strength:"," ",o==="strong"&&f.createElement("span",null,"Strong"),o==="moderate"&&f.createElement("span",null,"Moderate"),o==="poor"&&f.createElement("span",null,"Poor"))),f.createElement("div",{className:"form-group"},f.createElement("label",{htmlFor:"retypePassword",className:"label"},"Retype Password"),f.createElement(Zh,{value:e.retypePassword,onChange:L,error:n.retypePassword,name:"retypePassword",placeholder:n.retypePassword?n.retypePassword:"Retype Password"})),le&&f.createElement("div",{className:"password-success-indicator"},f.createElement("span",{role:"img","aria-label":"success"},"")," Passwords matched!"),f.createElement("button",{type:"submit",className:"signup-button",disabled:a,id:"submit-btn"},f.createElement("span",{id:"submit-text"},"Sign Up"),a&&f.createElement("span",{className:"loading",id:"submit-loading"}))),f.createElement(Dw,{show:h,onSubmit:X=>we(p.email,X),onClose:()=>d(!1),loading:w,error:_}))}const Pv=v.createContext(),Jw=({children:e})=>{const[t,n]=v.useState(()=>{const r=localStorage.getItem("user");return r?JSON.parse(r):null});return v.useEffect(()=>{const r=i=>{i.key==="user"&&n(i.newValue?JSON.parse(i.newValue):null)};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),f.createElement(Pv.Provider,{value:{user:t,setUser:n}},e)},la=()=>v.useContext(Pv);function Zw(){const e=br(),{setUser:t}=la(),[n,r]=v.useState({username:"",password:""}),[i,s]=v.useState({}),[o,l]=v.useState(!1),[a,u]=v.useState({text:"",type:""}),h=()=>{const y={};return n.username||(y.username="Username is required"),n.password||(y.password="Password is required"),y},d=y=>{const{name:_,value:E}=y.target;r(w=>({...w,[_]:E})),s(w=>({...w,[_]:void 0}))},c=async y=>{y.preventDefault();const _=h();if(s(_),!(Object.keys(_).length>0)){l(!0),u({text:"",type:""});try{const E=await fetch("https://system-production-9942.up.railway.app/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.username,password:n.password})}),w=await E.json();E.ok?(u({text:"Login successful!",type:"success"}),t(w.data.user),localStorage.setItem("user",JSON.stringify(w.data.user)),setTimeout(()=>{e("/admin")},1e3)):u({text:w.message||"Login failed.",type:"error"})}catch{u({text:"Network error. Please try again.",type:"error"})}finally{l(!1)}}};return f.createElement("div",{className:"login-main"},f.createElement("div",{className:"login-form-container"},f.createElement("h2",{className:"login-title"},"Welcome Back"),f.createElement("form",{className:"login-form",onSubmit:c,noValidate:!0},f.createElement("div",{className:"login-field"},f.createElement("label",{htmlFor:"username",className:"login-label"},"Username"),f.createElement("input",{type:"text",id:"username",name:"username",className:`login-input${i.username?" login-input-error":""}`,value:n.username,onChange:d,autoComplete:"username",required:!0}),i.username&&f.createElement("div",{className:"login-message login-message-error"},i.username)),f.createElement("div",{className:"login-field"},f.createElement("label",{htmlFor:"password",className:"login-label"},"Password"),f.createElement("input",{type:"password",id:"password",name:"password",className:`login-input${i.password?" login-input-error":""}`,value:n.password,onChange:d,autoComplete:"current-password",required:!0}),i.password&&f.createElement("div",{className:"login-message login-message-error"},i.password)),f.createElement("div",{style:{textAlign:"right",marginBottom:"1em"}},f.createElement("button",{type:"button",className:"login-link",style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",padding:0},onClick:()=>e("/forgot-password")},"Forgot Password?")),f.createElement("div",{className:"login-actions"},f.createElement("button",{type:"submit",className:"login-btn login-btn-primary",disabled:o},o?"Logging in...":"Log In"))),a.text&&f.createElement("div",{className:`login-message ${a.type==="success"?"login-message-success":"login-message-error"}`},a.text),f.createElement("div",{className:"login-signup-link"},"Don't have an account?"," ",f.createElement("span",{className:"login-link",tabIndex:0,role:"button",onClick:()=>e("/register"),onKeyDown:y=>{y.key==="Enter"&&e("/register")},style:{textDecoration:"underline",color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:0}},"Register"))))}const eC=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),o=br(),l=async a=>{a.preventDefault(),r(""),s("");try{(await fetch("https://system-production-9942.up.railway.app/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})).ok?r("Password reset instructions sent to your email."):s("Failed to send reset email. Please try again.")}catch{s("An error occurred. Please try again.")}};return f.createElement("div",{className:"main"},f.createElement("div",{className:"form-container"},f.createElement("h2",{className:"title"},"Forgot Password"),f.createElement("form",{className:"form",onSubmit:l},f.createElement("div",{className:"form-group"},f.createElement("label",{className:"label",htmlFor:"forgot-email"},"Email"),f.createElement("input",{id:"forgot-email",type:"email",className:"input",placeholder:"Enter your email",value:e,onChange:a=>t(a.target.value),required:!0})),f.createElement("button",{className:"signup-button",type:"submit"},"Send Reset Link")),n&&f.createElement("div",{className:"success-message"},n),i&&f.createElement("div",{className:"error-message"},i),f.createElement("button",{className:"back-button",onClick:()=>o("/login"),style:{marginTop:8}},"Back to Login")))},tC="/assets/issalonlogo-c4fc00ce.jpg",nC="/assets/issalonnails-a70f4a89.png",rC=()=>f.createElement(f.Fragment,null,f.createElement("header",{className:"header"},f.createElement("div",{className:"header-container"},f.createElement("div",{className:"logo"},f.createElement("img",{src:tC,alt:"Logo",className:"logo"})))),f.createElement("main",{className:"main"},f.createElement(Rd,null)),f.createElement("footer",{className:"footer"},f.createElement("div",{className:"footer-container"},f.createElement("div",{className:"nail"},f.createElement("img",{src:nC,alt:"infinitysalon",id:"nails"})),f.createElement("div",{className:"footer-links"},f.createElement("a",{href:"#",className:"footer-link"},"Terms & Condition"),f.createElement("a",{href:"#",className:"footer-link"},"Policy Privacy")))));function iC(){const{token:e}=zE(),[t,n]=v.useState(""),[r,i]=v.useState(""),[s,o]=v.useState(""),[l,a]=v.useState(""),u=br(),h=async d=>{if(d.preventDefault(),a(""),o(""),t!==r){a("Passwords do not match.");return}try{(await fetch("https://system-production-9942.up.railway.app/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t})})).ok?(o("Password reset successful! Redirecting to login..."),setTimeout(()=>u("/login"),2e3)):a("Failed to reset password. Please try again.")}catch{a("Network error. Please try again.")}};return f.createElement("div",{className:"main"},f.createElement("div",{className:"form-container"},f.createElement("h2",{className:"title"},"Reset Password"),f.createElement("form",{className:"form",onSubmit:h},f.createElement("div",{className:"form-group"},f.createElement("label",{className:"label",htmlFor:"reset-password"},"New Password"),f.createElement("input",{id:"reset-password",type:"password",className:"input",placeholder:"New password",value:t,onChange:d=>n(d.target.value),required:!0})),f.createElement("div",{className:"form-group"},f.createElement("label",{className:"label",htmlFor:"reset-retype"},"Retype Password"),f.createElement("input",{id:"reset-retype",type:"password",className:"input",placeholder:"Retype new password",value:r,onChange:d=>i(d.target.value),required:!0})),f.createElement("button",{className:"signup-button",type:"submit"},"Reset Password")),s&&f.createElement("div",{className:"success-message"},s),l&&f.createElement("div",{className:"error-message"},l)))}const sC=()=>f.createElement("div",null,f.createElement("h1",null,"Admin Dashboard"),f.createElement("p",null,"Welcome to the admin dashboard. Select an option from the sidebar to get started.")),oC=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(e,t){if(!e)throw Fi(t)},Fi=function(e){return new Error("Firebase Database ("+bv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},lC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Od={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,h=s>>2,d=(s&3)<<4|l>>4;let c=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(c=64)),r.push(n[h],n[d],n[c],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ov(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new aC;const c=s<<2|l>>4;if(r.push(c),u!==64){const y=l<<4&240|u>>2;if(r.push(y),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Av=function(e){const t=Ov(e);return Od.encodeByteArray(t,!0)},xl=function(e){return Av(e).replace(/\./g,"")},ic=function(e){try{return Od.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e){return Dv(void 0,e)}function Dv(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!cC(n)||(e[n]=Dv(e[n],t[n]));return e}function cC(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>dC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},pC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ic(e[1]);return t&&JSON.parse(t)},Mv=()=>{try{return oC()||fC()||hC()||pC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},mC=e=>{var t,n;return(n=(t=Mv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},gC=e=>{const t=mC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Lv=()=>{var e;return(e=Mv())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(e){return e.endsWith(".cloudworkstations.dev")}async function vC(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[xl(JSON.stringify(n)),xl(JSON.stringify(o)),l].join(".")}const gs={};function _C(){const e={prod:[],emulator:[]};for(const t of Object.keys(gs))gs[t]?e.emulator.push(t):e.prod.push(t);return e}function EC(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ep=!1;function wC(e,t){if(typeof window>"u"||typeof document>"u"||!Ad(window.location.host)||gs[e]===t||gs[e]||ep)return;gs[e]=t;function n(c){return`__firebase__banner__${c}`}const r="__firebase__banner",s=_C().prod.length>0;function o(){const c=document.getElementById(r);c&&c.remove()}function l(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function a(c,y){c.setAttribute("width","24"),c.setAttribute("id",y),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{ep=!0,o()},c}function h(c,y){c.setAttribute("id",y),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function d(){const c=EC(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),E=n("learnmore"),w=document.getElementById(E)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const g=c.element;l(g),h(w,E);const C=u();a(p,m),g.append(p,_,w,C),document.body.appendChild(g)}s?(_.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(CC())}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zv(){return bv.NODE_ADMIN===!0}function kC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="FirebaseError";class io extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=NC,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uv.prototype.create)}}class Uv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?TC(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new io(i,l,r)}}function TC(e,t){return e.replace(IC,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const IC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e){return JSON.parse(e)}function Re(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Us(ic(s[0])||""),n=Us(ic(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},RC=function(e){const t=$v(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PC=function(e){const t=$v(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ci(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function tp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Nl(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Tl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(np(s)&&np(o)){if(!Tl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function np(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const c=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(c<<1|c>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),h=1518500249):(u=s^o^l,h=1859775393):d<60?(u=s&o|l&(s|o),h=2400959708):(u=s^o^l,h=3395469782);const c=(i<<5|i>>>27)+u+a+h+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=c}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function aa(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ua=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e){return e&&e._delegate?e._delegate:e}class $s{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ro;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LC(t))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ur){return this.instances.has(t)}getOptions(t=ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ur){return this.component?this.component.multipleInstances?t:ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MC(e){return e===ur?void 0:e}function LC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new DC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ie||(ie={}));const zC={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},UC=ie.INFO,$C={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},BC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=$C[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bv{constructor(t){this.name=t,this._logLevel=UC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const WC=(e,t)=>t.some(n=>e instanceof n);let rp,ip;function jC(){return rp||(rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HC(){return ip||(ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,sc=new WeakMap,jv=new WeakMap,Xa=new WeakMap,Dd=new WeakMap;function VC(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Vn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Wv.set(n,e)}).catch(()=>{}),Dd.set(t,e),t}function GC(e){if(sc.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});sc.set(e,t)}let oc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function KC(e){oc=e(oc)}function QC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ja(this),t,...n);return jv.set(r,t.sort?t.sort():[t]),Vn(r)}:HC().includes(e)?function(...t){return e.apply(Ja(this),t),Vn(Wv.get(this))}:function(...t){return Vn(e.apply(Ja(this),t))}}function YC(e){return typeof e=="function"?QC(e):(e instanceof IDBTransaction&&GC(e),WC(e,jC())?new Proxy(e,oc):e)}function Vn(e){if(e instanceof IDBRequest)return VC(e);if(Xa.has(e))return Xa.get(e);const t=YC(e);return t!==e&&(Xa.set(e,t),Dd.set(t,e)),t}const Ja=e=>Dd.get(e);function qC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Vn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Vn(o.result),a.oldVersion,a.newVersion,Vn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const XC=["get","getKey","getAll","getAllKeys","count"],JC=["put","add","delete","clear"],Za=new Map;function sp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Za.get(t))return Za.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=JC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XC.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Za.set(t,s),s}KC(e=>({...e,get:(t,n,r)=>sp(t,n)||e.get(t,n,r),has:(t,n)=>!!sp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const lc="@firebase/app",op="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new Bv("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",rS="@firebase/analytics",iS="@firebase/app-check-compat",sS="@firebase/app-check",oS="@firebase/auth",lS="@firebase/auth-compat",aS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",dS="@firebase/functions",fS="@firebase/functions-compat",hS="@firebase/installations",pS="@firebase/installations-compat",mS="@firebase/messaging",gS="@firebase/messaging-compat",vS="@firebase/performance",yS="@firebase/performance-compat",_S="@firebase/remote-config",ES="@firebase/remote-config-compat",wS="@firebase/storage",CS="@firebase/storage-compat",SS="@firebase/firestore",kS="@firebase/ai",xS="@firebase/firestore-compat",NS="firebase",TS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="[DEFAULT]",IS={[lc]:"fire-core",[tS]:"fire-core-compat",[rS]:"fire-analytics",[nS]:"fire-analytics-compat",[sS]:"fire-app-check",[iS]:"fire-app-check-compat",[oS]:"fire-auth",[lS]:"fire-auth-compat",[aS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[dS]:"fire-fn",[fS]:"fire-fn-compat",[hS]:"fire-iid",[pS]:"fire-iid-compat",[mS]:"fire-fcm",[gS]:"fire-fcm-compat",[vS]:"fire-perf",[yS]:"fire-perf-compat",[_S]:"fire-rc",[ES]:"fire-rc-compat",[wS]:"fire-gcs",[CS]:"fire-gcs-compat",[SS]:"fire-fst",[xS]:"fire-fst-compat",[kS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,RS=new Map,uc=new Map;function lp(e,t){try{e.container.addComponent(t)}catch(n){yn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Rl(e){const t=e.name;if(uc.has(t))return yn.debug(`There were multiple attempts to register component ${t}.`),!1;uc.set(t,e);for(const n of Il.values())lp(n,e);for(const n of RS.values())lp(n,e);return!0}function PS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bS(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gn=new Uv("app","Firebase",OS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=TS;function Hv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:ac,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=Lv()),!n)throw Gn.create("no-options");const s=Il.get(i);if(s){if(Tl(n,s.options)&&Tl(r,s.config))return s;throw Gn.create("duplicate-app",{appName:i})}const o=new FC(i);for(const a of uc.values())o.addComponent(a);const l=new AS(n,r,o);return Il.set(i,l),l}function MS(e=ac){const t=Il.get(e);if(!t&&e===ac&&Lv())return Hv();if(!t)throw Gn.create("no-app",{appName:e});return t}function ci(e,t,n){var r;let i=(r=IS[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yn.warn(l.join(" "));return}Rl(new $s(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebase-heartbeat-database",FS=1,Bs="firebase-heartbeat-store";let eu=null;function Vv(){return eu||(eu=qC(LS,FS,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bs)}catch(n){console.warn(n)}}}}).catch(e=>{throw Gn.create("idb-open",{originalErrorMessage:e.message})})),eu}async function zS(e){try{const n=(await Vv()).transaction(Bs),r=await n.objectStore(Bs).get(Gv(e));return await n.done,r}catch(t){if(t instanceof io)yn.warn(t.message);else{const n=Gn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yn.warn(n.message)}}}async function ap(e,t){try{const r=(await Vv()).transaction(Bs,"readwrite");await r.objectStore(Bs).put(t,Gv(e)),await r.done}catch(n){if(n instanceof io)yn.warn(n.message);else{const r=Gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yn.warn(r.message)}}}function Gv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=1024,$S=30;class BS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=up();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>$S){const o=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=up(),{heartbeatsToSend:r,unsentEntries:i}=WS(this._heartbeatsCache.heartbeats),s=xl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yn.warn(n),""}}}function up(){return new Date().toISOString().substring(0,10)}function WS(e,t=US){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cp(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ap(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ap(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function cp(e){return xl(JSON.stringify({version:2,heartbeats:e})).length}function HS(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(e){Rl(new $s("platform-logger",t=>new ZC(t),"PRIVATE")),Rl(new $s("heartbeat",t=>new BS(t),"PRIVATE")),ci(lc,op,e),ci(lc,op,"esm2017"),ci("fire-js","")}VS("");var GS="firebase",KS="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(GS,KS,"app");const dp="@firebase/database",fp="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kv="";function QS(e){Kv=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Re(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Us(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Qt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new YS(t)}}catch{}return new qS},gr=Qv("localStorage"),cc=Qv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Bv("@firebase/database"),XS=function(){let e=1;return function(){return e++}}(),Yv=function(e){const t=AC(e),n=new OC;n.update(t);const r=n.digest();return Od.encodeByteArray(r)},so=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=so.apply(null,r):typeof r=="object"?t+=Re(r):t+=r,t+=" "}return t};let _r=null,hp=!0;const JS=function(e,t){N(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(di.logLevel=ie.VERBOSE,_r=di.log.bind(di),t&&cc.set("logging_enabled",!0)):typeof e=="function"?_r=e:(_r=null,cc.remove("logging_enabled"))},ze=function(...e){if(hp===!0&&(hp=!1,_r===null&&cc.get("logging_enabled")===!0&&JS(!0)),_r){const t=so.apply(null,e);_r(t)}},oo=function(e){return function(...t){ze(e,...t)}},dc=function(...e){const t="FIREBASE INTERNAL ERROR: "+so(...e);di.error(t)},_n=function(...e){const t=`FIREBASE FATAL ERROR: ${so(...e)}`;throw di.error(t),new Error(t)},Xe=function(...e){const t="FIREBASE WARNING: "+so(...e);di.warn(t)},ZS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Md=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ek=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Si="[MIN_NAME]",xr="[MAX_NAME]",Or=function(e,t){if(e===t)return 0;if(e===Si||t===xr)return-1;if(t===Si||e===xr)return 1;{const n=pp(e),r=pp(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},tk=function(e,t){return e===t?0:e<t?-1:1},Zi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Re(t))},Ld=function(e){if(typeof e!="object"||e===null)return Re(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Re(t[r]),n+=":",n+=Ld(e[t[r]]);return n+="}",n},qv=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Be(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Xv=function(e){N(!Md(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(a=0;a<64;a+=8){let c=parseInt(h.substr(a,8),2).toString(16);c.length===1&&(c="0"+c),d=d+c}return d.toLowerCase()},nk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ik(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const sk=new RegExp("^-?(0*)\\d{1,10}$"),ok=-2147483648,lk=2147483647,pp=function(e){if(sk.test(e)){const t=Number(e);if(t>=ok&&t<=lk)return t}return null},Ui=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Xe("Exception was thrown by user callback.",n),t},Math.floor(0))}},ak=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vs=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,bS(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Xe(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xe(t)}}class fi{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}fi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="5",Jv="v",Zv="s",ey="r",ty="f",ny=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ry="ls",iy="p",fc="ac",sy="websocket",oy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&gr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function dk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ay(e,t,n){N(typeof t=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(t===sy)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===oy)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);dk(e)&&(n.ns=e.namespace);const i=[];return Be(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.counters_={}}incrementCounter(t,n=1){Qt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return uC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu={},nu={};function zd(e){const t=e.toString();return tu[t]||(tu[t]=new fk),tu[t]}function hk(e,t){const n=e.toString();return nu[n]||(nu[n]=t()),nu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ui(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="start",mk="close",gk="pLPCommand",vk="pRTLPCB",uy="id",cy="pw",dy="ser",yk="cb",_k="seg",Ek="ts",wk="d",Ck="dframe",fy=1870,hy=30,Sk=fy-hy,kk=25e3,xk=3e4;class ri{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oo(t),this.stats_=zd(n),this.urlFn=a=>(this.appCheckToken&&(a[fc]=this.appCheckToken),ay(n,oy,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pk(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xk)),ek(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ud((...s)=>{const[o,l,a,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===mp)this.id=l,this.password=a;else if(o===mk)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[mp]="t",r[dy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Jv]=Fd,this.transportSessionId&&(r[Zv]=this.transportSessionId),this.lastSessionId&&(r[ry]=this.lastSessionId),this.applicationId&&(r[iy]=this.applicationId),this.appCheckToken&&(r[fc]=this.appCheckToken),typeof location<"u"&&location.hostname&&ny.test(location.hostname)&&(r[ey]=ty);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ri.forceAllow_=!0}static forceDisallow(){ri.forceDisallow_=!0}static isAvailable(){return ri.forceAllow_?!0:!ri.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nk()&&!rk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Re(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Av(n),i=qv(r,Sk);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Ck]="t",r[uy]=t,r[cy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Re(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ud{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XS(),window[gk+this.uniqueCallbackIdentifier]=t,window[vk+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ud.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ze("frame writing exception"),l.stack&&ze(l.stack),ze(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ze("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[uy]=this.myID,t[cy]=this.myPW,t[dy]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hy+r.length<=fy;){const o=this.pendingSegs.shift();r=r+"&"+_k+i+"="+o.seg+"&"+Ek+i+"="+o.ts+"&"+wk+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(kk)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=16384,Tk=45e3;let Pl=null;typeof MozWebSocket<"u"?Pl=MozWebSocket:typeof WebSocket<"u"&&(Pl=WebSocket);class At{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oo(this.connId),this.stats_=zd(n),this.connURL=At.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[Jv]=Fd,typeof location<"u"&&location.hostname&&ny.test(location.hostname)&&(o[ey]=ty),n&&(o[Zv]=n),r&&(o[ry]=r),i&&(o[fc]=i),s&&(o[iy]=s),ay(t,sy,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gr.set("previous_websocket_failure",!0);try{let r;zv(),this.mySock=new Pl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Pl!==null&&!At.forceDisallow_}static previouslyFailed(){return gr.isInMemoryStorage||gr.get("previous_websocket_failure")===!0}markConnectionHealthy(){gr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Us(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(N(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Re(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qv(n,Nk);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Tk))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{static get ALL_TRANSPORTS(){return[ri,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=At&&At.isAvailable();let r=n&&!At.previouslyFailed();if(t.webSocketOnly&&(n||Xe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[At];else{const i=this.transports_=[];for(const s of Ws.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=6e4,Rk=5e3,Pk=10*1024,bk=100*1024,ru="t",gp="d",Ok="s",vp="r",Ak="e",yp="o",_p="a",Ep="n",wp="p",Dk="h";class Mk{constructor(t,n,r,i,s,o,l,a,u,h){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oo("c:"+this.id+":"),this.transportManager_=new Ws(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=vs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Pk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ru in t){const n=t[ru];n===_p?this.upgradeIfSecondaryHealthy_():n===vp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===yp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Zi("t",t),r=Zi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_p,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ep,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Zi("t",t),r=Zi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Zi(ru,t);if(gp in t){const r=t[gp];if(n===Dk){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ep){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ok?this.onConnectionShutdown_(r):n===vp?this.onReset_(r):n===Ak?dc("Server Error: "+r):n===yp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fd!==r&&Xe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ik))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t){this.allowedEvents_=t,this.listeners_={},N(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){N(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends my{static getInstance(){return new bl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return N(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=32,Sp=768;class ee{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Y(){return new ee("")}function j(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Xn(e){return e.pieces_.length-e.pieceNum_}function se(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ee(e.pieces_,t)}function $d(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Lk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function js(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function gy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ee(t,0)}function _e(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ee)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ee(n,0)}function V(e){return e.pieceNum_>=e.pieces_.length}function Ye(e,t){const n=j(e),r=j(t);if(n===null)return t;if(n===r)return Ye(se(e),se(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fk(e,t){const n=js(e,0),r=js(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Or(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Bd(e,t){if(Xn(e)!==Xn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Et(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Xn(e)>Xn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class zk{constructor(t,n){this.errorPrefix_=n,this.parts_=js(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ua(this.parts_[r]);vy(this)}}function Uk(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ua(t),vy(e)}function $k(e){const t=e.parts_.pop();e.byteLength_-=ua(t),e.parts_.length>0&&(e.byteLength_-=1)}function vy(e){if(e.byteLength_>Sp)throw new Error(e.errorPrefix_+"has a key path longer than "+Sp+" bytes ("+e.byteLength_+").");if(e.parts_.length>Cp)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cp+") or object contains a cycle "+cr(e))}function cr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends my{static getInstance(){return new Wd}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return N(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=1e3,Bk=60*5*1e3,kp=30*1e3,Wk=1.3,jk=3e4,Hk="server_kill",xp=3;class fn extends py{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=fn.nextPersistentConnectionId_++,this.log_=oo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=es,this.maxReconnectDelay_=Bk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!zv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&bl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Re(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new ro,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;fn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Qt(t,"w")){const r=Ci(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Xe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||PC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=RC(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Re(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):dc("Unrecognized action received from server: "+Re(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jk&&(this.reconnectDelay_=es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Wk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+fn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){N(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?ze("getToken() completed but was canceled"):(ze("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=c&&c.token,l=new Mk(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,y=>{Xe(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hk)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Xe(d),a())}}}interrupt(t){ze("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ze("Resuming connection for reason: "+t),delete this.interruptReasons_[t],tp(this.interruptReasons_)&&(this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Ld(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ee(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){ze("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xp&&(this.reconnectDelay_=kp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ze("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Kv.replace(/\./g,"-")]=1,Fv()?t["framework.cordova"]=1:SC()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=bl.getInstance().currentlyOnline();return tp(this.interruptReasons_)&&t}}fn.nextPersistentConnectionId_=0;fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new H(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new H(Si,t),i=new H(Si,n);return this.compare(r,i)!==0}minPost(){return H.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class yy extends ca{static get __EMPTY_NODE(){return Mo}static set __EMPTY_NODE(t){Mo=t}compare(t,n){return Or(t.name,n.name)}isDefinedOn(t){throw Fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return H.MIN}maxPost(){return new H(xr,Mo)}makePost(t,n){return N(typeof t=="string","KeyIndex indexValue must always be a string."),new H(t,Mo)}toString(){return".key"}}const hi=new yy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class De{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??De.RED,this.left=i??it.EMPTY_NODE,this.right=s??it.EMPTY_NODE}copy(t,n,r,i,s){return new De(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return it.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return it.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}De.RED=!0;De.BLACK=!1;class Vk{copy(t,n,r,i,s){return this}insert(t,n,r){return new De(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class it{constructor(t,n=it.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new it(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(t){return new it(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,De.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Lo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Lo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Lo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Lo(this.root_,null,this.comparator_,!0,t)}}it.EMPTY_NODE=new Vk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(e,t){return Or(e.name,t.name)}function jd(e,t){return Or(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;function Kk(e){hc=e}const _y=function(e){return typeof e=="number"?"number:"+Xv(e):"string:"+e},Ey=function(e){if(e.isLeafNode()){const t=e.val();N(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Qt(t,".sv"),"Priority must be a string or number.")}else N(e===hc||e.isEmpty(),"priority of unexpected type.");N(e===hc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np;class Oe{static set __childrenNodeConstructor(t){Np=t}static get __childrenNodeConstructor(){return Np}constructor(t,n=Oe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ey(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Oe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return V(t)?this:j(t)===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Oe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=j(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||Xn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Oe.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+_y(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Xv(this.value_):t+=this.value_,this.lazyHash_=Yv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Oe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Oe.__childrenNodeConstructor?-1:(N(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Oe.VALUE_TYPE_ORDER.indexOf(n),s=Oe.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Oe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wy,Cy;function Qk(e){wy=e}function Yk(e){Cy=e}class qk extends ca{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Or(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return H.MIN}maxPost(){return new H(xr,new Oe("[PRIORITY-POST]",Cy))}makePost(t,n){const r=wy(t);return new H(n,new Oe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ee=new qk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=Math.log(2);class Jk{constructor(t){const n=s=>parseInt(Math.log(s)/Xk,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ol=function(e,t,n,r){e.sort(t);const i=function(a,u){const h=u-a;let d,c;if(h===0)return null;if(h===1)return d=e[a],c=n?n(d):d,new De(c,d.node,De.BLACK,null,null);{const y=parseInt(h/2,10)+a,_=i(a,y),E=i(y+1,u);return d=e[y],c=n?n(d):d,new De(c,d.node,De.BLACK,_,E)}},s=function(a){let u=null,h=null,d=e.length;const c=function(_,E){const w=d-_,m=d;d-=_;const p=i(w+1,m),g=e[w],C=n?n(g):g;y(new De(C,g.node,E,null,p))},y=function(_){u?(u.left=_,u=_):(h=_,u=_)};for(let _=0;_<a.count;++_){const E=a.nextBitIsOne(),w=Math.pow(2,a.count-(_+1));E?c(w,De.BLACK):(c(w,De.BLACK),c(w,De.RED))}return h},o=new Jk(e.length),l=s(o);return new it(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;const Hr={};class un{static get Default(){return N(Hr&&Ee,"ChildrenNode.ts has not been loaded"),iu=iu||new un({".priority":Hr},{".priority":Ee}),iu}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Ci(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof it?n:null}hasIndex(t){return Qt(this.indexSet_,t.toString())}addIndex(t,n){N(t!==hi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(H.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ol(r,t.getCompare()):l=Hr;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const h=Object.assign({},this.indexes_);return h[a]=l,new un(h,u)}addToIndexes(t,n){const r=Nl(this.indexes_,(i,s)=>{const o=Ci(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Hr)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(H.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Ol(l,o.getCompare())}else return Hr;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new H(t.name,l))),a.insert(t,t.node)}});return new un(r,this.indexSet_)}removeFromIndexes(t,n){const r=Nl(this.indexes_,i=>{if(i===Hr)return i;{const s=n.get(t.name);return s?i.remove(new H(t.name,s)):i}});return new un(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts;class U{static get EMPTY_NODE(){return ts||(ts=new U(new it(jd),null,un.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ey(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ts}updatePriority(t){return this.children_.isEmpty()?this:new U(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ts:n}}getChild(t){const n=j(t);return n===null?this:this.getImmediateChild(n).getChild(se(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(N(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new H(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ts:this.priorityNode_;return new U(i,o,s)}}updateChild(t,n){const r=j(t);if(r===null)return n;{N(j(t)!==".priority"||Xn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(se(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ee,(o,l)=>{n[o]=l.val(t),r++,s&&U.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+_y(this.getPriority().val())+":"),this.forEachChild(Ee,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Yv(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new H(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new H(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new H(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,H.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,H.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===lo?-1:0}withIndex(t){if(t===hi||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===hi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ee),i=n.getIterator(Ee);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===hi?null:this.indexMap_.get(t.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Zk extends U{constructor(){super(new it(jd),U.EMPTY_NODE,un.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}}const lo=new Zk;Object.defineProperties(H,{MIN:{value:new H(Si,U.EMPTY_NODE)},MAX:{value:new H(xr,lo)}});yy.__EMPTY_NODE=U.EMPTY_NODE;Oe.__childrenNodeConstructor=U;Kk(lo);Yk(lo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=!0;function Ie(e,t=null){if(e===null)return U.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),N(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Oe(n,Ie(t))}if(!(e instanceof Array)&&ex){const n=[];let r=!1;if(Be(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=Ie(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new H(o,a)))}}),n.length===0)return U.EMPTY_NODE;const s=Ol(n,Gk,o=>o.name,jd);if(r){const o=Ol(n,Ee.getCompare());return new U(s,Ie(t),new un({".priority":o},{".priority":Ee}))}else return new U(s,Ie(t),un.Default)}else{let n=U.EMPTY_NODE;return Be(e,(r,i)=>{if(Qt(e,r)&&r.substring(0,1)!=="."){const s=Ie(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ie(t))}}Qk(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends ca{constructor(t){super(),this.indexPath_=t,N(!V(t)&&j(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Or(t.name,n.name):s}makePost(t,n){const r=Ie(t),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new H(n,i)}maxPost(){const t=U.EMPTY_NODE.updateChild(this.indexPath_,lo);return new H(xr,t)}toString(){return js(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx extends ca{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Or(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return H.MIN}maxPost(){return H.MAX}makePost(t,n){const r=Ie(t);return new H(n,r)}toString(){return".value"}}const rx=new nx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e){return{type:"value",snapshotNode:e}}function ki(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Vs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function ix(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){N(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Hs(n,l)):N(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ki(n,r)):o.trackChildChange(Vs(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(Hs(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Vs(i,s,o))}else r.trackChildChange(ki(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this.indexedFilter_=new Hd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Gs.getStartPost_(t),this.endPost_=Gs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new H(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);const s=this;return n.forEachChild(Ee,(o,l)=>{s.matches(new H(o,l))||(i=i.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new H(n,r))||(r=U.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(c,y)=>d(y,c)}else o=this.index_.getCompare();const l=t;N(l.numChildren()===this.limit_,"");const a=new H(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let c=i.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);const y=c==null?1:o(c,a);if(h&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Vs(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Hs(n,d));const E=l.updateImmediateChild(n,U.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(s!=null&&s.trackChildChange(ki(c.name,c.node)),E.updateImmediateChild(c.name,c.node)):E}}else return r.isEmpty()?t:h&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Hs(u.name,u.node)),s.trackChildChange(ki(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,U.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Si}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const t=new Vd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ox(e){return e.loadsAllData()?new Hd(e.getIndex()):e.hasLimit()?new sx(e):new Gs(e)}function Tp(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ee?n="$priority":e.index_===rx?n="$value":e.index_===hi?n="$key":(N(e.index_ instanceof tx,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Re(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Re(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Re(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Re(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Re(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ip(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ee&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends py{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(N(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=oo("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Al.getListenId_(t,r),l={};this.listens_[o]=l;const a=Tp(t._queryParams);this.restRequest_(s+".json",a,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Ci(this.listens_,o)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",i(c,null)}})}unlisten(t,n){const r=Al.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Tp(t._queryParams),r=t._path.toString(),i=new ro;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+bC(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Us(l.responseText)}catch{Xe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Xe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(){return{value:null,children:new Map}}function ky(e,t,n){if(V(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=j(t);e.children.has(r)||e.children.set(r,Dl());const i=e.children.get(r);t=se(t),ky(i,t,n)}}function pc(e,t,n){e.value!==null?n(t,e.value):ax(e,(r,i)=>{const s=new ee(t.toString()+"/"+r);pc(i,s,n)})}function ax(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Be(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=10*1e3,cx=30*1e3,dx=5*60*1e3;class fx{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ux(t);const r=Rp+(cx-Rp)*Math.random();vs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Be(t,(i,s)=>{s>0&&Qt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),vs(this.reportStats_.bind(this),Math.floor(Math.random()*2*dx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Dt||(Dt={}));function Gd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Dt.ACK_USER_WRITE,this.source=Gd()}operationForChild(t){if(V(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ee(t));return new Ml(Y(),n,this.revert)}}else return N(j(this.path)===t,"operationForChild called for unrelated child."),new Ml(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t,n){this.source=t,this.path=n,this.type=Dt.LISTEN_COMPLETE}operationForChild(t){return V(this.path)?new Ks(this.source,Y()):new Ks(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Dt.OVERWRITE}operationForChild(t){return V(this.path)?new Nr(this.source,Y(),this.snap.getImmediateChild(t)):new Nr(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Dt.MERGE}operationForChild(t){if(V(this.path)){const n=this.children.subtree(new ee(t));return n.isEmpty()?null:n.value?new Nr(this.source,Y(),n.value):new xi(this.source,Y(),n)}else return N(j(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xi(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(V(t))return this.isFullyInitialized()&&!this.filtered_;const n=j(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function px(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ix(o.childName,o.snapshotNode))}),ns(e,i,"child_removed",t,r,n),ns(e,i,"child_added",t,r,n),ns(e,i,"child_moved",s,r,n),ns(e,i,"child_changed",t,r,n),ns(e,i,"value",t,r,n),i}function ns(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>gx(e,l,a)),o.forEach(l=>{const a=mx(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function mx(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function gx(e,t,n){if(t.childName==null||n.childName==null)throw Fi("Should only compare child_ events.");const r=new H(t.childName,t.snapshotNode),i=new H(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(e,t){return{eventCache:e,serverCache:t}}function ys(e,t,n,r){return da(new Jn(t,n,r),e.serverCache)}function xy(e,t,n,r){return da(e.eventCache,new Jn(t,n,r))}function Ll(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Tr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;const vx=()=>(su||(su=new it(tk)),su);class re{static fromObject(t){let n=new re(null);return Be(t,(r,i)=>{n=n.set(new ee(r),i)}),n}constructor(t,n=vx()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Y(),value:this.value};if(V(t))return null;{const r=j(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(se(t),n);return s!=null?{path:_e(new ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(V(t))return this;{const n=j(t),r=this.children.get(n);return r!==null?r.subtree(se(t)):new re(null)}}set(t,n){if(V(t))return new re(n,this.children);{const r=j(t),s=(this.children.get(r)||new re(null)).set(se(t),n),o=this.children.insert(r,s);return new re(this.value,o)}}remove(t){if(V(t))return this.children.isEmpty()?new re(null):new re(null,this.children);{const n=j(t),r=this.children.get(n);if(r){const i=r.remove(se(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new re(null):new re(this.value,s)}else return this}}get(t){if(V(t))return this.value;{const n=j(t),r=this.children.get(n);return r?r.get(se(t)):null}}setTree(t,n){if(V(t))return n;{const r=j(t),s=(this.children.get(r)||new re(null)).setTree(se(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new re(this.value,o)}}fold(t){return this.fold_(Y(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(_e(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Y(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(V(t))return null;{const s=j(t),o=this.children.get(s);return o?o.findOnPath_(se(t),_e(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Y(),n)}foreachOnPath_(t,n,r){if(V(t))return this;{this.value&&r(n,this.value);const i=j(t),s=this.children.get(i);return s?s.foreachOnPath_(se(t),_e(n,i),r):new re(null)}}foreach(t){this.foreach_(Y(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(_e(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.writeTree_=t}static empty(){return new Ft(new re(null))}}function _s(e,t,n){if(V(t))return new Ft(new re(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Ye(i,t);return s=s.updateChild(o,n),new Ft(e.writeTree_.set(i,s))}else{const i=new re(n),s=e.writeTree_.setTree(t,i);return new Ft(s)}}}function mc(e,t,n){let r=e;return Be(n,(i,s)=>{r=_s(r,_e(t,i),s)}),r}function Pp(e,t){if(V(t))return Ft.empty();{const n=e.writeTree_.setTree(t,new re(null));return new Ft(n)}}function gc(e,t){return Ar(e,t)!=null}function Ar(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ye(n.path,t)):null}function bp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{t.push(new H(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new H(r,i.value))}),t}function Kn(e,t){if(V(t))return e;{const n=Ar(e,t);return n!=null?new Ft(new re(n)):new Ft(e.writeTree_.subtree(t))}}function vc(e){return e.writeTree_.isEmpty()}function Ni(e,t){return Ny(Y(),e.writeTree_,t)}function Ny(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Ny(_e(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(_e(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(e,t){return Py(t,e)}function yx(e,t,n,r,i){N(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_s(e.visibleWrites,t,n)),e.lastWriteId=r}function _x(e,t,n,r){N(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=mc(e.visibleWrites,t,n),e.lastWriteId=r}function Ex(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function wx(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);N(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&Cx(l,r.path)?i=!1:Et(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return Sx(e),!0;if(r.snap)e.visibleWrites=Pp(e.visibleWrites,r.path);else{const l=r.children;Be(l,a=>{e.visibleWrites=Pp(e.visibleWrites,_e(r.path,a))})}return!0}else return!1}function Cx(e,t){if(e.snap)return Et(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Et(_e(e.path,n),t))return!0;return!1}function Sx(e){e.visibleWrites=Ty(e.allWrites,kx,Y()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function kx(e){return e.visible}function Ty(e,t,n){let r=Ft.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Et(n,o)?(l=Ye(n,o),r=_s(r,l,s.snap)):Et(o,n)&&(l=Ye(o,n),r=_s(r,Y(),s.snap.getChild(l)));else if(s.children){if(Et(n,o))l=Ye(n,o),r=mc(r,l,s.children);else if(Et(o,n))if(l=Ye(o,n),V(l))r=mc(r,Y(),s.children);else{const a=Ci(s.children,j(l));if(a){const u=a.getChild(se(l));r=_s(r,Y(),u)}}}else throw Fi("WriteRecord should have .snap or .children")}}return r}function Iy(e,t,n,r,i){if(!r&&!i){const s=Ar(e.visibleWrites,t);if(s!=null)return s;{const o=Kn(e.visibleWrites,t);if(vc(o))return n;if(n==null&&!gc(o,Y()))return null;{const l=n||U.EMPTY_NODE;return Ni(o,l)}}}else{const s=Kn(e.visibleWrites,t);if(!i&&vc(s))return n;if(!i&&n==null&&!gc(s,Y()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Et(u.path,t)||Et(t,u.path))},l=Ty(e.allWrites,o,t),a=n||U.EMPTY_NODE;return Ni(l,a)}}}function xx(e,t,n){let r=U.EMPTY_NODE;const i=Ar(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Kn(e.visibleWrites,t);return n.forEachChild(Ee,(o,l)=>{const a=Ni(Kn(s,new ee(o)),l);r=r.updateImmediateChild(o,a)}),bp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Kn(e.visibleWrites,t);return bp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Nx(e,t,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=_e(t,n);if(gc(e.visibleWrites,s))return null;{const o=Kn(e.visibleWrites,s);return vc(o)?i.getChild(n):Ni(o,i.getChild(n))}}function Tx(e,t,n,r){const i=_e(t,n),s=Ar(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Kn(e.visibleWrites,i);return Ni(o,r.getNode().getImmediateChild(n))}else return null}function Ix(e,t){return Ar(e.visibleWrites,t)}function Rx(e,t,n,r,i,s,o){let l;const a=Kn(e.visibleWrites,t),u=Ar(a,Y());if(u!=null)l=u;else if(n!=null)l=Ni(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=o.getCompare(),c=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=c.getNext();for(;y&&h.length<i;)d(y,r)!==0&&h.push(y),y=c.getNext();return h}else return[]}function Px(){return{visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1}}function Fl(e,t,n,r){return Iy(e.writeTree,e.treePath,t,n,r)}function Yd(e,t){return xx(e.writeTree,e.treePath,t)}function Op(e,t,n,r){return Nx(e.writeTree,e.treePath,t,n,r)}function zl(e,t){return Ix(e.writeTree,_e(e.treePath,t))}function bx(e,t,n,r,i,s){return Rx(e.writeTree,e.treePath,t,n,r,i,s)}function qd(e,t,n){return Tx(e.writeTree,e.treePath,t,n)}function Ry(e,t){return Py(_e(e.treePath,t),e.writeTree)}function Py(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Vs(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Hs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ki(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Vs(r,t.snapshotNode,i.oldSnap));else throw Fi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const by=new Ax;class Xd{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Jn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qd(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tr(this.viewCache_),s=bx(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e){return{filter:e}}function Mx(e,t){N(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),N(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Lx(e,t,n,r,i){const s=new Ox;let o,l;if(n.type===Dt.OVERWRITE){const u=n;u.source.fromUser?o=yc(e,t,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!V(u.path),o=Ul(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===Dt.MERGE){const u=n;u.source.fromUser?o=zx(e,t,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=_c(e,t,u.path,u.children,r,i,l,s))}else if(n.type===Dt.ACK_USER_WRITE){const u=n;u.revert?o=Bx(e,t,u.path,r,i,s):o=Ux(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Dt.LISTEN_COMPLETE)o=$x(e,t,n.path,r,s);else throw Fi("Unknown operation type: "+n.type);const a=s.getChanges();return Fx(t,o,a),{viewCache:o,changes:a}}function Fx(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ll(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Sy(Ll(t)))}}function Oy(e,t,n,r,i,s){const o=t.eventCache;if(zl(r,n)!=null)return t;{let l,a;if(V(n))if(N(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Tr(t),h=u instanceof U?u:U.EMPTY_NODE,d=Yd(r,h);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Fl(r,Tr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=j(n);if(u===".priority"){N(Xn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=t.serverCache.getNode();const d=Op(r,n,h,a);d!=null?l=e.filter.updatePriority(h,d):l=o.getNode()}else{const h=se(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const c=Op(r,n,o.getNode(),a);c!=null?d=o.getNode().getImmediateChild(u).updateChild(h,c):d=o.getNode().getImmediateChild(u)}else d=qd(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,h,i,s):l=o.getNode()}}return ys(t,l,o.isFullyInitialized()||V(n),e.filter.filtersNodes())}}function Ul(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const h=o?e.filter:e.filter.getIndexedFilter();if(V(n))u=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);u=h.updateFullNode(a.getNode(),y,null)}else{const y=j(n);if(!a.isCompleteForPath(n)&&Xn(n)>1)return t;const _=se(n),w=a.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?u=h.updatePriority(a.getNode(),w):u=h.updateChild(a.getNode(),y,w,_,by,null)}const d=xy(t,u,a.isFullyInitialized()||V(n),h.filtersNodes()),c=new Xd(i,d,s);return Oy(e,d,n,i,c,l)}function yc(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const h=new Xd(i,t,s);if(V(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=ys(t,u,!0,e.filter.filtersNodes());else{const d=j(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=ys(t,u,l.isFullyInitialized(),l.isFiltered());else{const c=se(n),y=l.getNode().getImmediateChild(d);let _;if(V(c))_=r;else{const E=h.getCompleteChild(d);E!=null?$d(c)===".priority"&&E.getChild(gy(c)).isEmpty()?_=E:_=E.updateChild(c,r):_=U.EMPTY_NODE}if(y.equals(_))a=t;else{const E=e.filter.updateChild(l.getNode(),d,_,c,h,o);a=ys(t,E,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function Ap(e,t){return e.eventCache.isCompleteForChild(t)}function zx(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const h=_e(n,a);Ap(t,j(h))&&(l=yc(e,l,h,u,i,s,o))}),r.foreach((a,u)=>{const h=_e(n,a);Ap(t,j(h))||(l=yc(e,l,h,u,i,s,o))}),l}function Dp(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function _c(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;V(n)?u=r:u=new re(null).setTree(n,r);const h=t.serverCache.getNode();return u.children.inorderTraversal((d,c)=>{if(h.hasChild(d)){const y=t.serverCache.getNode().getImmediateChild(d),_=Dp(e,y,c);a=Ul(e,a,new ee(d),_,i,s,o,l)}}),u.children.inorderTraversal((d,c)=>{const y=!t.serverCache.isCompleteForChild(d)&&c.value===null;if(!h.hasChild(d)&&!y){const _=t.serverCache.getNode().getImmediateChild(d),E=Dp(e,_,c);a=Ul(e,a,new ee(d),E,i,s,o,l)}}),a}function Ux(e,t,n,r,i,s,o){if(zl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(V(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Ul(e,t,n,a.getNode().getChild(n),i,s,l,o);if(V(n)){let u=new re(null);return a.getNode().forEachChild(hi,(h,d)=>{u=u.set(new ee(h),d)}),_c(e,t,n,u,i,s,l,o)}else return t}else{let u=new re(null);return r.foreach((h,d)=>{const c=_e(n,h);a.isCompleteForPath(c)&&(u=u.set(h,a.getNode().getChild(c)))}),_c(e,t,n,u,i,s,l,o)}}function $x(e,t,n,r,i){const s=t.serverCache,o=xy(t,s.getNode(),s.isFullyInitialized()||V(n),s.isFiltered());return Oy(e,o,n,r,by,i)}function Bx(e,t,n,r,i,s){let o;if(zl(r,n)!=null)return t;{const l=new Xd(r,t,i),a=t.eventCache.getNode();let u;if(V(n)||j(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=Fl(r,Tr(t));else{const d=t.serverCache.getNode();N(d instanceof U,"serverChildren would be complete if leaf node"),h=Yd(r,d)}h=h,u=e.filter.updateFullNode(a,h,s)}else{const h=j(n);let d=qd(r,h,t.serverCache);d==null&&t.serverCache.isCompleteForChild(h)&&(d=a.getImmediateChild(h)),d!=null?u=e.filter.updateChild(a,h,d,se(n),l,s):t.eventCache.getNode().hasChild(h)?u=e.filter.updateChild(a,h,U.EMPTY_NODE,se(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Fl(r,Tr(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||zl(r,Y())!=null,ys(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Hd(r.getIndex()),s=ox(r);this.processor_=Dx(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(U.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(U.EMPTY_NODE,l.getNode(),null),h=new Jn(a,o.isFullyInitialized(),i.filtersNodes()),d=new Jn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=da(d,h),this.eventGenerator_=new hx(this.query_)}get query(){return this.query_}}function jx(e){return e.viewCache_.serverCache.getNode()}function Hx(e){return Ll(e.viewCache_)}function Vx(e,t){const n=Tr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!V(t)&&!n.getImmediateChild(j(t)).isEmpty())?n.getChild(t):null}function Mp(e){return e.eventRegistrations_.length===0}function Gx(e,t){e.eventRegistrations_.push(t)}function Lp(e,t,n){const r=[];if(n){N(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Fp(e,t,n,r){t.type===Dt.MERGE&&t.source.queryId!==null&&(N(Tr(e.viewCache_),"We should always have a full cache before handling merges"),N(Ll(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Lx(e.processor_,i,t,n,r);return Mx(e.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ay(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Kx(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(ki(s,o))}),n.isFullyInitialized()&&r.push(Sy(n.getNode())),Ay(e,r,n.getNode(),t)}function Ay(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return px(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l;class Dy{constructor(){this.views=new Map}}function Qx(e){N(!$l,"__referenceConstructor has already been defined"),$l=e}function Yx(){return N($l,"Reference.ts has not been loaded"),$l}function qx(e){return e.views.size===0}function Jd(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),Fp(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Fp(o,t,n,r));return s}}function My(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=Fl(n,i?r:null),a=!1;l?a=!0:r instanceof U?(l=Yd(n,r),a=!1):(l=U.EMPTY_NODE,a=!1);const u=da(new Jn(l,a,!1),new Jn(r,i,!1));return new Wx(t,u)}return o}function Xx(e,t,n,r,i,s){const o=My(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Gx(o,n),Kx(o,n)}function Jx(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Zn(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(Lp(u,n,r)),Mp(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(Lp(a,n,r)),Mp(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Zn(e)&&s.push(new(Yx())(t._repo,t._path)),{removed:s,events:o}}function Ly(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qn(e,t){let n=null;for(const r of e.views.values())n=n||Vx(r,t);return n}function Fy(e,t){if(t._queryParams.loadsAllData())return ha(e);{const r=t._queryIdentifier;return e.views.get(r)}}function zy(e,t){return Fy(e,t)!=null}function Zn(e){return ha(e)!=null}function ha(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;function Zx(e){N(!Bl,"__referenceConstructor has already been defined"),Bl=e}function eN(){return N(Bl,"Reference.ts has not been loaded"),Bl}let tN=1;class zp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new re(null),this.pendingWriteTree_=Px(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uy(e,t,n,r,i){return yx(e.pendingWriteTree_,t,n,r,i),i?$i(e,new Nr(Gd(),t,n)):[]}function nN(e,t,n,r){_x(e.pendingWriteTree_,t,n,r);const i=re.fromObject(n);return $i(e,new xi(Gd(),t,i))}function Dn(e,t,n=!1){const r=Ex(e.pendingWriteTree_,t);if(wx(e.pendingWriteTree_,t)){let s=new re(null);return r.snap!=null?s=s.set(Y(),!0):Be(r.children,o=>{s=s.set(new ee(o),!0)}),$i(e,new Ml(r.path,s,n))}else return[]}function ao(e,t,n){return $i(e,new Nr(Kd(),t,n))}function rN(e,t,n){const r=re.fromObject(n);return $i(e,new xi(Kd(),t,r))}function iN(e,t){return $i(e,new Ks(Kd(),t))}function sN(e,t,n){const r=ef(e,n);if(r){const i=tf(r),s=i.path,o=i.queryId,l=Ye(s,t),a=new Ks(Qd(o),l);return nf(e,s,a)}else return[]}function Wl(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||zy(o,t))){const a=Jx(o,t,n,r);qx(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const h=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(c,y)=>Zn(y));if(h&&!d){const c=e.syncPointTree_.subtree(s);if(!c.isEmpty()){const y=aN(c);for(let _=0;_<y.length;++_){const E=y[_],w=E.query,m=jy(e,E);e.listenProvider_.startListening(Es(w),Qs(e,w),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(h?e.listenProvider_.stopListening(Es(t),null):u.forEach(c=>{const y=e.queryToTagMap.get(pa(c));e.listenProvider_.stopListening(Es(c),y)}))}uN(e,u)}return l}function $y(e,t,n,r){const i=ef(e,r);if(i!=null){const s=tf(i),o=s.path,l=s.queryId,a=Ye(o,t),u=new Nr(Qd(l),a,n);return nf(e,o,u)}else return[]}function oN(e,t,n,r){const i=ef(e,r);if(i){const s=tf(i),o=s.path,l=s.queryId,a=Ye(o,t),u=re.fromObject(n),h=new xi(Qd(l),a,u);return nf(e,o,h)}else return[]}function Ec(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(c,y)=>{const _=Ye(c,i);s=s||Qn(y,_),o=o||Zn(y)});let l=e.syncPointTree_.get(i);l?(o=o||Zn(l),s=s||Qn(l,Y())):(l=new Dy,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=U.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((y,_)=>{const E=Qn(_,Y());E&&(s=s.updateImmediateChild(y,E))}));const u=zy(l,t);if(!u&&!t._queryParams.loadsAllData()){const c=pa(t);N(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");const y=cN();e.queryToTagMap.set(c,y),e.tagToQueryMap.set(y,c)}const h=fa(e.pendingWriteTree_,i);let d=Xx(l,t,n,h,s,a);if(!u&&!o&&!r){const c=Fy(l,t);d=d.concat(dN(e,t,c))}return d}function Zd(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=Ye(o,t),u=Qn(l,a);if(u)return u});return Iy(i,t,s,n,!0)}function lN(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,h)=>{const d=Ye(u,n);r=r||Qn(h,d)});let i=e.syncPointTree_.get(n);i?r=r||Qn(i,Y()):(i=new Dy,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new Jn(r,!0,!1):null,l=fa(e.pendingWriteTree_,t._path),a=My(i,t,l,s?o.getNode():U.EMPTY_NODE,s);return Hx(a)}function $i(e,t){return By(t,e.syncPointTree_,null,fa(e.pendingWriteTree_,Y()))}function By(e,t,n,r){if(V(e.path))return Wy(e,t,n,r);{const i=t.get(Y());n==null&&i!=null&&(n=Qn(i,Y()));let s=[];const o=j(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,h=Ry(r,o);s=s.concat(By(l,a,u,h))}return i&&(s=s.concat(Jd(i,e,r,n))),s}}function Wy(e,t,n,r){const i=t.get(Y());n==null&&i!=null&&(n=Qn(i,Y()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Ry(r,o),h=e.operationForChild(o);h&&(s=s.concat(Wy(h,l,a,u)))}),i&&(s=s.concat(Jd(i,e,r,n))),s}function jy(e,t){const n=t.query,r=Qs(e,n);return{hashFn:()=>(jx(t)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?sN(e,n._path,r):iN(e,n._path);{const s=ik(i,n);return Wl(e,n,null,s)}}}}function Qs(e,t){const n=pa(t);return e.queryToTagMap.get(n)}function pa(e){return e._path.toString()+"$"+e._queryIdentifier}function ef(e,t){return e.tagToQueryMap.get(t)}function tf(e){const t=e.indexOf("$");return N(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ee(e.substr(0,t))}}function nf(e,t,n){const r=e.syncPointTree_.get(t);N(r,"Missing sync point for query tag that we're tracking");const i=fa(e.pendingWriteTree_,t);return Jd(r,n,i,null)}function aN(e){return e.fold((t,n,r)=>{if(n&&Zn(n))return[ha(n)];{let i=[];return n&&(i=Ly(n)),Be(r,(s,o)=>{i=i.concat(o)}),i}})}function Es(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(eN())(e._repo,e._path):e}function uN(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=pa(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function cN(){return tN++}function dN(e,t,n){const r=t._path,i=Qs(e,t),s=jy(e,n),o=e.listenProvider_.startListening(Es(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)N(!Zn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,h,d)=>{if(!V(u)&&h&&Zn(h))return[ha(h).query];{let c=[];return h&&(c=c.concat(Ly(h).map(y=>y.query))),Be(d,(y,_)=>{c=c.concat(_)}),c}});for(let u=0;u<a.length;++u){const h=a[u];e.listenProvider_.stopListening(Es(h),Qs(e,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new rf(n)}node(){return this.node_}}class sf{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=_e(this.path_,t);return new sf(this.syncTree_,n)}node(){return Zd(this.syncTree_,this.path_)}}const fN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Up=function(e,t,n){if(!e||typeof e!="object")return e;if(N(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return hN(e[".sv"],t,n);if(typeof e[".sv"]=="object")return pN(e[".sv"],t);N(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},hN=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+e)}},pN=function(e,t,n){e.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=t.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Hy=function(e,t,n,r){return of(t,new sf(n,e),r)},Vy=function(e,t,n){return of(e,new rf(t),n)};function of(e,t,n){const r=e.getPriority().val(),i=Up(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Up(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new Oe(l,Ie(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Oe(i))),o.forEachChild(Ee,(l,a)=>{const u=of(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function af(e,t){let n=t instanceof ee?t:new ee(t),r=e,i=j(n);for(;i!==null;){const s=Ci(r.node.children,i)||{children:{},childCount:0};r=new lf(i,r,s),n=se(n),i=j(n)}return r}function Bi(e){return e.node.value}function Gy(e,t){e.node.value=t,wc(e)}function Ky(e){return e.node.childCount>0}function mN(e){return Bi(e)===void 0&&!Ky(e)}function ma(e,t){Be(e.node.children,(n,r)=>{t(new lf(n,e,r))})}function Qy(e,t,n,r){n&&!r&&t(e),ma(e,i=>{Qy(i,t,!0,r)}),n&&r&&t(e)}function gN(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function uo(e){return new ee(e.parent===null?e.name:uo(e.parent)+"/"+e.name)}function wc(e){e.parent!==null&&vN(e.parent,e.name,e)}function vN(e,t,n){const r=mN(n),i=Qt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,wc(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,wc(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/[\[\].#$\/\u0000-\u001F\u007F]/,_N=/[\[\].#$\u0000-\u001F\u007F]/,ou=10*1024*1024,uf=function(e){return typeof e=="string"&&e.length!==0&&!yN.test(e)},Yy=function(e){return typeof e=="string"&&e.length!==0&&!_N.test(e)},EN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yy(e)},wN=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Md(e)||e&&typeof e=="object"&&Qt(e,".sv")},CN=function(e,t,n,r){r&&t===void 0||ga(aa(e,"value"),t,n)},ga=function(e,t,n){const r=n instanceof ee?new zk(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+cr(r));if(typeof t=="function")throw new Error(e+"contains a function "+cr(r)+" with contents = "+t.toString());if(Md(t))throw new Error(e+"contains "+t.toString()+" "+cr(r));if(typeof t=="string"&&t.length>ou/3&&ua(t)>ou)throw new Error(e+"contains a string greater than "+ou+" utf8 bytes "+cr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Be(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!uf(o)))throw new Error(e+" contains an invalid key ("+o+") "+cr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uk(r,o),ga(e,l,r),$k(r)}),i&&s)throw new Error(e+' contains ".value" child '+cr(r)+" in addition to actual children.")}},SN=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=js(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!uf(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Fk);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Et(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},kN=function(e,t,n,r){if(r&&t===void 0)return;const i=aa(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Be(t,(o,l)=>{const a=new ee(o);if(ga(i,l,_e(n,a)),$d(a)===".priority"&&!wN(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),SN(i,s)},qy=function(e,t,n,r){if(!(r&&n===void 0)&&!Yy(n))throw new Error(aa(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},xN=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qy(e,t,n,r)},Xy=function(e,t){if(j(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},NN=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!uf(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!EN(n))throw new Error(aa(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function va(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Bd(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Jy(e,t,n){va(e,n),Zy(e,r=>Bd(r,t))}function xt(e,t,n){va(e,n),Zy(e,r=>Et(r,t)||Et(t,r))}function Zy(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(IN(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function IN(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();_r&&ze("event: "+n.toString()),Ui(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="repo_interrupt",PN=25;class bN{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dl(),this.transactionQueueTree_=new lf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ON(e,t,n){if(e.stats_=zd(e.repoInfo_),e.forceRestClient_||ak())e.server_=new Al(e.repoInfo_,(r,i,s,o)=>{$p(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Bp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Re(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new fn(e.repoInfo_,t,(r,i,s,o)=>{$p(e,r,i,s,o)},r=>{Bp(e,r)},r=>{DN(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=hk(e.repoInfo_,()=>new fx(e.stats_,e.server_)),e.infoData_=new lx,e.infoSyncTree_=new zp({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=ao(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),cf(e,"connected",!1),e.serverSyncTree_=new zp({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);xt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function AN(e){const n=e.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ya(e){return fN({timestamp:AN(e)})}function $p(e,t,n,r,i){e.dataUpdateCount++;const s=new ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Nl(n,u=>Ie(u));o=oN(e.serverSyncTree_,s,a,i)}else{const a=Ie(n);o=$y(e.serverSyncTree_,s,a,i)}else if(r){const a=Nl(n,u=>Ie(u));o=rN(e.serverSyncTree_,s,a)}else{const a=Ie(n);o=ao(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ti(e,s)),xt(e.eventQueue_,l,o)}function Bp(e,t){cf(e,"connected",t),t===!1&&zN(e)}function DN(e,t){Be(t,(n,r)=>{cf(e,n,r)})}function cf(e,t,n){const r=new ee("/.info/"+t),i=Ie(n);e.infoData_.updateSnapshot(r,i);const s=ao(e.infoSyncTree_,r,i);xt(e.eventQueue_,r,s)}function df(e){return e.nextWriteId_++}function MN(e,t,n){const r=lN(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=Ie(i).withIndex(t._queryParams.getIndex());Ec(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=ao(e.serverSyncTree_,t._path,s);else{const l=Qs(e.serverSyncTree_,t);o=$y(e.serverSyncTree_,t._path,s,l)}return xt(e.eventQueue_,t._path,o),Wl(e.serverSyncTree_,t,n,null,!0),s},i=>(co(e,"get for query "+Re(t)+" failed: "+i),Promise.reject(new Error(i))))}function LN(e,t,n,r,i){co(e,"set",{path:t.toString(),value:n,priority:r});const s=ya(e),o=Ie(n,r),l=Zd(e.serverSyncTree_,t),a=Vy(o,l,s),u=df(e),h=Uy(e.serverSyncTree_,t,a,u,!0);va(e.eventQueue_,h),e.server_.put(t.toString(),o.val(!0),(c,y)=>{const _=c==="ok";_||Xe("set at "+t+" failed: "+c);const E=Dn(e.serverSyncTree_,u,!_);xt(e.eventQueue_,t,E),Sc(e,i,c,y)});const d=hf(e,t);Ti(e,d),xt(e.eventQueue_,d,[])}function FN(e,t,n,r){co(e,"update",{path:t.toString(),value:n});let i=!0;const s=ya(e),o={};if(Be(n,(l,a)=>{i=!1,o[l]=Hy(_e(t,l),Ie(a),e.serverSyncTree_,s)}),i)ze("update() called with empty data.  Don't do anything."),Sc(e,r,"ok",void 0);else{const l=df(e),a=nN(e.serverSyncTree_,t,o,l);va(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,h)=>{const d=u==="ok";d||Xe("update at "+t+" failed: "+u);const c=Dn(e.serverSyncTree_,l,!d),y=c.length>0?Ti(e,t):t;xt(e.eventQueue_,y,c),Sc(e,r,u,h)}),Be(n,u=>{const h=hf(e,_e(t,u));Ti(e,h)}),xt(e.eventQueue_,t,[])}}function zN(e){co(e,"onDisconnectEvents");const t=ya(e),n=Dl();pc(e.onDisconnect_,Y(),(i,s)=>{const o=Hy(i,s,e.serverSyncTree_,t);ky(n,i,o)});let r=[];pc(n,Y(),(i,s)=>{r=r.concat(ao(e.serverSyncTree_,i,s));const o=hf(e,i);Ti(e,o)}),e.onDisconnect_=Dl(),xt(e.eventQueue_,Y(),r)}function UN(e,t,n){let r;j(t._path)===".info"?r=Ec(e.infoSyncTree_,t,n):r=Ec(e.serverSyncTree_,t,n),Jy(e.eventQueue_,t._path,r)}function Cc(e,t,n){let r;j(t._path)===".info"?r=Wl(e.infoSyncTree_,t,n):r=Wl(e.serverSyncTree_,t,n),Jy(e.eventQueue_,t._path,r)}function $N(e){e.persistentConnection_&&e.persistentConnection_.interrupt(RN)}function co(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ze(n,...t)}function Sc(e,t,n,r){t&&Ui(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function e_(e,t,n){return Zd(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function ff(e,t=e.transactionQueueTree_){if(t||_a(e,t),Bi(t)){const n=n_(e,t);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&BN(e,uo(t),n)}else Ky(t)&&ma(t,n=>{ff(e,n)})}function BN(e,t,n){const r=n.map(u=>u.currentWriteId),i=e_(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const h=n[u];N(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Ye(t,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{co(e,"transaction put response",{path:a.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(Dn(e.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&d.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();_a(e,af(e.transactionQueueTree_,t)),ff(e,e.transactionQueueTree_),xt(e.eventQueue_,t,h);for(let c=0;c<d.length;c++)Ui(d[c])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Xe("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ti(e,t)}},o)}function Ti(e,t){const n=t_(e,t),r=uo(n),i=n_(e,n);return WN(e,i,r),r}function WN(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=Ye(n,a.path);let h=!1,d;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,d=a.abortReason,i=i.concat(Dn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=PN)h=!0,d="maxretry",i=i.concat(Dn(e.serverSyncTree_,a.currentWriteId,!0));else{const c=e_(e,a.path,o);a.currentInputSnapshot=c;const y=t[l].update(c.val());if(y!==void 0){ga("transaction failed: Data returned ",y,a.path);let _=Ie(y);typeof y=="object"&&y!=null&&Qt(y,".priority")||(_=_.updatePriority(c.getPriority()));const w=a.currentWriteId,m=ya(e),p=Vy(_,c,m);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=p,a.currentWriteId=df(e),o.splice(o.indexOf(w),1),i=i.concat(Uy(e.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(Dn(e.serverSyncTree_,w,!0))}else h=!0,d="nodata",i=i.concat(Dn(e.serverSyncTree_,a.currentWriteId,!0))}xt(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,function(c){setTimeout(c,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}_a(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ui(r[l]);ff(e,e.transactionQueueTree_)}function t_(e,t){let n,r=e.transactionQueueTree_;for(n=j(t);n!==null&&Bi(r)===void 0;)r=af(r,n),t=se(t),n=j(t);return r}function n_(e,t){const n=[];return r_(e,t,n),n.sort((r,i)=>r.order-i.order),n}function r_(e,t,n){const r=Bi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ma(t,i=>{r_(e,i,n)})}function _a(e,t){const n=Bi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Gy(t,n.length>0?n:void 0)}ma(t,r=>{_a(e,r)})}function hf(e,t){const n=uo(t_(e,t)),r=af(e.transactionQueueTree_,t);return gN(r,i=>{lu(e,i)}),lu(e,r),Qy(r,i=>{lu(e,i)}),n}function lu(e,t){const n=Bi(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Dn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Gy(t,void 0):n.length=s+1,xt(e.eventQueue_,uo(t),i);for(let o=0;o<r.length;o++)Ui(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function HN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xe(`Invalid query segment '${n}' in query '${e}'`)}return t}const Wp=function(e,t){const n=VN(e),r=n.namespace;n.domain==="firebase.com"&&_n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ZS();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ly(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ee(n.pathString)}},VN=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let h=e.indexOf("/");h===-1&&(h=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=jN(e.substring(h,d)));const c=HN(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const y=t.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in c&&(s=c.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Re(this.snapshot.exportVal())}}class s_{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:$d(this._path)}get ref(){return new Yt(this._repo,this._path)}get _queryIdentifier(){const t=Ip(this._queryParams),n=Ld(t);return n==="{}"?"default":n}get _queryObject(){return Ip(this._queryParams)}isEqual(t){if(t=zi(t),!(t instanceof mf))return!1;const n=this._repo===t._repo,r=Bd(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lk(this._path)}}class Yt extends mf{constructor(t,n){super(t,n,new Vd,!1)}get parent(){const t=gy(this._path);return t===null?null:new Yt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ii{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ee(t),r=jl(this.ref,t);return new Ii(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Ii(i,jl(this.ref,r),Ee)))}hasChild(t){const n=new ee(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mn(e,t){return e=zi(e),e._checkNotDeleted("ref"),t!==void 0?jl(e._root,t):e._root}function jl(e,t){return e=zi(e),j(e._path)===null?xN("child","path",t,!1):qy("child","path",t,!1),new Yt(e._repo,_e(e._path,t))}function kc(e){return Xy("remove",e._path),o_(e,null)}function o_(e,t){e=zi(e),Xy("set",e._path),CN("set",t,e._path,!1);const n=new ro;return LN(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function GN(e,t){kN("update",t,e._path,!1);const n=new ro;return FN(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function KN(e){e=zi(e);const t=new pf(()=>{}),n=new fo(t);return MN(e._repo,e,n).then(r=>new Ii(r,new Yt(e._repo,e._path),e._queryParams.getIndex()))}class fo{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new i_("value",this,new Ii(t.snapshotNode,new Yt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new s_(this,t,n):null}matches(t){return t instanceof fo?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ea{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new s_(this,t,n):null}createEvent(t,n){N(t.childName!=null,"Child events should have a childName.");const r=jl(new Yt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new i_(t.type,this,new Ii(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ea?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function QN(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(h,d)=>{Cc(e._repo,e,l),a(h,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new pf(n,s||void 0),l=t==="value"?new fo(o):new Ea(t,o);return UN(e._repo,e,l),()=>Cc(e._repo,e,l)}function gf(e,t,n,r){return QN(e,"value",t,n,r)}function l_(e,t,n){let r=null;const i=n?new pf(n):null;t==="value"?r=new fo(i):t&&(r=new Ea(t,i)),Cc(e._repo,e,r)}Qx(Yt);Zx(Yt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FIREBASE_DATABASE_EMULATOR_HOST",xc={};let qN=!1;function XN(e,t,n,r){const i=t.lastIndexOf(":"),s=t.substring(0,i),o=Ad(s);e.repoInfo_=new ly(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function JN(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ze("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Wp(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[YN]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Wp(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const h=i&&a?new fi(fi.OWNER):new ck(e.name,e.options,t);NN("Invalid Firebase Database URL",o),V(o.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");const d=eT(l,e,h,new uk(e,n));return new tT(d,e)}function ZN(e,t){const n=xc[t];(!n||n[e.key]!==e)&&_n(`Database ${t}(${e.repoInfo_}) has already been deleted.`),$N(e),delete n[e.key]}function eT(e,t,n,r){let i=xc[t.name];i||(i={},xc[t.name]=i);let s=i[e.toURLString()];return s&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bN(e,qN,n,r),i[e.toURLString()]=s,s}class tT{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ON(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yt(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&_n("Cannot call "+t+" on a deleted database.")}}function nT(e=MS(),t){const n=PS(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=gC("database");r&&rT(n,...r)}return n}function rT(e,t,n,r={}){e=zi(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Tl(r,s.repoInfo_.emulatorOptions))return;_n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new fi(fi.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:yC(r.mockUserToken,e.app.options.projectId);o=new fi(l)}Ad(t)&&(vC(t),wC("Database",!0)),XN(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(e){QS(DS),Rl(new $s("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return JN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ci(dp,fp,e),ci(dp,fp,"esm2017")}fn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};fn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};iT();const sT={apiKey:"AIzaSyAdCkNDNjnrusXg6blO7z02EkhCiezpvdY",authDomain:"ai-powered-digital-marke-fc7af.firebaseapp.com",databaseURL:"https://ai-powered-digital-marke-fc7af-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ai-powered-digital-marke-fc7af",storageBucket:"ai-powered-digital-marke-fc7af.appspot.com",messagingSenderId:"552564748664",appId:"1:552564748664:web:94c3eb9a66f8e76fc6188d",measurementId:"G-M9V60YDLGY"},oT=Hv(sT),Ln=nT(oT);const lT=({user:e,isOpen:t,onClose:n})=>!t||!e?null:f.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},f.createElement("div",{style:{background:"#fff",padding:24,borderRadius:8,minWidth:320,maxWidth:500,position:"relative"}},f.createElement("button",{onClick:n,style:{position:"absolute",top:8,right:8}},"Close"),f.createElement("h2",null,"User Details"),Object.entries(e).map(([r,i])=>f.createElement("div",{key:r},f.createElement("strong",null,r,":")," ",String(i))))),a_=({account:e,onAccept:t,onReject:n,onDelete:r})=>{const[i,s]=v.useState(!1);return f.createElement(f.Fragment,null,f.createElement("div",{className:"account-card",onClick:()=>s(!0),style:{cursor:"pointer"}},f.createElement("div",{className:"account-info"},f.createElement("strong",null,e.firstName," ",e.lastName)," (",e.role,")",f.createElement("br",null),f.createElement("span",null,e.email)),f.createElement("div",{className:"account-actions"},r?f.createElement("button",{className:"delete-btn",onClick:o=>{o.stopPropagation(),r()}},"Delete"):f.createElement(f.Fragment,null,f.createElement("button",{className:"accept-btn",onClick:o=>{o.stopPropagation(),t()}},"Accept"),f.createElement("button",{className:"reject-btn",onClick:o=>{o.stopPropagation(),n()}},"Reject")))),f.createElement(lT,{user:e,isOpen:i,onClose:()=>s(!1)}))},aT=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0);v.useEffect(()=>{const o=Mn(Ln,"ApprovalofAccounts");KN(o).then(a=>{const u=a.val();if(u){const h=Object.entries(u).map(([d,c])=>({key:d,...c}));t(h)}else t([]);r(!1)}).catch(a=>{console.error("Error fetching initial data:",a),r(!1)});const l=gf(o,a=>{const u=a.val();if(u){const h=Object.entries(u).map(([d,c])=>({key:d,...c}));t(h)}else t([])});return()=>{l_(o,"value",l)}},[]);const i=o=>{const l=Mn(Ln,`${o.role}/${o.key}`);o_(l,o).then(()=>{const a=Mn(Ln,`ApprovalofAccounts/${o.key}`);kc(a)}).catch(a=>console.error("Error approving account:",a))},s=o=>{const l=Mn(Ln,`ApprovalofAccounts/${o}`);kc(l).catch(a=>console.error("Error rejecting account:",a))};return n?f.createElement("div",null,"Loading..."):f.createElement("div",{className:"approval-page-container"},e.length===0?f.createElement("div",{style:{textAlign:"center",marginTop:"2rem",color:"#888",fontSize:"1.2rem"}},"No accounts pending approval."):f.createElement("div",{className:"accounts-list"},f.createElement("h2",null,"Pending Accounts"),e.map(o=>f.createElement(a_,{key:o.key,account:o,onAccept:()=>i(o),onReject:()=>s(o.key)}))))},uT=()=>JSON.parse(localStorage.getItem("user")),jp=({children:e})=>{const{user:t}=la(),n=uT();return console.log("AdminRoute: user from context",t),console.log("AdminRoute: user from localStorage",n),!n||n.role!=="Admin"||!t||t.role!=="Admin"?f.createElement(Ev,{to:"/login",replace:!0}):e},Hp=["ContentCreator","MarketingLead","GraphicDesigner"],cT=()=>{const[e,t]=v.useState({}),[n,r]=v.useState(!0);v.useEffect(()=>{const o=[];return r(!0),Hp.forEach(l=>{const a=Mn(Ln,l),u=gf(a,h=>{const d=h.val();t(c=>({...c,[l]:d?Object.entries(d).map(([y,_])=>({key:y,..._,role:l})):[]})),r(!1)});o.push({ref:a,listener:u})}),()=>{o.forEach(({ref:l,listener:a})=>l_(l,"value",a))}},[]);const i=(o,l)=>{const a=Mn(Ln,`${o}/${l}`);kc(a).catch(u=>console.error("Error deleting account:",u))};if(n)return f.createElement("div",null,"Loading...");const s=Object.values(e).some(o=>o&&o.length>0);return f.createElement("div",{className:"manage-accounts-page-container"},!s&&f.createElement("div",{style:{textAlign:"center",marginTop:"2rem",color:"#888",fontSize:"1.2rem"}},"No accounts found."),Hp.map(o=>e[o]&&e[o].length>0&&f.createElement("div",{key:o,className:"role-section"},f.createElement("h2",null,o),e[o].map(l=>f.createElement(a_,{key:l.key,account:l,onDelete:()=>i(o,l.key)})))))};const u_=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!1),i=br();v.useEffect(()=>{const a=Mn(Ln,"AdminNotification"),u=gf(a,h=>{const d=h.val()||{},c=Object.entries(d).map(([y,_])=>({id:y,..._}));t(c.reverse())});return()=>u()},[]);const s=e.filter(a=>!a.read).length,o=()=>{r(a=>!a)},l=a=>{if(!a.read){const u=Mn(Ln,`AdminNotification/${a.id}`);GN(u,{read:!0})}a.type==="approval_needed"&&i("/admin/approval")};return f.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},f.createElement("button",{onClick:o,style:{fontSize:"24px",position:"relative",background:"none",border:"none",cursor:"pointer",marginRight:"20px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},"aria-label":"Notifications"},f.createElement(Vw,null),s>0&&f.createElement("span",{style:{position:"absolute",top:"6px",right:"6px",background:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px",fontWeight:"bold",minWidth:"18px",textAlign:"center",lineHeight:"16px"}},s)),n&&f.createElement("div",{style:{position:"absolute",right:0,top:"40px",background:"white",border:"1px solid #ccc",borderRadius:"4px",width:"320px",zIndex:100,maxHeight:"350px",overflowY:"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}},f.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},e.length===0&&f.createElement("li",{style:{padding:"16px",textAlign:"center",color:"#888"}},"No notifications"),e.map(a=>f.createElement("li",{key:a.id,onClick:()=>l(a),style:{padding:"12px 16px",background:a.read?"#f9f9f9":"#e6f7ff",borderBottom:"1px solid #eee",fontSize:"15px",cursor:"pointer",fontWeight:a.read?"normal":"bold",display:"flex",justifyContent:"space-between",alignItems:"center"}},f.createElement("div",null,f.createElement("div",null,a.message),f.createElement("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"}},a.timestamp?new Date(a.timestamp).toLocaleString():"")),f.createElement("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"}},a.read?"Read":f.createElement("span",{style:{color:"#f44336"}},"Unread")))))))},dT=()=>{const{user:e,setUser:t}=la(),n=(e==null?void 0:e.name)||"Admin",r=(e==null?void 0:e.role)||"role",[i,s]=v.useState(!1),[o,l]=v.useState(!1),a=v.useRef(null),u=v.useRef(null),h=Kt();v.useEffect(()=>{function c(y){a.current&&!a.current.contains(y.target)&&s(!1),u.current&&!u.current.contains(y.target)&&l(!1)}return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const d=()=>{t(null),localStorage.removeItem("user"),console.log("User after logout (context):",e),console.log("User in localStorage after logout:",localStorage.getItem("user")),window.location.replace("/login")};return f.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},f.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},f.createElement("div",{className:"sidebar"},f.createElement("div",{className:"logo",style:{display:"flex",justifyContent:"center",alignItems:"center"}},f.createElement("img",{src:"/assets/issalonlogo.jpg",alt:"infinitysalon",style:{display:"block",margin:"0 auto",maxWidth:"100%",height:"auto"}})),f.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:24}},f.createElement("div",{className:"user-profile"},f.createElement("button",{className:"header-profile-btn","aria-label":"Profile"},f.createElement("span",{className:"header-profile-avatar"},f.createElement(kl,{size:24}))),f.createElement("div",{className:"user-info"},f.createElement("div",{className:"user-name"},n),f.createElement("div",{className:"user-role"},r))),f.createElement("hr",{style:{position:"absolute",left:"-24px",right:"-24px",border:"none",borderTop:"1px solid #e0e0e0",margin:0,width:"calc(100% + 48px)"}})),f.createElement("hr",{style:{border:"none",borderTop:"1px solid #e0e0e0",margin:"0 0 24px 0",width:"100%"}}),f.createElement("nav",{className:"navigation"},f.createElement(mr,{to:"/admin",className:`nav-item${h.pathname==="/admin"?" active":""}`},"Dashboard"),f.createElement(mr,{to:"/admin/approval",className:`nav-item${h.pathname==="/admin/approval"?" active":""}`},"Approval of Accounts"),f.createElement(mr,{to:"/admin/manage",className:`nav-item${h.pathname==="/admin/manage"?" active":""}`},"Manage Accounts"),f.createElement(mr,{to:"/admin/socials",className:`nav-item${h.pathname==="/admin/socials"?" active":""}`},"Socials & Insights"))),f.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column"}},f.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:64,background:"#fafafa",borderBottom:"1px solid #e0e0e0",padding:"0 24px",position:"relative",flexShrink:0}},f.createElement(u_,{style:{marginRight:"20px"}}),f.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:u},f.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>l(c=>!c)},f.createElement("span",{className:"header-profile-avatar"},f.createElement(kl,{size:24}))),o&&f.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",borderRadius:8,minWidth:160,zIndex:10}},f.createElement("button",{style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},f.createElement(Rv,{style:{marginRight:8}})," Settings"),f.createElement("button",{onClick:d,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},f.createElement(Iv,{style:{marginRight:8}})," Logout")))),f.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},f.createElement(Rd,null)))),f.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},f.createElement("div",{className:"admin-dashboard-footer-container"},f.createElement("div",{className:"admin-dashboard-footer-left"},f.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})),f.createElement("div",{className:"admin-dashboard-footer-links"},f.createElement("svg",{className:"admin-dashboard-facebook-icon",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},f.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),f.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Terms & Condition"),f.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Policy Privacy")))))},fT=[{label:"Dashboard",path:"/marketing/dashboard"},{label:"Content Calendar",path:"/marketing/content-calendar"},{label:"Set Task",path:"/marketing/set-task"},{label:"Ongoing Task",path:"/marketing/ongoing-task"},{label:"Set Schedule",path:"/marketing/set-schedule"},{label:"Ongoing Schedule",path:"/marketing/ongoing-schedule"},{label:"Approval of Contents",path:"/marketing/approval"},{label:"Approved Contents",path:"/marketing/approved"},{label:"Posted Content",path:"/marketing/posted-content"}];function hT(){const{user:e,setUser:t}=la(),n=(e==null?void 0:e.name)||"Marketing Lead",r=(e==null?void 0:e.role)||"role",[i,s]=v.useState(!1),o=v.useRef(null),l=Kt();v.useEffect(()=>{function u(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const a=()=>{t(null),localStorage.removeItem("user"),window.location.replace("/login")};return f.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},f.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},f.createElement("div",{className:"sidebar",style:{maxHeight:"calc(100vh - 60px)",overflowY:"auto",flexShrink:0}},f.createElement("div",{className:"logo",style:{display:"flex",justifyContent:"center",alignItems:"center"}},f.createElement("img",{src:"/assets/issalonlogo.jpg",alt:"infinitysalon",style:{display:"block",margin:"0 auto",maxWidth:"100%",height:"auto"}})),f.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:24}},f.createElement("div",{className:"user-profile"},f.createElement("button",{className:"header-profile-btn","aria-label":"Profile"},f.createElement("span",{className:"header-profile-avatar"},f.createElement(kl,{size:24}))),f.createElement("div",{className:"user-info"},f.createElement("div",{className:"user-name"},n),f.createElement("div",{className:"user-role"},r.charAt(0).toUpperCase()+r.slice(1)))),f.createElement("hr",{style:{position:"absolute",left:"-24px",right:"-24px",border:"none",borderTop:"1px solid #e0e0e0",margin:0,width:"calc(100% + 48px)"}})),f.createElement("hr",{style:{border:"none",borderTop:"1px solid #e0e0e0",margin:"0 0 24px 0",width:"100%"}}),f.createElement("nav",{className:"navigation"},fT.map(u=>f.createElement(mr,{key:u.path,to:u.path,className:`nav-item${l.pathname===u.path?" active":""}`},u.label)))),f.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column"}},f.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:64,background:"#fafafa",borderBottom:"1px solid #e0e0e0",padding:"0 24px",position:"relative",flexShrink:0}},f.createElement(u_,{role:"MarketingLead",style:{marginRight:"20px"}}),f.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:o},f.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>s(u=>!u)},f.createElement("span",{className:"header-profile-avatar"},f.createElement(kl,{size:24}))),i&&f.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",borderRadius:8,minWidth:160,zIndex:10}},f.createElement("button",{style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},f.createElement(Rv,{style:{marginRight:8}})," Settings"),f.createElement("button",{onClick:a,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},f.createElement(Iv,{style:{marginRight:8}})," Logout")))),f.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},f.createElement(Rd,null)))),f.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},f.createElement("div",{className:"admin-dashboard-footer-container"},f.createElement("div",{className:"admin-dashboard-footer-left"},f.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})),f.createElement("div",{className:"admin-dashboard-footer-links"},f.createElement("svg",{className:"admin-dashboard-facebook-icon",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},f.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),f.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Terms & Condition"),f.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Policy Privacy")))))}function Vp(){return f.createElement("div",null,f.createElement("h2",null,"Marketing Lead Dashboard"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function pT(){return f.createElement("div",null,f.createElement("h2",null,"Content Calendar"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function mT(){return f.createElement("div",null,f.createElement("h2",null,"Approval of Contents"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function gT(){return f.createElement("div",null,f.createElement("h2",null,"Approved Contents"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function er(e){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(e)}function vT(e,t){if(er(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(er(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yT(e){var t=vT(e,"string");return er(t)=="symbol"?t:t+""}function wt(e,t,n){return(t=yT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gp(Object(n),!0).forEach(function(r){wt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _T(e){if(Array.isArray(e))return Nc(e)}function ET(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c_(e,t){if(e){if(typeof e=="string")return Nc(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}function wT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function on(e){return _T(e)||ET(e)||c_(e)||wT()}function CT(e){if(Array.isArray(e))return e}function ST(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],a=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(h){u=!0,i=h}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(e,t){return CT(e)||ST(e,t)||c_(e,t)||kT()}var d_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(d_);var xT=d_.exports;const Ir=Zp(xT);function pi(e){var t=v.useRef();t.current=e;var n=v.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(s))},[]);return n}function NT(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Kp=NT()?v.useLayoutEffect:v.useEffect,f_=function(t,n){var r=v.useRef(!0);Kp(function(){return t(r.current)},n),Kp(function(){return r.current=!1,function(){r.current=!0}},[])},Qp=function(t,n){f_(function(r){if(!r)return t()},n)};function Yp(e){var t=v.useRef(!1),n=v.useState(e),r=Fe(n,2),i=r[0],s=r[1];v.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function o(l,a){a&&t.current||s(l)}return[i,o]}function au(e){return e!==void 0}function TT(e,t){var n=t||{},r=n.defaultValue,i=n.value,s=n.onChange,o=n.postState,l=Yp(function(){return au(i)?i:au(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),a=Fe(l,2),u=a[0],h=a[1],d=i!==void 0?i:u,c=o?o(d):d,y=pi(s),_=Yp([d]),E=Fe(_,2),w=E[0],m=E[1];Qp(function(){var g=w[0];u!==g&&y(u,g)},[w]),Qp(function(){au(i)||h(i)},[i]);var p=pi(function(g,C){h(g,C),m([d],C)});return[c,p]}var Tc={},IT=function(t){};function RT(e,t){}function PT(e,t){}function bT(){Tc={}}function h_(e,t,n){!t&&!Tc[n]&&(e(!1,n),Tc[n]=!0)}function Ri(e,t){h_(RT,e,t)}function OT(e,t){h_(PT,e,t)}Ri.preMessage=IT;Ri.resetWarned=bT;Ri.noteOnce=OT;function AT(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=r.has(s);if(Ri(!a,"Warning: There may be circular references"),a)return!1;if(s===o)return!0;if(n&&l>1)return!1;r.add(s);var u=l+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var h=0;h<s.length;h++)if(!i(s[h],o[h],u))return!1;return!0}if(s&&o&&er(s)==="object"&&er(o)==="object"){var d=Object.keys(s);return d.length!==Object.keys(o).length?!1:d.every(function(c){return i(s[c],o[c],u)})}return!1}return i(e,t)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ys.apply(null,arguments)}function DT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function p_(e,t){if(e==null)return{};var n,r,i=DT(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ic(e,t,n){return(e-t)/(n-t)}function vf(e,t,n,r){var i=Ic(t,n,r),s={};switch(e){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function dr(e,t){return Array.isArray(e)?e[t]:e}var b={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=b.F1&&n<=b.F12)return!1;switch(n){case b.ALT:case b.CAPS_LOCK:case b.CONTEXT_MENU:case b.CTRL:case b.DOWN:case b.END:case b.ESC:case b.HOME:case b.INSERT:case b.LEFT:case b.MAC_FF_META:case b.META:case b.NUMLOCK:case b.NUM_CENTER:case b.PAGE_DOWN:case b.PAGE_UP:case b.PAUSE:case b.PRINT_SCREEN:case b.RIGHT:case b.SHIFT:case b.UP:case b.WIN_KEY:case b.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=b.ZERO&&t<=b.NINE||t>=b.NUM_ZERO&&t<=b.NUM_MULTIPLY||t>=b.A&&t<=b.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case b.SPACE:case b.QUESTION_MARK:case b.NUM_PLUS:case b.NUM_MINUS:case b.NUM_PERIOD:case b.NUM_DIVISION:case b.SEMICOLON:case b.DASH:case b.EQUALS:case b.COMMA:case b.PERIOD:case b.SLASH:case b.APOSTROPHE:case b.SINGLE_QUOTE:case b.OPEN_SQUARE_BRACKET:case b.BACKSLASH:case b.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Dr=v.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),MT=v.createContext({}),LT=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],qp=v.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,i=e.valueIndex,s=e.onStartMove,o=e.onDelete,l=e.style,a=e.render,u=e.dragging,h=e.draggingDelete,d=e.onOffsetChange,c=e.onChangeComplete,y=e.onFocus,_=e.onMouseEnter,E=p_(e,LT),w=v.useContext(Dr),m=w.min,p=w.max,g=w.direction,C=w.disabled,S=w.keyboard,x=w.range,T=w.tabIndex,R=w.ariaLabelForHandle,A=w.ariaLabelledByForHandle,I=w.ariaRequired,L=w.ariaValueTextFormatterForHandle,W=w.styles,ne=w.classNames,Se="".concat(n,"-handle"),we=function(M){C||s(M,i)},xe=function(M){y==null||y(M,i)},le=function(M){_(M,i)},P=function(M){if(!C&&S){var D=null;switch(M.which||M.keyCode){case b.LEFT:D=g==="ltr"||g==="btt"?-1:1;break;case b.RIGHT:D=g==="ltr"||g==="btt"?1:-1;break;case b.UP:D=g!=="ttb"?1:-1;break;case b.DOWN:D=g!=="ttb"?-1:1;break;case b.HOME:D="min";break;case b.END:D="max";break;case b.PAGE_UP:D=2;break;case b.PAGE_DOWN:D=-2;break;case b.BACKSPACE:case b.DELETE:o(i);break}D!==null&&(M.preventDefault(),d(D,i))}},F=function(M){switch(M.which||M.keyCode){case b.LEFT:case b.RIGHT:case b.UP:case b.DOWN:case b.HOME:case b.END:case b.PAGE_UP:case b.PAGE_DOWN:c==null||c();break}},$=vf(g,r,m,p),K={};if(i!==null){var q;K={tabIndex:C?null:dr(T,i),role:"slider","aria-valuemin":m,"aria-valuemax":p,"aria-valuenow":r,"aria-disabled":C,"aria-label":dr(R,i),"aria-labelledby":dr(A,i),"aria-required":dr(I,i),"aria-valuetext":(q=dr(L,i))===null||q===void 0?void 0:q(r),"aria-orientation":g==="ltr"||g==="rtl"?"horizontal":"vertical",onMouseDown:we,onTouchStart:we,onFocus:xe,onMouseEnter:le,onKeyDown:P,onKeyUp:F}}var X=v.createElement("div",Ys({ref:t,className:Ir(Se,wt(wt(wt({},"".concat(Se,"-").concat(i+1),i!==null&&x),"".concat(Se,"-dragging"),u),"".concat(Se,"-dragging-delete"),h),ne.handle),style:Ve(Ve(Ve({},$),l),W.handle)},K,E));return a&&(X=a(X,{index:i,prefixCls:n,value:r,dragging:u,draggingDelete:h})),X}),FT=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],zT=v.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.onStartMove,s=e.onOffsetChange,o=e.values,l=e.handleRender,a=e.activeHandleRender,u=e.draggingIndex,h=e.draggingDelete,d=e.onFocus,c=p_(e,FT),y=v.useRef({}),_=v.useState(!1),E=Fe(_,2),w=E[0],m=E[1],p=v.useState(-1),g=Fe(p,2),C=g[0],S=g[1],x=function(L){S(L),m(!0)},T=function(L,W){x(W),d==null||d(L)},R=function(L,W){x(W)};v.useImperativeHandle(t,function(){return{focus:function(L){var W;(W=y.current[L])===null||W===void 0||W.focus()},hideHelp:function(){cv.flushSync(function(){m(!1)})}}});var A=Ve({prefixCls:n,onStartMove:i,onOffsetChange:s,render:l,onFocus:T,onMouseEnter:R},c);return v.createElement(v.Fragment,null,o.map(function(I,L){var W=u===L;return v.createElement(qp,Ys({ref:function(Se){Se?y.current[L]=Se:delete y.current[L]},dragging:W,draggingDelete:W&&h,style:dr(r,L),key:L,value:I,valueIndex:L},A))}),a&&w&&v.createElement(qp,Ys({key:"a11y"},A,{value:o[C],valueIndex:null,dragging:u!==-1,draggingDelete:h,render:a,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),UT=function(t){var n=t.prefixCls,r=t.style,i=t.children,s=t.value,o=t.onClick,l=v.useContext(Dr),a=l.min,u=l.max,h=l.direction,d=l.includedStart,c=l.includedEnd,y=l.included,_="".concat(n,"-text"),E=vf(h,s,a,u);return v.createElement("span",{className:Ir(_,wt({},"".concat(_,"-active"),y&&d<=s&&s<=c)),style:Ve(Ve({},E),r),onMouseDown:function(m){m.stopPropagation()},onClick:function(){o(s)}},i)},$T=function(t){var n=t.prefixCls,r=t.marks,i=t.onClick,s="".concat(n,"-mark");return r.length?v.createElement("div",{className:s},r.map(function(o){var l=o.value,a=o.style,u=o.label;return v.createElement(UT,{key:l,prefixCls:s,style:a,value:l,onClick:i},u)})):null},BT=function(t){var n=t.prefixCls,r=t.value,i=t.style,s=t.activeStyle,o=v.useContext(Dr),l=o.min,a=o.max,u=o.direction,h=o.included,d=o.includedStart,c=o.includedEnd,y="".concat(n,"-dot"),_=h&&d<=r&&r<=c,E=Ve(Ve({},vf(u,r,l,a)),typeof i=="function"?i(r):i);return _&&(E=Ve(Ve({},E),typeof s=="function"?s(r):s)),v.createElement("span",{className:Ir(y,wt({},"".concat(y,"-active"),_)),style:E})},WT=function(t){var n=t.prefixCls,r=t.marks,i=t.dots,s=t.style,o=t.activeStyle,l=v.useContext(Dr),a=l.min,u=l.max,h=l.step,d=v.useMemo(function(){var c=new Set;if(r.forEach(function(_){c.add(_.value)}),i&&h!==null)for(var y=a;y<=u;)c.add(y),y+=h;return Array.from(c)},[a,u,h,i,r]);return v.createElement("div",{className:"".concat(n,"-step")},d.map(function(c){return v.createElement(BT,{prefixCls:n,key:c,value:c,style:s,activeStyle:o})}))},Xp=function(t){var n=t.prefixCls,r=t.style,i=t.start,s=t.end,o=t.index,l=t.onStartMove,a=t.replaceCls,u=v.useContext(Dr),h=u.direction,d=u.min,c=u.max,y=u.disabled,_=u.range,E=u.classNames,w="".concat(n,"-track"),m=Ic(i,d,c),p=Ic(s,d,c),g=function(T){!y&&l&&l(T,-1)},C={};switch(h){case"rtl":C.right="".concat(m*100,"%"),C.width="".concat(p*100-m*100,"%");break;case"btt":C.bottom="".concat(m*100,"%"),C.height="".concat(p*100-m*100,"%");break;case"ttb":C.top="".concat(m*100,"%"),C.height="".concat(p*100-m*100,"%");break;default:C.left="".concat(m*100,"%"),C.width="".concat(p*100-m*100,"%")}var S=a||Ir(w,wt(wt({},"".concat(w,"-").concat(o+1),o!==null&&_),"".concat(n,"-track-draggable"),l),E.track);return v.createElement("div",{className:S,style:Ve(Ve({},C),r),onMouseDown:g,onTouchStart:g})},jT=function(t){var n=t.prefixCls,r=t.style,i=t.values,s=t.startPoint,o=t.onStartMove,l=v.useContext(Dr),a=l.included,u=l.range,h=l.min,d=l.styles,c=l.classNames,y=v.useMemo(function(){if(!u){if(i.length===0)return[];var E=s??h,w=i[0];return[{start:Math.min(E,w),end:Math.max(E,w)}]}for(var m=[],p=0;p<i.length-1;p+=1)m.push({start:i[p],end:i[p+1]});return m},[i,u,s,h]);if(!a)return null;var _=y!=null&&y.length&&(c.tracks||d.tracks)?v.createElement(Xp,{index:null,prefixCls:n,start:y[0].start,end:y[y.length-1].end,replaceCls:Ir(c.tracks,"".concat(n,"-tracks")),style:d.tracks}):null;return v.createElement(v.Fragment,null,_,y.map(function(E,w){var m=E.start,p=E.end;return v.createElement(Xp,{index:w,prefixCls:n,style:Ve(Ve({},dr(r,w)),d.track),start:m,end:p,key:w,onStartMove:o})}))},HT=130;function Jp(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function VT(e,t,n,r,i,s,o,l,a,u,h){var d=v.useState(null),c=Fe(d,2),y=c[0],_=c[1],E=v.useState(-1),w=Fe(E,2),m=w[0],p=w[1],g=v.useState(!1),C=Fe(g,2),S=C[0],x=C[1],T=v.useState(n),R=Fe(T,2),A=R[0],I=R[1],L=v.useState(n),W=Fe(L,2),ne=W[0],Se=W[1],we=v.useRef(null),xe=v.useRef(null),le=v.useRef(null),P=v.useContext(MT),F=P.onDragStart,$=P.onDragChange;f_(function(){m===-1&&I(n)},[n,m]),v.useEffect(function(){return function(){document.removeEventListener("mousemove",we.current),document.removeEventListener("mouseup",xe.current),le.current&&(le.current.removeEventListener("touchmove",we.current),le.current.removeEventListener("touchend",xe.current))}},[]);var K=function(D,ae,et){ae!==void 0&&_(ae),I(D);var at=D;et&&(at=D.filter(function(Ne,tt){return tt!==m})),o(at),$&&$({rawValues:D,deleteIndex:et?m:-1,draggingIndex:m,draggingValue:ae})},q=pi(function(M,D,ae){if(M===-1){var et=ne[0],at=ne[ne.length-1],Ne=r-et,tt=i-at,Tt=D*(i-r);Tt=Math.max(Tt,Ne),Tt=Math.min(Tt,tt);var Mr=s(et+Tt);Tt=Mr-et;var qt=ne.map(function(Zt){return Zt+Tt});K(qt)}else{var Xt=(i-r)*D,Jt=on(A);Jt[M]=ne[M];var wn=a(Jt,Xt,M,"dist");K(wn.values,wn.value,ae)}}),X=function(D,ae,et){D.stopPropagation();var at=et||n,Ne=at[ae];p(ae),_(Ne),Se(at),I(at),x(!1);var tt=Jp(D),Tt=tt.pageX,Mr=tt.pageY,qt=!1;F&&F({rawValues:at,draggingIndex:ae,draggingValue:Ne});var Xt=function(Zt){Zt.preventDefault();var mt=Jp(Zt),Lr=mt.pageX,Fr=mt.pageY,zr=Lr-Tt,Bt=Fr-Mr,It=e.current.getBoundingClientRect(),ir=It.width,Ur=It.height,Cn,Sn;switch(t){case"btt":Cn=-Bt/Ur,Sn=zr;break;case"ttb":Cn=Bt/Ur,Sn=zr;break;case"rtl":Cn=-zr/ir,Sn=Bt;break;default:Cn=zr/ir,Sn=Bt}qt=u?Math.abs(Sn)>HT&&h<A.length:!1,x(qt),q(ae,Cn,qt)},Jt=function wn(Zt){Zt.preventDefault(),document.removeEventListener("mouseup",wn),document.removeEventListener("mousemove",Xt),le.current&&(le.current.removeEventListener("touchmove",we.current),le.current.removeEventListener("touchend",xe.current)),we.current=null,xe.current=null,le.current=null,l(qt),p(-1),x(!1)};document.addEventListener("mouseup",Jt),document.addEventListener("mousemove",Xt),D.currentTarget.addEventListener("touchend",Jt),D.currentTarget.addEventListener("touchmove",Xt),we.current=Xt,xe.current=Jt,le.current=D.currentTarget},B=v.useMemo(function(){var M=on(n).sort(function(Ne,tt){return Ne-tt}),D=on(A).sort(function(Ne,tt){return Ne-tt}),ae={};D.forEach(function(Ne){ae[Ne]=(ae[Ne]||0)+1}),M.forEach(function(Ne){ae[Ne]=(ae[Ne]||0)-1});var et=u?1:0,at=Object.values(ae).reduce(function(Ne,tt){return Ne+Math.abs(tt)},0);return at<=et?A:n},[n,A,u]);return[m,y,S,B,X]}function GT(e,t,n,r,i,s){var o=v.useCallback(function(y){return Math.max(e,Math.min(t,y))},[e,t]),l=v.useCallback(function(y){if(n!==null){var _=e+Math.round((o(y)-e)/n)*n,E=function(g){return(String(g).split(".")[1]||"").length},w=Math.max(E(n),E(t),E(e)),m=Number(_.toFixed(w));return e<=m&&m<=t?m:null}return null},[n,e,t,o]),a=v.useCallback(function(y){var _=o(y),E=r.map(function(p){return p.value});n!==null&&E.push(l(y)),E.push(e,t);var w=E[0],m=t-e;return E.forEach(function(p){var g=Math.abs(_-p);g<=m&&(w=p,m=g)}),w},[e,t,r,n,o,l]),u=function y(_,E,w){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof E=="number"){var p,g=_[w],C=g+E,S=[];r.forEach(function(I){S.push(I.value)}),S.push(e,t),S.push(l(g));var x=E>0?1:-1;m==="unit"?S.push(l(g+x*n)):S.push(l(C)),S=S.filter(function(I){return I!==null}).filter(function(I){return E<0?I<=g:I>=g}),m==="unit"&&(S=S.filter(function(I){return I!==g}));var T=m==="unit"?g:C;p=S[0];var R=Math.abs(p-T);if(S.forEach(function(I){var L=Math.abs(I-T);L<R&&(p=I,R=L)}),p===void 0)return E<0?e:t;if(m==="dist")return p;if(Math.abs(E)>1){var A=on(_);return A[w]=p,y(A,E-x,w,m)}return p}else{if(E==="min")return e;if(E==="max")return t}},h=function(_,E,w){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",p=_[w],g=u(_,E,w,m);return{value:g,changed:g!==p}},d=function(_){return s===null&&_===0||typeof s=="number"&&_<s},c=function(_,E,w){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",p=_.map(a),g=p[w],C=u(p,E,w,m);if(p[w]=C,i===!1){var S=s||0;w>0&&p[w-1]!==g&&(p[w]=Math.max(p[w],p[w-1]+S)),w<p.length-1&&p[w+1]!==g&&(p[w]=Math.min(p[w],p[w+1]-S))}else if(typeof s=="number"||s===null){for(var x=w+1;x<p.length;x+=1)for(var T=!0;d(p[x]-p[x-1])&&T;){var R=h(p,1,x);p[x]=R.value,T=R.changed}for(var A=w;A>0;A-=1)for(var I=!0;d(p[A]-p[A-1])&&I;){var L=h(p,-1,A-1);p[A-1]=L.value,I=L.changed}for(var W=p.length-1;W>0;W-=1)for(var ne=!0;d(p[W]-p[W-1])&&ne;){var Se=h(p,-1,W-1);p[W-1]=Se.value,ne=Se.changed}for(var we=0;we<p.length-1;we+=1)for(var xe=!0;d(p[we+1]-p[we])&&xe;){var le=h(p,1,we+1);p[we+1]=le.value,xe=le.changed}}return{value:p[w],values:p}};return[a,c]}function KT(e){return v.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,i=e.maxCount;return[!0,t,!t&&n,r||0,i]},[e])}var QT=v.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,i=e.className,s=e.style,o=e.classNames,l=e.styles,a=e.id,u=e.disabled,h=u===void 0?!1:u,d=e.keyboard,c=d===void 0?!0:d,y=e.autoFocus,_=e.onFocus,E=e.onBlur,w=e.min,m=w===void 0?0:w,p=e.max,g=p===void 0?100:p,C=e.step,S=C===void 0?1:C,x=e.value,T=e.defaultValue,R=e.range,A=e.count,I=e.onChange,L=e.onBeforeChange,W=e.onAfterChange,ne=e.onChangeComplete,Se=e.allowCross,we=Se===void 0?!0:Se,xe=e.pushable,le=xe===void 0?!1:xe,P=e.reverse,F=e.vertical,$=e.included,K=$===void 0?!0:$,q=e.startPoint,X=e.trackStyle,B=e.handleStyle,M=e.railStyle,D=e.dotStyle,ae=e.activeDotStyle,et=e.marks,at=e.dots,Ne=e.handleRender,tt=e.activeHandleRender,Tt=e.track,Mr=e.tabIndex,qt=Mr===void 0?0:Mr,Xt=e.ariaLabelForHandle,Jt=e.ariaLabelledByForHandle,wn=e.ariaRequired,Zt=e.ariaValueTextFormatterForHandle,mt=v.useRef(null),Lr=v.useRef(null),Fr=v.useMemo(function(){return F?P?"ttb":"btt":P?"rtl":"ltr"},[P,F]),zr=KT(R),Bt=Fe(zr,5),It=Bt[0],ir=Bt[1],Ur=Bt[2],Cn=Bt[3],Sn=Bt[4],gt=v.useMemo(function(){return isFinite(m)?m:0},[m]),$r=v.useMemo(function(){return isFinite(g)?g:100},[g]),sr=v.useMemo(function(){return S!==null&&S<=0?1:S},[S]),m_=v.useMemo(function(){return typeof le=="boolean"?le?sr:!1:le>=0?le:!1},[le,sr]),ho=v.useMemo(function(){return Object.keys(et||{}).map(function(J){var z=et[J],te={value:Number(J)};return z&&er(z)==="object"&&!v.isValidElement(z)&&("label"in z||"style"in z)?(te.style=z.style,te.label=z.label):te.label=z,te}).filter(function(J){var z=J.label;return z||typeof z=="number"}).sort(function(J,z){return J.value-z.value})},[et]),g_=GT(gt,$r,sr,ho,we,m_),yf=Fe(g_,2),po=yf[0],_f=yf[1],v_=TT(T,{value:x}),Ef=Fe(v_,2),kn=Ef[0],y_=Ef[1],Ke=v.useMemo(function(){var J=kn==null?[]:Array.isArray(kn)?kn:[kn],z=Fe(J,1),te=z[0],he=te===void 0?gt:te,be=kn===null?[]:[he];if(It){if(be=on(J),A||kn===void 0){var xn=A>=0?A+1:2;for(be=be.slice(0,xn);be.length<xn;){var en;be.push((en=be[be.length-1])!==null&&en!==void 0?en:gt)}}be.sort(function(tn,nn){return tn-nn})}return be.forEach(function(tn,nn){be[nn]=po(tn)}),be},[kn,It,gt,A,po]),Br=function(z){return It?z:z[0]},mo=pi(function(J){var z=on(J).sort(function(te,he){return te-he});I&&!AT(z,Ke,!0)&&I(Br(z)),y_(z)}),wf=pi(function(J){J&&mt.current.hideHelp();var z=Br(Ke);W==null||W(z),Ri(!W,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ne==null||ne(z)}),__=function(z){if(!(h||!ir||Ke.length<=Cn)){var te=on(Ke);te.splice(z,1),L==null||L(Br(te)),mo(te);var he=Math.max(0,z-1);mt.current.hideHelp(),mt.current.focus(he)}},E_=VT(Lr,Fr,Ke,gt,$r,po,mo,wf,_f,ir,Cn),Wi=Fe(E_,5),Cf=Wi[0],w_=Wi[1],C_=Wi[2],wa=Wi[3],Sf=Wi[4],kf=function(z,te){if(!h){var he=on(Ke),be=0,xn=0,en=$r-gt;Ke.forEach(function(Nn,go){var Of=Math.abs(z-Nn);Of<=en&&(en=Of,be=go),Nn<z&&(xn=go)});var tn=be;ir&&en!==0&&(!Sn||Ke.length<Sn)?(he.splice(xn+1,0,z),tn=xn+1):he[be]=z,It&&!Ke.length&&A===void 0&&he.push(z);var nn=Br(he);if(L==null||L(nn),mo(he),te){var or,Wr;(or=document.activeElement)===null||or===void 0||(Wr=or.blur)===null||Wr===void 0||Wr.call(or),mt.current.focus(tn),Sf(te,tn,he)}else W==null||W(nn),Ri(!W,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ne==null||ne(nn)}},S_=function(z){z.preventDefault();var te=Lr.current.getBoundingClientRect(),he=te.width,be=te.height,xn=te.left,en=te.top,tn=te.bottom,nn=te.right,or=z.clientX,Wr=z.clientY,Nn;switch(Fr){case"btt":Nn=(tn-Wr)/be;break;case"ttb":Nn=(Wr-en)/be;break;case"rtl":Nn=(nn-or)/he;break;default:Nn=(or-xn)/he}var go=gt+Nn*($r-gt);kf(po(go),z)},k_=v.useState(null),xf=Fe(k_,2),Ca=xf[0],Nf=xf[1],x_=function(z,te){if(!h){var he=_f(Ke,z,te);L==null||L(Br(Ke)),mo(he.values),Nf(he.value)}};v.useEffect(function(){if(Ca!==null){var J=Ke.indexOf(Ca);J>=0&&mt.current.focus(J)}Nf(null)},[Ca]);var N_=v.useMemo(function(){return Ur&&sr===null?!1:Ur},[Ur,sr]),Tf=pi(function(J,z){Sf(J,z),L==null||L(Br(Ke))}),If=Cf!==-1;v.useEffect(function(){if(!If){var J=Ke.lastIndexOf(w_);mt.current.focus(J)}},[If]);var ji=v.useMemo(function(){return on(wa).sort(function(J,z){return J-z})},[wa]),T_=v.useMemo(function(){return It?[ji[0],ji[ji.length-1]]:[gt,ji[0]]},[ji,It,gt]),Rf=Fe(T_,2),Pf=Rf[0],bf=Rf[1];v.useImperativeHandle(t,function(){return{focus:function(){mt.current.focus(0)},blur:function(){var z,te=document,he=te.activeElement;(z=Lr.current)!==null&&z!==void 0&&z.contains(he)&&(he==null||he.blur())}}}),v.useEffect(function(){y&&mt.current.focus(0)},[]);var I_=v.useMemo(function(){return{min:gt,max:$r,direction:Fr,disabled:h,keyboard:c,step:sr,included:K,includedStart:Pf,includedEnd:bf,range:It,tabIndex:qt,ariaLabelForHandle:Xt,ariaLabelledByForHandle:Jt,ariaRequired:wn,ariaValueTextFormatterForHandle:Zt,styles:l||{},classNames:o||{}}},[gt,$r,Fr,h,c,sr,K,Pf,bf,It,qt,Xt,Jt,wn,Zt,l,o]);return v.createElement(Dr.Provider,{value:I_},v.createElement("div",{ref:Lr,className:Ir(r,i,wt(wt(wt(wt({},"".concat(r,"-disabled"),h),"".concat(r,"-vertical"),F),"".concat(r,"-horizontal"),!F),"".concat(r,"-with-marks"),ho.length)),style:s,onMouseDown:S_,id:a},v.createElement("div",{className:Ir("".concat(r,"-rail"),o==null?void 0:o.rail),style:Ve(Ve({},M),l==null?void 0:l.rail)}),Tt!==!1&&v.createElement(jT,{prefixCls:r,style:X,values:Ke,startPoint:q,onStartMove:N_?Tf:void 0}),v.createElement(WT,{prefixCls:r,marks:ho,dots:at,style:D,activeStyle:ae}),v.createElement(zT,{ref:mt,prefixCls:r,style:B,values:wa,draggingIndex:Cf,draggingDelete:C_,onStartMove:Tf,onOffsetChange:x_,onFocus:_,onBlur:E,handleRender:Ne,activeHandleRender:tt,onChangeComplete:wf,onDelete:ir?__:void 0}),v.createElement($T,{prefixCls:r,marks:ho,onClick:kf})))});function YT(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),[o,l]=v.useState(!1),[a,u]=v.useState([20,40]),[h,d]=v.useState(1),[c,y]=v.useState(!1),[_,E]=v.useState(null),w=[{min:3,max:6,label:"Toddlers"},{min:7,max:12,label:"Kids"},{min:13,max:19,label:"Teens"},{min:20,max:35,label:"Adult"},{min:36,max:100,label:"Oldies"}],m=([g,C])=>w.filter(S=>S.max>=g&&S.min<=C).map(S=>S.label),p=g=>{g.preventDefault(),y(!0),E(null);const C={objectives:e,gender:n,minAge:a[0],maxAge:a[1],deadline:i,numContent:h};fetch("https://system-production-9942.up.railway.app/api/v1/tasks/content-creator/task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}).then(async S=>{if(!S.ok){const x=await S.text();throw new Error(x||"Failed to submit task")}return S.json()}).then(()=>{l(!0),t(""),d(1),r(""),u([20,40]),s("")}).catch(S=>{E(S.message||"Submission failed")}).finally(()=>y(!1))};return f.createElement("div",{style:{minHeight:"100vh",background:"#f3f4f6",padding:"40px 0"}},f.createElement("div",{style:{maxWidth:520,margin:"0 auto",background:"#fff",borderRadius:18,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.08)",padding:"36px 32px 32px 32px",display:"flex",flexDirection:"column",gap:28}},f.createElement("h2",{style:{fontWeight:800,fontSize:28,letterSpacing:.5,color:"#f87171",marginBottom:8,textAlign:"center",textShadow:"0 1px 0 #fff"}},"Set Task"),f.createElement("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:24}},f.createElement("div",null,f.createElement("label",{htmlFor:"objective",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Objective"),f.createElement("textarea",{id:"objective",value:e,onChange:g=>t(g.target.value),placeholder:"Write here...",rows:3,style:{width:"100%",padding:12,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",resize:"vertical",outline:"none",boxSizing:"border-box"},required:!0})),f.createElement("div",null,f.createElement("label",{htmlFor:"numContents",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Number of Contents"),f.createElement("input",{type:"number",id:"numContents",min:1,value:h,onChange:g=>d(Math.max(1,Number(g.target.value))),style:{width:"100%",padding:10,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",outline:"none"},required:!0})),f.createElement("div",null,f.createElement("label",{style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Gender"),f.createElement("div",{style:{display:"flex",gap:24,padding:"6px 0 0 2px"}},f.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},f.createElement("input",{type:"radio",name:"gender",value:"Male",checked:n==="Male",onChange:g=>r(g.target.value),required:!0,style:{marginRight:6}})," Male"),f.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},f.createElement("input",{type:"radio",name:"gender",value:"Female",checked:n==="Female",onChange:g=>r(g.target.value),style:{marginRight:6}})," Female"),f.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},f.createElement("input",{type:"radio",name:"gender",value:"Other",checked:n==="Other",onChange:g=>r(g.target.value),style:{marginRight:6}})," Other"))),f.createElement("div",null,f.createElement("label",{style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Age Range"),f.createElement("div",{style:{padding:"18px 14px 12px 14px",background:"#f9fafb",borderRadius:12,border:"1.5px solid #e5e7eb",boxShadow:"0 1px 4px 0 #f3f4f6"}},f.createElement(QT,{range:!0,min:3,max:60,value:a,onChange:u,allowCross:!1,trackStyle:[{backgroundColor:"#f87171",height:10}],handleStyle:[{backgroundColor:"#fff",borderColor:"#f87171",height:28,width:28,marginTop:-10,boxShadow:"0 2px 8px #fca5a5"},{backgroundColor:"#fff",borderColor:"#f87171",height:28,width:28,marginTop:-10,boxShadow:"0 2px 8px #fca5a5"}],railStyle:{backgroundColor:"#fee2e2",height:10},step:1}),f.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,fontSize:15,color:"#6b7280",fontWeight:500}},f.createElement("span",null,"3"),f.createElement("span",null,"10"),f.createElement("span",null,"20"),f.createElement("span",null,"30"),f.createElement("span",null,"40"),f.createElement("span",null,"50"),f.createElement("span",null,"60+")),f.createElement("div",{style:{marginTop:12,fontWeight:700,color:"#f87171",textAlign:"center",fontSize:17,display:"flex",flexWrap:"wrap",gap:10,justifyContent:"center"}},m(a).map(g=>f.createElement("span",{key:g,style:{background:"#fff1f2",borderRadius:8,padding:"4px 16px",border:"1.5px solid #fca5a5",fontSize:15,fontWeight:600,letterSpacing:.2}},g))))),f.createElement("div",null,f.createElement("label",{htmlFor:"deadline",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Deadline Date"),f.createElement("input",{type:"date",id:"deadline",value:i,onChange:g=>s(g.target.value),style:{padding:10,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",outline:"none",width:"100%"},required:!0})),f.createElement("button",{type:"submit",disabled:c,style:{marginTop:16,background:c?"#fca5a5":"#f87171",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:"1.08rem",cursor:c?"not-allowed":"pointer",letterSpacing:.5,boxShadow:"0 2px 8px #fca5a5",transition:"background 0.2s"}},c?"Submitting...":"Submit"),_&&f.createElement("div",{style:{color:"#ef4444",marginTop:12,fontWeight:600,textAlign:"center"}},_),o&&f.createElement("div",{style:{color:"#22c55e",marginTop:12,fontWeight:600,textAlign:"center"}},"Task submitted successfully!"))))}function qT(){return f.createElement("div",null,f.createElement("h2",null,"Ongoing Task"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function XT(){return f.createElement("div",null,f.createElement("h2",null,"Set Schedule"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function JT(){return f.createElement("div",null,f.createElement("h2",null,"Ongoing Schedule"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function ZT(){return f.createElement("div",null,f.createElement("h2",null,"Posted Content"),f.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function eI(){return f.createElement(kw,null,f.createElement(ZE,null,f.createElement(ve,{element:f.createElement(rC,null)},f.createElement(ve,{path:"/login",element:f.createElement(Zw,null)}),f.createElement(ve,{path:"/register",element:f.createElement(Xw,null)}),f.createElement(ve,{path:"/forgot-password",element:f.createElement(eC,null)}),f.createElement(ve,{path:"/reset-password/:token",element:f.createElement(iC,null)}),f.createElement(ve,{path:"/",element:f.createElement(Ev,{to:"/login",replace:!0})})),f.createElement(ve,{path:"/admin",element:f.createElement(dT,null)},f.createElement(ve,{index:!0,element:f.createElement(sC,null)}),f.createElement(ve,{path:"approval",element:f.createElement(jp,null,f.createElement(aT,null))}),f.createElement(ve,{path:"manage",element:f.createElement(jp,null,f.createElement(cT,null))})),f.createElement(ve,{path:"/marketing",element:f.createElement(hT,null)},f.createElement(ve,{index:!0,element:f.createElement(Vp,null)}),f.createElement(ve,{path:"dashboard",element:f.createElement(Vp,null)}),f.createElement(ve,{path:"content-calendar",element:f.createElement(pT,null)}),f.createElement(ve,{path:"approval",element:f.createElement(mT,null)}),f.createElement(ve,{path:"approved",element:f.createElement(gT,null)}),f.createElement(ve,{path:"set-task",element:f.createElement(YT,null)}),f.createElement(ve,{path:"ongoing-task",element:f.createElement(qT,null)}),f.createElement(ve,{path:"set-schedule",element:f.createElement(XT,null)}),f.createElement(ve,{path:"ongoing-schedule",element:f.createElement(JT,null)}),f.createElement(ve,{path:"posted-content",element:f.createElement(ZT,null)}))))}uu.createRoot(document.getElementById("root")).render(f.createElement(f.StrictMode,null,f.createElement(Jw,null,f.createElement(eI,null))));
