(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function T0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Hb=Symbol.for("react.fragment"),Vb=Symbol.for("react.strict_mode"),Yb=Symbol.for("react.profiler"),Gb=Symbol.for("react.provider"),qb=Symbol.for("react.context"),Kb=Symbol.for("react.forward_ref"),Qb=Symbol.for("react.suspense"),Jb=Symbol.for("react.memo"),Xb=Symbol.for("react.lazy"),Yh=Symbol.iterator;function Zb(e){return e===null||typeof e!="object"?null:(e=Yh&&e[Yh]||e["@@iterator"],typeof e=="function"?e:null)}var N0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A0=Object.assign,P0={};function Co(e,t,n){this.props=e,this.context=t,this.refs=P0,this.updater=n||N0}Co.prototype.isReactComponent={};Co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D0(){}D0.prototype=Co.prototype;function Mf(e,t,n){this.props=e,this.context=t,this.refs=P0,this.updater=n||N0}var Bf=Mf.prototype=new D0;Bf.constructor=Mf;A0(Bf,Co.prototype);Bf.isPureReactComponent=!0;var Gh=Array.isArray,z0=Object.prototype.hasOwnProperty,Ff={current:null},L0={key:!0,ref:!0,__self:!0,__source:!0};function O0(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)z0.call(t,r)&&!L0.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ns,type:e,key:a,ref:s,props:i,_owner:Ff.current}}function eE(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function tE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qh=/\/+/g;function ud(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tE(""+e.key):t.toString(36)}function Zs(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ns:case Ub:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+ud(s,0):r,Gh(i)?(n="",e!=null&&(n=e.replace(qh,"$&/")+"/"),Zs(i,t,n,"",function(d){return d})):i!=null&&(jf(i)&&(i=eE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qh,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Gh(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+ud(a,l);s+=Zs(a,t,n,c,i)}else if(c=Zb(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+ud(a,l++),s+=Zs(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Rs(e,t,n){if(e==null)return e;var r=[],i=0;return Zs(e,r,"","",function(a){return t.call(n,a,i++)}),r}function nE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},el={transition:null},rE={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:el,ReactCurrentOwner:Ff};function W0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Rs,forEach:function(e,t,n){Rs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rs(e,function(){t++}),t},toArray:function(e){return Rs(e,function(t){return t})||[]},only:function(e){if(!jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Co;le.Fragment=Hb;le.Profiler=Yb;le.PureComponent=Mf;le.StrictMode=Vb;le.Suspense=Qb;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE;le.act=W0;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=A0({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Ff.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)z0.call(t,c)&&!L0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ns,type:e.type,key:i,ref:a,props:r,_owner:s}};le.createContext=function(e){return e={$$typeof:qb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gb,_context:e},e.Consumer=e};le.createElement=O0;le.createFactory=function(e){var t=O0.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Kb,render:e}};le.isValidElement=jf;le.lazy=function(e){return{$$typeof:Xb,_payload:{_status:-1,_result:e},_init:nE}};le.memo=function(e,t){return{$$typeof:Jb,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=el.transition;el.transition={};try{e()}finally{el.transition=t}};le.unstable_act=W0;le.useCallback=function(e,t){return At.current.useCallback(e,t)};le.useContext=function(e){return At.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return At.current.useDeferredValue(e)};le.useEffect=function(e,t){return At.current.useEffect(e,t)};le.useId=function(){return At.current.useId()};le.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return At.current.useMemo(e,t)};le.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};le.useRef=function(e){return At.current.useRef(e)};le.useState=function(e){return At.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return At.current.useTransition()};le.version="18.3.1";I0.exports=le;var m=I0.exports;const o=T0(m);var au={},M0={exports:{}},Kt={},B0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var F=A.length;A.push(O);e:for(;0<F;){var Y=F-1>>>1,ee=A[Y];if(0<i(ee,O))A[Y]=O,A[F]=ee,F=Y;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],F=A.pop();if(F!==O){A[0]=F;e:for(var Y=0,ee=A.length,ce=ee>>>1;Y<ce;){var H=2*(Y+1)-1,J=A[H],V=H+1,re=A[V];if(0>i(J,F))V<ee&&0>i(re,J)?(A[Y]=re,A[V]=F,Y=V):(A[Y]=J,A[H]=F,Y=H);else if(V<ee&&0>i(re,F))A[Y]=re,A[V]=F,Y=V;else break e}}return O}function i(A,O){var F=A.sortIndex-O.sortIndex;return F!==0?F:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,f=null,p=3,x=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(A){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=A)r(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(d)}}function S(A){if(y=!1,E(A),!v)if(n(c)!==null)v=!0,B(k);else{var O=n(d);O!==null&&M(S,O.startTime-A)}}function k(A,O){v=!1,y&&(y=!1,h(T),T=-1),x=!0;var F=p;try{for(E(O),f=n(c);f!==null&&(!(f.expirationTime>O)||A&&!w());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var ee=Y(f.expirationTime<=O);O=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),E(O)}else r(c);f=n(c)}if(f!==null)var ce=!0;else{var H=n(d);H!==null&&M(S,H.startTime-O),ce=!1}return ce}finally{f=null,p=F,x=!1}}var R=!1,C=null,T=-1,N=5,I=-1;function w(){return!(e.unstable_now()-I<N)}function D(){if(C!==null){var A=e.unstable_now();I=A;var O=!0;try{O=C(!0,A)}finally{O?W():(R=!1,C=null)}}else R=!1}var W;if(typeof g=="function")W=function(){g(D)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,P=_.port2;_.port1.onmessage=D,W=function(){P.postMessage(null)}}else W=function(){b(D,0)};function B(A){C=A,R||(R=!0,W())}function M(A,O){T=b(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,B(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var F=p;p=O;try{return A()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=p;p=A;try{return O()}finally{p=F}},e.unstable_scheduleCallback=function(A,O,F){var Y=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Y+F:Y):F=Y,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,A={id:u++,callback:O,priorityLevel:A,startTime:F,expirationTime:ee,sortIndex:-1},F>Y?(A.sortIndex=F,t(d,A),n(c)===null&&A===n(d)&&(y?(h(T),T=-1):y=!0,M(S,F-Y))):(A.sortIndex=ee,t(c,A),v||x||(v=!0,B(k))),A},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(A){var O=p;return function(){var F=p;p=O;try{return A.apply(this,arguments)}finally{p=F}}}})(F0);B0.exports=F0;var iE=B0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE=m,Gt=iE;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j0=new Set,Ca={};function Ni(e,t){lo(e,t),lo(e+"Capture",t)}function lo(e,t){for(Ca[e]=t,e=0;e<t.length;e++)j0.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=Object.prototype.hasOwnProperty,aE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kh={},Qh={};function sE(e){return su.call(Qh,e)?!0:su.call(Kh,e)?!1:aE.test(e)?Qh[e]=!0:(Kh[e]=!0,!1)}function lE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cE(e,t,n,r){if(t===null||typeof t>"u"||lE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $f=/[\-:]([a-z])/g;function Uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($f,Uf);xt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($f,Uf);xt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($f,Uf);xt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hf(e,t,n,r){var i=xt.hasOwnProperty(t)?xt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cE(t,n,i,r)&&(n=null),r||i===null?sE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mr=oE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ts=Symbol.for("react.element"),ji=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),lu=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),Yf=Symbol.for("react.forward_ref"),cu=Symbol.for("react.suspense"),du=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),Jh=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=Jh&&e[Jh]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,fd;function aa(e){if(fd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fd=t&&t[1]||""}return`
`+fd+e}var pd=!1;function hd(e,t){if(!e||pd)return"";pd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{pd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?aa(e):""}function dE(e){switch(e.tag){case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return e=hd(e.type,!1),e;case 11:return e=hd(e.type.render,!1),e;case 1:return e=hd(e.type,!0),e;default:return""}}function uu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case ji:return"Portal";case lu:return"Profiler";case Vf:return"StrictMode";case cu:return"Suspense";case du:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U0:return(e.displayName||"Context")+".Consumer";case $0:return(e._context.displayName||"Context")+".Provider";case Yf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gf:return t=e.displayName||null,t!==null?t:uu(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return uu(e(t))}catch{}}return null}function uE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uu(t);case 8:return t===Vf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fE(e){var t=V0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=fE(e))}function Y0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fu(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G0(e,t){t=t.checked,t!=null&&Hf(e,"checked",t,!1)}function pu(e,t){G0(e,t);var n=Hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hu(e,t.type,n):t.hasOwnProperty("defaultValue")&&hu(e,t.type,Hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hu(e,t,n){(t!=="number"||yl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sa=Array.isArray;function Zi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(sa(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hr(n)}}function q0(e,t){var n=Hr(t.value),r=Hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,Q0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pE=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(e){pE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ua[t]=ua[e]})});function J0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ua.hasOwnProperty(e)&&ua[e]?(""+t).trim():t+"px"}function X0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=J0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var hE=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(e,t){if(t){if(hE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=null;function qf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bu=null,eo=null,to=null;function ng(e){if(e=os(e)){if(typeof bu!="function")throw Error(z(280));var t=e.stateNode;t&&(t=xc(t),bu(e.stateNode,e.type,t))}}function Z0(e){eo?to?to.push(e):to=[e]:eo=e}function ey(){if(eo){var e=eo,t=to;if(to=eo=null,ng(e),t)for(e=0;e<t.length;e++)ng(t[e])}}function ty(e,t){return e(t)}function ny(){}var gd=!1;function ry(e,t,n){if(gd)return e(t,n);gd=!0;try{return ty(e,t,n)}finally{gd=!1,(eo!==null||to!==null)&&(ny(),ey())}}function Ra(e,t){var n=e.stateNode;if(n===null)return null;var r=xc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Eu=!1;if(lr)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{Eu=!1}function gE(e,t,n,r,i,a,s,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var fa=!1,xl=null,vl=!1,Su=null,mE={onError:function(e){fa=!0,xl=e}};function yE(e,t,n,r,i,a,s,l,c){fa=!1,xl=null,gE.apply(mE,arguments)}function xE(e,t,n,r,i,a,s,l,c){if(yE.apply(this,arguments),fa){if(fa){var d=xl;fa=!1,xl=null}else throw Error(z(198));vl||(vl=!0,Su=d)}}function Ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rg(e){if(Ai(e)!==e)throw Error(z(188))}function vE(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return rg(i),e;if(a===r)return rg(i),t;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function oy(e){return e=vE(e),e!==null?ay(e):null}function ay(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ay(e);if(t!==null)return t;e=e.sibling}return null}var sy=Gt.unstable_scheduleCallback,ig=Gt.unstable_cancelCallback,bE=Gt.unstable_shouldYield,EE=Gt.unstable_requestPaint,Ye=Gt.unstable_now,SE=Gt.unstable_getCurrentPriorityLevel,Kf=Gt.unstable_ImmediatePriority,ly=Gt.unstable_UserBlockingPriority,bl=Gt.unstable_NormalPriority,_E=Gt.unstable_LowPriority,cy=Gt.unstable_IdlePriority,hc=null,Bn=null;function wE(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(hc,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:RE,CE=Math.log,kE=Math.LN2;function RE(e){return e>>>=0,e===0?32:31-(CE(e)/kE|0)|0}var As=64,Ps=4194304;function la(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function El(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=la(l):(a&=s,a!==0&&(r=la(a)))}else s=n&~i,s!==0?r=la(s):a!==0&&(r=la(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Sn(t),i=1<<n,r|=e[n],t&=~i;return r}function TE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Sn(a),l=1<<s,c=i[s];c===-1?(!(l&n)||l&r)&&(i[s]=TE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function _u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dy(){var e=As;return As<<=1,!(As&4194240)&&(As=64),e}function md(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=n}function NE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Sn(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Qf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Sn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var be=0;function uy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fy,Jf,py,hy,gy,wu=!1,Ds=[],Nr=null,Ar=null,Pr=null,Ta=new Map,Ia=new Map,wr=[],AE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function og(e,t){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function Go(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=os(t),t!==null&&Jf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function PE(e,t,n,r,i){switch(t){case"focusin":return Nr=Go(Nr,e,t,n,r,i),!0;case"dragenter":return Ar=Go(Ar,e,t,n,r,i),!0;case"mouseover":return Pr=Go(Pr,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ta.set(a,Go(Ta.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ia.set(a,Go(Ia.get(a)||null,e,t,n,r,i)),!0}return!1}function my(e){var t=fi(e.target);if(t!==null){var n=Ai(t);if(n!==null){if(t=n.tag,t===13){if(t=iy(n),t!==null){e.blockedOn=t,gy(e.priority,function(){py(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vu=r,n.target.dispatchEvent(r),vu=null}else return t=os(n),t!==null&&Jf(t),e.blockedOn=n,!1;t.shift()}return!0}function ag(e,t,n){tl(e)&&n.delete(t)}function DE(){wu=!1,Nr!==null&&tl(Nr)&&(Nr=null),Ar!==null&&tl(Ar)&&(Ar=null),Pr!==null&&tl(Pr)&&(Pr=null),Ta.forEach(ag),Ia.forEach(ag)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,wu||(wu=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,DE)))}function Na(e){function t(i){return qo(i,e)}if(0<Ds.length){qo(Ds[0],e);for(var n=1;n<Ds.length;n++){var r=Ds[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nr!==null&&qo(Nr,e),Ar!==null&&qo(Ar,e),Pr!==null&&qo(Pr,e),Ta.forEach(t),Ia.forEach(t),n=0;n<wr.length;n++)r=wr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wr.length&&(n=wr[0],n.blockedOn===null);)my(n),n.blockedOn===null&&wr.shift()}var no=mr.ReactCurrentBatchConfig,Sl=!0;function zE(e,t,n,r){var i=be,a=no.transition;no.transition=null;try{be=1,Xf(e,t,n,r)}finally{be=i,no.transition=a}}function LE(e,t,n,r){var i=be,a=no.transition;no.transition=null;try{be=4,Xf(e,t,n,r)}finally{be=i,no.transition=a}}function Xf(e,t,n,r){if(Sl){var i=Cu(e,t,n,r);if(i===null)kd(e,t,r,_l,n),og(e,r);else if(PE(i,e,t,n,r))r.stopPropagation();else if(og(e,r),t&4&&-1<AE.indexOf(e)){for(;i!==null;){var a=os(i);if(a!==null&&fy(a),a=Cu(e,t,n,r),a===null&&kd(e,t,r,_l,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else kd(e,t,r,null,n)}}var _l=null;function Cu(e,t,n,r){if(_l=null,e=qf(r),e=fi(e),e!==null)if(t=Ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _l=e,null}function yy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SE()){case Kf:return 1;case ly:return 4;case bl:case _E:return 16;case cy:return 536870912;default:return 16}default:return 16}}var kr=null,Zf=null,nl=null;function xy(){if(nl)return nl;var e,t=Zf,n=t.length,r,i="value"in kr?kr.value:kr.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return nl=i.slice(e,1<r?1-r:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zs(){return!0}function sg(){return!1}function Qt(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zs:sg,this.isPropagationStopped=sg,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),t}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=Qt(ko),is=$e({},ko,{view:0,detail:0}),OE=Qt(is),yd,xd,Ko,gc=$e({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ko&&(Ko&&e.type==="mousemove"?(yd=e.screenX-Ko.screenX,xd=e.screenY-Ko.screenY):xd=yd=0,Ko=e),yd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),lg=Qt(gc),WE=$e({},gc,{dataTransfer:0}),ME=Qt(WE),BE=$e({},is,{relatedTarget:0}),vd=Qt(BE),FE=$e({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),jE=Qt(FE),$E=$e({},ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),UE=Qt($E),HE=$e({},ko,{data:0}),cg=Qt(HE),VE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GE[e])?!!t[e]:!1}function tp(){return qE}var KE=$e({},is,{key:function(e){if(e.key){var t=VE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QE=Qt(KE),JE=$e({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dg=Qt(JE),XE=$e({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),ZE=Qt(XE),e2=$e({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),t2=Qt(e2),n2=$e({},gc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r2=Qt(n2),i2=[9,13,27,32],np=lr&&"CompositionEvent"in window,pa=null;lr&&"documentMode"in document&&(pa=document.documentMode);var o2=lr&&"TextEvent"in window&&!pa,vy=lr&&(!np||pa&&8<pa&&11>=pa),ug=String.fromCharCode(32),fg=!1;function by(e,t){switch(e){case"keyup":return i2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ey(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function a2(e,t){switch(e){case"compositionend":return Ey(t);case"keypress":return t.which!==32?null:(fg=!0,ug);case"textInput":return e=t.data,e===ug&&fg?null:e;default:return null}}function s2(e,t){if(Ui)return e==="compositionend"||!np&&by(e,t)?(e=xy(),nl=Zf=kr=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vy&&t.locale!=="ko"?null:t.data;default:return null}}var l2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l2[e.type]:t==="textarea"}function Sy(e,t,n,r){Z0(r),t=wl(t,"onChange"),0<t.length&&(n=new ep("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ha=null,Aa=null;function c2(e){Dy(e,0)}function mc(e){var t=Yi(e);if(Y0(t))return e}function d2(e,t){if(e==="change")return t}var _y=!1;if(lr){var bd;if(lr){var Ed="oninput"in document;if(!Ed){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Ed=typeof hg.oninput=="function"}bd=Ed}else bd=!1;_y=bd&&(!document.documentMode||9<document.documentMode)}function gg(){ha&&(ha.detachEvent("onpropertychange",wy),Aa=ha=null)}function wy(e){if(e.propertyName==="value"&&mc(Aa)){var t=[];Sy(t,Aa,e,qf(e)),ry(c2,t)}}function u2(e,t,n){e==="focusin"?(gg(),ha=t,Aa=n,ha.attachEvent("onpropertychange",wy)):e==="focusout"&&gg()}function f2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mc(Aa)}function p2(e,t){if(e==="click")return mc(t)}function h2(e,t){if(e==="input"||e==="change")return mc(t)}function g2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:g2;function Pa(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!su.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,t){var n=mg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mg(n)}}function Cy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ky(){for(var e=window,t=yl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yl(e.document)}return t}function rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function m2(e){var t=ky(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cy(n.ownerDocument.documentElement,n)){if(r!==null&&rp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=yg(n,a);var s=yg(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y2=lr&&"documentMode"in document&&11>=document.documentMode,Hi=null,ku=null,ga=null,Ru=!1;function xg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ru||Hi==null||Hi!==yl(r)||(r=Hi,"selectionStart"in r&&rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&Pa(ga,r)||(ga=r,r=wl(ku,"onSelect"),0<r.length&&(t=new ep("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hi)))}function Ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vi={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},Sd={},Ry={};lr&&(Ry=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function yc(e){if(Sd[e])return Sd[e];if(!Vi[e])return e;var t=Vi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ry)return Sd[e]=t[n];return e}var Ty=yc("animationend"),Iy=yc("animationiteration"),Ny=yc("animationstart"),Ay=yc("transitionend"),Py=new Map,vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){Py.set(e,t),Ni(t,[e])}for(var _d=0;_d<vg.length;_d++){var wd=vg[_d],x2=wd.toLowerCase(),v2=wd[0].toUpperCase()+wd.slice(1);Zr(x2,"on"+v2)}Zr(Ty,"onAnimationEnd");Zr(Iy,"onAnimationIteration");Zr(Ny,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(Ay,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function bg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xE(r,t,void 0,e),e.currentTarget=null}function Dy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;bg(i,l,d),a=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;bg(i,l,d),a=c}}}if(vl)throw e=Su,vl=!1,Su=null,e}function Pe(e,t){var n=t[Pu];n===void 0&&(n=t[Pu]=new Set);var r=e+"__bubble";n.has(r)||(zy(t,e,2,!1),n.add(r))}function Cd(e,t,n){var r=0;t&&(r|=4),zy(n,e,r,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Da(e){if(!e[Os]){e[Os]=!0,j0.forEach(function(n){n!=="selectionchange"&&(b2.has(n)||Cd(n,!1,e),Cd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,Cd("selectionchange",!1,t))}}function zy(e,t,n,r){switch(yy(t)){case 1:var i=zE;break;case 4:i=LE;break;default:i=Xf}n=i.bind(null,t,n,e),i=void 0,!Eu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function kd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=fi(l),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}l=l.parentNode}}r=r.return}ry(function(){var d=a,u=qf(n),f=[];e:{var p=Py.get(e);if(p!==void 0){var x=ep,v=e;switch(e){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":x=QE;break;case"focusin":v="focus",x=vd;break;case"focusout":v="blur",x=vd;break;case"beforeblur":case"afterblur":x=vd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ME;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=ZE;break;case Ty:case Iy:case Ny:x=jE;break;case Ay:x=t2;break;case"scroll":x=OE;break;case"wheel":x=r2;break;case"copy":case"cut":case"paste":x=UE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=dg}var y=(t&4)!==0,b=!y&&e==="scroll",h=y?p!==null?p+"Capture":null:p;y=[];for(var g=d,E;g!==null;){E=g;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,h!==null&&(S=Ra(g,h),S!=null&&y.push(za(g,S,E)))),b)break;g=g.return}0<y.length&&(p=new x(p,v,null,n,u),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==vu&&(v=n.relatedTarget||n.fromElement)&&(fi(v)||v[cr]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=d,v=v?fi(v):null,v!==null&&(b=Ai(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(y=lg,S="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=dg,S="onPointerLeave",h="onPointerEnter",g="pointer"),b=x==null?p:Yi(x),E=v==null?p:Yi(v),p=new y(S,g+"leave",x,n,u),p.target=b,p.relatedTarget=E,S=null,fi(u)===d&&(y=new y(h,g+"enter",v,n,u),y.target=E,y.relatedTarget=b,S=y),b=S,x&&v)t:{for(y=x,h=v,g=0,E=y;E;E=Mi(E))g++;for(E=0,S=h;S;S=Mi(S))E++;for(;0<g-E;)y=Mi(y),g--;for(;0<E-g;)h=Mi(h),E--;for(;g--;){if(y===h||h!==null&&y===h.alternate)break t;y=Mi(y),h=Mi(h)}y=null}else y=null;x!==null&&Eg(f,p,x,y,!1),v!==null&&b!==null&&Eg(f,b,v,y,!0)}}e:{if(p=d?Yi(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var k=d2;else if(pg(p))if(_y)k=h2;else{k=f2;var R=u2}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=p2);if(k&&(k=k(e,d))){Sy(f,k,n,u);break e}R&&R(e,p,d),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&hu(p,"number",p.value)}switch(R=d?Yi(d):window,e){case"focusin":(pg(R)||R.contentEditable==="true")&&(Hi=R,ku=d,ga=null);break;case"focusout":ga=ku=Hi=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,xg(f,n,u);break;case"selectionchange":if(y2)break;case"keydown":case"keyup":xg(f,n,u)}var C;if(np)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ui?by(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(vy&&n.locale!=="ko"&&(Ui||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ui&&(C=xy()):(kr=u,Zf="value"in kr?kr.value:kr.textContent,Ui=!0)),R=wl(d,T),0<R.length&&(T=new cg(T,e,null,n,u),f.push({event:T,listeners:R}),C?T.data=C:(C=Ey(n),C!==null&&(T.data=C)))),(C=o2?a2(e,n):s2(e,n))&&(d=wl(d,"onBeforeInput"),0<d.length&&(u=new cg("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=C))}Dy(f,t)})}function za(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ra(e,n),a!=null&&r.unshift(za(e,a,i)),a=Ra(e,t),a!=null&&r.push(za(e,a,i))),e=e.return}return r}function Mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eg(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Ra(n,a),c!=null&&s.unshift(za(n,c,l))):i||(c=Ra(n,a),c!=null&&s.push(za(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var E2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function Sg(e){return(typeof e=="string"?e:""+e).replace(E2,`
`).replace(S2,"")}function Ws(e,t,n){if(t=Sg(t),Sg(e)!==t&&n)throw Error(z(425))}function Cl(){}var Tu=null,Iu=null;function Nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(C2)}:Au;function C2(e){setTimeout(function(){throw e})}function Rd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Na(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Na(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),On="__reactFiber$"+Ro,La="__reactProps$"+Ro,cr="__reactContainer$"+Ro,Pu="__reactEvents$"+Ro,k2="__reactListeners$"+Ro,R2="__reactHandles$"+Ro;function fi(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cr]||n[On]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wg(e);e!==null;){if(n=e[On])return n;e=wg(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[On]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function xc(e){return e[La]||null}var Du=[],Gi=-1;function ei(e){return{current:e}}function De(e){0>Gi||(e.current=Du[Gi],Du[Gi]=null,Gi--)}function Te(e,t){Gi++,Du[Gi]=e.current,e.current=t}var Vr={},kt=ei(Vr),Mt=ei(!1),vi=Vr;function co(e,t){var n=e.type.contextTypes;if(!n)return Vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(e){return e=e.childContextTypes,e!=null}function kl(){De(Mt),De(kt)}function Cg(e,t,n){if(kt.current!==Vr)throw Error(z(168));Te(kt,t),Te(Mt,n)}function Ly(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,uE(e)||"Unknown",i));return $e({},n,r)}function Rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,vi=kt.current,Te(kt,e),Te(Mt,Mt.current),!0}function kg(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=Ly(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,De(Mt),De(kt),Te(kt,e)):De(Mt),Te(Mt,n)}var er=null,vc=!1,Td=!1;function Oy(e){er===null?er=[e]:er.push(e)}function T2(e){vc=!0,Oy(e)}function ti(){if(!Td&&er!==null){Td=!0;var e=0,t=be;try{var n=er;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}er=null,vc=!1}catch(i){throw er!==null&&(er=er.slice(e+1)),sy(Kf,ti),i}finally{be=t,Td=!1}}return null}var qi=[],Ki=0,Tl=null,Il=0,Zt=[],en=0,bi=null,nr=1,rr="";function si(e,t){qi[Ki++]=Il,qi[Ki++]=Tl,Tl=e,Il=t}function Wy(e,t,n){Zt[en++]=nr,Zt[en++]=rr,Zt[en++]=bi,bi=e;var r=nr;e=rr;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var a=32-Sn(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,nr=1<<32-Sn(t)+i|n<<i|r,rr=a+e}else nr=1<<a|n<<i|r,rr=e}function ip(e){e.return!==null&&(si(e,1),Wy(e,1,0))}function op(e){for(;e===Tl;)Tl=qi[--Ki],qi[Ki]=null,Il=qi[--Ki],qi[Ki]=null;for(;e===bi;)bi=Zt[--en],Zt[en]=null,rr=Zt[--en],Zt[en]=null,nr=Zt[--en],Zt[en]=null}var Yt=null,Vt=null,ze=!1,vn=null;function My(e,t){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Vt=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bi!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Vt=null,!0):!1;default:return!1}}function zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lu(e){if(ze){var t=Vt;if(t){var n=t;if(!Rg(e,t)){if(zu(e))throw Error(z(418));t=Dr(n.nextSibling);var r=Yt;t&&Rg(e,t)?My(r,n):(e.flags=e.flags&-4097|2,ze=!1,Yt=e)}}else{if(zu(e))throw Error(z(418));e.flags=e.flags&-4097|2,ze=!1,Yt=e}}}function Tg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function Ms(e){if(e!==Yt)return!1;if(!ze)return Tg(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nu(e.type,e.memoizedProps)),t&&(t=Vt)){if(zu(e))throw By(),Error(z(418));for(;t;)My(e,t),t=Dr(t.nextSibling)}if(Tg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=Dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Yt?Dr(e.stateNode.nextSibling):null;return!0}function By(){for(var e=Vt;e;)e=Dr(e.nextSibling)}function uo(){Vt=Yt=null,ze=!1}function ap(e){vn===null?vn=[e]:vn.push(e)}var I2=mr.ReactCurrentBatchConfig;function Qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ig(e){var t=e._init;return t(e._payload)}function Fy(e){function t(h,g){if(e){var E=h.deletions;E===null?(h.deletions=[g],h.flags|=16):E.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=Wr(h,g),h.index=0,h.sibling=null,h}function a(h,g,E){return h.index=E,e?(E=h.alternate,E!==null?(E=E.index,E<g?(h.flags|=2,g):E):(h.flags|=2,g)):(h.flags|=1048576,g)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,g,E,S){return g===null||g.tag!==6?(g=Ld(E,h.mode,S),g.return=h,g):(g=i(g,E),g.return=h,g)}function c(h,g,E,S){var k=E.type;return k===$i?u(h,g,E.props.children,S,E.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Sr&&Ig(k)===g.type)?(S=i(g,E.props),S.ref=Qo(h,g,E),S.return=h,S):(S=dl(E.type,E.key,E.props,null,h.mode,S),S.ref=Qo(h,g,E),S.return=h,S)}function d(h,g,E,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=Od(E,h.mode,S),g.return=h,g):(g=i(g,E.children||[]),g.return=h,g)}function u(h,g,E,S,k){return g===null||g.tag!==7?(g=yi(E,h.mode,S,k),g.return=h,g):(g=i(g,E),g.return=h,g)}function f(h,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ld(""+g,h.mode,E),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ts:return E=dl(g.type,g.key,g.props,null,h.mode,E),E.ref=Qo(h,null,g),E.return=h,E;case ji:return g=Od(g,h.mode,E),g.return=h,g;case Sr:var S=g._init;return f(h,S(g._payload),E)}if(sa(g)||Vo(g))return g=yi(g,h.mode,E,null),g.return=h,g;Bs(h,g)}return null}function p(h,g,E,S){var k=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:l(h,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ts:return E.key===k?c(h,g,E,S):null;case ji:return E.key===k?d(h,g,E,S):null;case Sr:return k=E._init,p(h,g,k(E._payload),S)}if(sa(E)||Vo(E))return k!==null?null:u(h,g,E,S,null);Bs(h,E)}return null}function x(h,g,E,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(E)||null,l(g,h,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ts:return h=h.get(S.key===null?E:S.key)||null,c(g,h,S,k);case ji:return h=h.get(S.key===null?E:S.key)||null,d(g,h,S,k);case Sr:var R=S._init;return x(h,g,E,R(S._payload),k)}if(sa(S)||Vo(S))return h=h.get(E)||null,u(g,h,S,k,null);Bs(g,S)}return null}function v(h,g,E,S){for(var k=null,R=null,C=g,T=g=0,N=null;C!==null&&T<E.length;T++){C.index>T?(N=C,C=null):N=C.sibling;var I=p(h,C,E[T],S);if(I===null){C===null&&(C=N);break}e&&C&&I.alternate===null&&t(h,C),g=a(I,g,T),R===null?k=I:R.sibling=I,R=I,C=N}if(T===E.length)return n(h,C),ze&&si(h,T),k;if(C===null){for(;T<E.length;T++)C=f(h,E[T],S),C!==null&&(g=a(C,g,T),R===null?k=C:R.sibling=C,R=C);return ze&&si(h,T),k}for(C=r(h,C);T<E.length;T++)N=x(C,h,T,E[T],S),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?T:N.key),g=a(N,g,T),R===null?k=N:R.sibling=N,R=N);return e&&C.forEach(function(w){return t(h,w)}),ze&&si(h,T),k}function y(h,g,E,S){var k=Vo(E);if(typeof k!="function")throw Error(z(150));if(E=k.call(E),E==null)throw Error(z(151));for(var R=k=null,C=g,T=g=0,N=null,I=E.next();C!==null&&!I.done;T++,I=E.next()){C.index>T?(N=C,C=null):N=C.sibling;var w=p(h,C,I.value,S);if(w===null){C===null&&(C=N);break}e&&C&&w.alternate===null&&t(h,C),g=a(w,g,T),R===null?k=w:R.sibling=w,R=w,C=N}if(I.done)return n(h,C),ze&&si(h,T),k;if(C===null){for(;!I.done;T++,I=E.next())I=f(h,I.value,S),I!==null&&(g=a(I,g,T),R===null?k=I:R.sibling=I,R=I);return ze&&si(h,T),k}for(C=r(h,C);!I.done;T++,I=E.next())I=x(C,h,T,I.value,S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),g=a(I,g,T),R===null?k=I:R.sibling=I,R=I);return e&&C.forEach(function(D){return t(h,D)}),ze&&si(h,T),k}function b(h,g,E,S){if(typeof E=="object"&&E!==null&&E.type===$i&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ts:e:{for(var k=E.key,R=g;R!==null;){if(R.key===k){if(k=E.type,k===$i){if(R.tag===7){n(h,R.sibling),g=i(R,E.props.children),g.return=h,h=g;break e}}else if(R.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Sr&&Ig(k)===R.type){n(h,R.sibling),g=i(R,E.props),g.ref=Qo(h,R,E),g.return=h,h=g;break e}n(h,R);break}else t(h,R);R=R.sibling}E.type===$i?(g=yi(E.props.children,h.mode,S,E.key),g.return=h,h=g):(S=dl(E.type,E.key,E.props,null,h.mode,S),S.ref=Qo(h,g,E),S.return=h,h=S)}return s(h);case ji:e:{for(R=E.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(h,g.sibling),g=i(g,E.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Od(E,h.mode,S),g.return=h,h=g}return s(h);case Sr:return R=E._init,b(h,g,R(E._payload),S)}if(sa(E))return v(h,g,E,S);if(Vo(E))return y(h,g,E,S);Bs(h,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(h,g.sibling),g=i(g,E),g.return=h,h=g):(n(h,g),g=Ld(E,h.mode,S),g.return=h,h=g),s(h)):n(h,g)}return b}var fo=Fy(!0),jy=Fy(!1),Nl=ei(null),Al=null,Qi=null,sp=null;function lp(){sp=Qi=Al=null}function cp(e){var t=Nl.current;De(Nl),e._currentValue=t}function Ou(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ro(e,t){Al=e,sp=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(sp!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(Al===null)throw Error(z(308));Qi=e,Al.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var pi=null;function dp(e){pi===null?pi=[e]:pi.push(e)}function $y(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,dp(t)):(n.next=i.next,i.next=n),t.interleaved=n,dr(e,r)}function dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _r=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,dr(e,n)}return i=r.interleaved,i===null?(t.next=t,dp(r)):(t.next=i.next,i.next=t),r.interleaved=t,dr(e,n)}function il(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qf(e,n)}}function Ng(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pl(e,t,n,r){var i=e.updateQueue;_r=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,s===null?a=d:s.next=d,s=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,u=d=c=null,l=a;do{var p=l.lane,x=l.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(p=t,x=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(x,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(x,f,p):v,p==null)break e;f=$e({},f,p);break e;case 2:_r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=f):u=u.next=x,s|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Si|=s,e.lanes=s,e.memoizedState=f}}function Ag(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var as={},Fn=ei(as),Oa=ei(as),Wa=ei(as);function hi(e){if(e===as)throw Error(z(174));return e}function fp(e,t){switch(Te(Wa,t),Te(Oa,e),Te(Fn,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mu(t,e)}De(Fn),Te(Fn,t)}function po(){De(Fn),De(Oa),De(Wa)}function Hy(e){hi(Wa.current);var t=hi(Fn.current),n=mu(t,e.type);t!==n&&(Te(Oa,e),Te(Fn,n))}function pp(e){Oa.current===e&&(De(Fn),De(Oa))}var Be=ei(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Id=[];function hp(){for(var e=0;e<Id.length;e++)Id[e]._workInProgressVersionPrimary=null;Id.length=0}var ol=mr.ReactCurrentDispatcher,Nd=mr.ReactCurrentBatchConfig,Ei=0,je=null,nt=null,st=null,zl=!1,ma=!1,Ma=0,N2=0;function Et(){throw Error(z(321))}function gp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function mp(e,t,n,r,i,a){if(Ei=a,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?z2:L2,e=n(r,i),ma){a=0;do{if(ma=!1,Ma=0,25<=a)throw Error(z(301));a+=1,st=nt=null,t.updateQueue=null,ol.current=O2,e=n(r,i)}while(ma)}if(ol.current=Ll,t=nt!==null&&nt.next!==null,Ei=0,st=nt=je=null,zl=!1,t)throw Error(z(300));return e}function yp(){var e=Ma!==0;return Ma=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?je.memoizedState=st=e:st=st.next=e,st}function un(){if(nt===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=st===null?je.memoizedState:st.next;if(t!==null)st=t,nt=e;else{if(e===null)throw Error(z(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},st===null?je.memoizedState=st=e:st=st.next=e}return st}function Ba(e,t){return typeof t=="function"?t(e):t}function Ad(e){var t=un(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=nt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=s=null,c=null,d=a;do{var u=d.lane;if((Ei&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,s=r):c=c.next=f,je.lanes|=u,Si|=u}d=d.next}while(d!==null&&d!==a);c===null?s=r:c.next=l,Cn(r,t.memoizedState)||(Ot=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,je.lanes|=a,Si|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pd(e){var t=un(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Cn(a,t.memoizedState)||(Ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Vy(){}function Yy(e,t){var n=je,r=un(),i=t(),a=!Cn(r.memoizedState,i);if(a&&(r.memoizedState=i,Ot=!0),r=r.queue,xp(Ky.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Fa(9,qy.bind(null,n,r,i,t),void 0,null),dt===null)throw Error(z(349));Ei&30||Gy(n,t,i)}return i}function Gy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qy(e,t,n,r){t.value=n,t.getSnapshot=r,Qy(t)&&Jy(e)}function Ky(e,t,n){return n(function(){Qy(t)&&Jy(e)})}function Qy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function Jy(e){var t=dr(e,1);t!==null&&_n(t,e,1,-1)}function Pg(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t.queue=e,e=e.dispatch=D2.bind(null,je,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xy(){return un().memoizedState}function al(e,t,n,r){var i=Ln();je.flags|=e,i.memoizedState=Fa(1|t,n,void 0,r===void 0?null:r)}function bc(e,t,n,r){var i=un();r=r===void 0?null:r;var a=void 0;if(nt!==null){var s=nt.memoizedState;if(a=s.destroy,r!==null&&gp(r,s.deps)){i.memoizedState=Fa(t,n,a,r);return}}je.flags|=e,i.memoizedState=Fa(1|t,n,a,r)}function Dg(e,t){return al(8390656,8,e,t)}function xp(e,t){return bc(2048,8,e,t)}function Zy(e,t){return bc(4,2,e,t)}function ex(e,t){return bc(4,4,e,t)}function tx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nx(e,t,n){return n=n!=null?n.concat([e]):null,bc(4,4,tx.bind(null,t,e),n)}function vp(){}function rx(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ix(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ox(e,t,n){return Ei&21?(Cn(n,t)||(n=dy(),je.lanes|=n,Si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=n)}function A2(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Nd.transition;Nd.transition={};try{e(!1),t()}finally{be=n,Nd.transition=r}}function ax(){return un().memoizedState}function P2(e,t,n){var r=Or(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sx(e))lx(t,n);else if(n=$y(e,t,n,r),n!==null){var i=Nt();_n(n,e,r,i),cx(n,t,r)}}function D2(e,t,n){var r=Or(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sx(e))lx(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,s)){var c=t.interleaved;c===null?(i.next=i,dp(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=$y(e,t,i,r),n!==null&&(i=Nt(),_n(n,e,r,i),cx(n,t,r))}}function sx(e){var t=e.alternate;return e===je||t!==null&&t===je}function lx(e,t){ma=zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qf(e,n)}}var Ll={readContext:dn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},z2={readContext:dn,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:Dg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,al(4194308,4,tx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){return al(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=P2.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:Pg,useDebugValue:vp,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=Pg(!1),t=e[0];return e=A2.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,i=Ln();if(ze){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),dt===null)throw Error(z(349));Ei&30||Gy(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Dg(Ky.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,qy.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ln(),t=dt.identifierPrefix;if(ze){var n=rr,r=nr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ma++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=N2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L2={readContext:dn,useCallback:rx,useContext:dn,useEffect:xp,useImperativeHandle:nx,useInsertionEffect:Zy,useLayoutEffect:ex,useMemo:ix,useReducer:Ad,useRef:Xy,useState:function(){return Ad(Ba)},useDebugValue:vp,useDeferredValue:function(e){var t=un();return ox(t,nt.memoizedState,e)},useTransition:function(){var e=Ad(Ba)[0],t=un().memoizedState;return[e,t]},useMutableSource:Vy,useSyncExternalStore:Yy,useId:ax,unstable_isNewReconciler:!1},O2={readContext:dn,useCallback:rx,useContext:dn,useEffect:xp,useImperativeHandle:nx,useInsertionEffect:Zy,useLayoutEffect:ex,useMemo:ix,useReducer:Pd,useRef:Xy,useState:function(){return Pd(Ba)},useDebugValue:vp,useDeferredValue:function(e){var t=un();return nt===null?t.memoizedState=e:ox(t,nt.memoizedState,e)},useTransition:function(){var e=Pd(Ba)[0],t=un().memoizedState;return[e,t]},useMutableSource:Vy,useSyncExternalStore:Yy,useId:ax,unstable_isNewReconciler:!1};function mn(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ec={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=Or(e),a=ar(r,i);a.payload=t,n!=null&&(a.callback=n),t=zr(e,a,i),t!==null&&(_n(t,e,i,r),il(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=Or(e),a=ar(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=zr(e,a,i),t!==null&&(_n(t,e,i,r),il(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=Or(e),i=ar(n,r);i.tag=2,t!=null&&(i.callback=t),t=zr(e,i,r),t!==null&&(_n(t,e,r,n),il(t,e,r))}};function zg(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Pa(n,r)||!Pa(i,a):!0}function dx(e,t,n){var r=!1,i=Vr,a=t.contextType;return typeof a=="object"&&a!==null?a=dn(a):(i=Bt(t)?vi:kt.current,r=t.contextTypes,a=(r=r!=null)?co(e,i):Vr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ec,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ec.enqueueReplaceState(t,t.state,null)}function Mu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},up(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=dn(a):(a=Bt(t)?vi:kt.current,i.context=co(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Wu(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ec.enqueueReplaceState(i,i.state,null),Pl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=dE(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Dd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var W2=typeof WeakMap=="function"?WeakMap:Map;function ux(e,t,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Ku=r),Bu(e,t)},n}function fx(e,t,n){n=ar(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Bu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Bu(e,t),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Og(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new W2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=J2.bind(null,e,t,n),t.then(e,e))}function Wg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ar(-1,1),t.tag=2,zr(n,t,1))),n.lanes|=1),e)}var M2=mr.ReactCurrentOwner,Ot=!1;function Tt(e,t,n,r){t.child=e===null?jy(t,null,n,r):fo(t,e.child,n,r)}function Bg(e,t,n,r,i){n=n.render;var a=t.ref;return ro(t,i),r=mp(e,t,n,r,a,i),n=yp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ur(e,t,i)):(ze&&n&&ip(t),t.flags|=1,Tt(e,t,r,i),t.child)}function Fg(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Rp(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,px(e,t,a,r,i)):(e=dl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(s,r)&&e.ref===t.ref)return ur(e,t,i)}return t.flags|=1,e=Wr(a,r),e.ref=t.ref,e.return=t,t.child=e}function px(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Pa(a,r)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,ur(e,t,i)}return Fu(e,t,n,r,i)}function hx(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Xi,Ut),Ut|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Xi,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Te(Xi,Ut),Ut|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Te(Xi,Ut),Ut|=r;return Tt(e,t,i,n),t.child}function gx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fu(e,t,n,r,i){var a=Bt(n)?vi:kt.current;return a=co(t,a),ro(t,i),n=mp(e,t,n,r,a,i),r=yp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ur(e,t,i)):(ze&&r&&ip(t),t.flags|=1,Tt(e,t,n,i),t.child)}function jg(e,t,n,r,i){if(Bt(n)){var a=!0;Rl(t)}else a=!1;if(ro(t,i),t.stateNode===null)sl(e,t),dx(t,n,r),Mu(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=dn(d):(d=Bt(n)?vi:kt.current,d=co(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Lg(t,s,r,d),_r=!1;var p=t.memoizedState;s.state=p,Pl(t,r,s,i),c=t.memoizedState,l!==r||p!==c||Mt.current||_r?(typeof u=="function"&&(Wu(t,n,u,r),c=t.memoizedState),(l=_r||zg(t,n,l,r,p,c,d))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Uy(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:mn(t.type,l),s.props=d,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=Bt(n)?vi:kt.current,c=co(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Lg(t,s,r,c),_r=!1,p=t.memoizedState,s.state=p,Pl(t,r,s,i);var v=t.memoizedState;l!==f||p!==v||Mt.current||_r?(typeof x=="function"&&(Wu(t,n,x,r),v=t.memoizedState),(d=_r||zg(t,n,d,r,p,v,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ju(e,t,n,r,a,i)}function ju(e,t,n,r,i,a){gx(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&kg(t,n,!1),ur(e,t,a);r=t.stateNode,M2.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=fo(t,e.child,null,a),t.child=fo(t,null,l,a)):Tt(e,t,l,a),t.memoizedState=r.state,i&&kg(t,n,!0),t.child}function mx(e){var t=e.stateNode;t.pendingContext?Cg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cg(e,t.context,!1),fp(e,t.containerInfo)}function $g(e,t,n,r,i){return uo(),ap(i),t.flags|=256,Tt(e,t,n,r),t.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function Uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function yx(e,t,n){var r=t.pendingProps,i=Be.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Te(Be,i&1),e===null)return Lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=wc(s,r,0,null),e=yi(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Uu(n),t.memoizedState=$u,e):bp(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return B2(e,t,s,r,l,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Wr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Wr(l,a):(a=yi(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Uu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=$u,r}return a=e.child,e=a.sibling,r=Wr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bp(e,t){return t=wc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,n,r){return r!==null&&ap(r),fo(t,e.child,null,n),e=bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B2(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Dd(Error(z(422))),Fs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=wc({mode:"visible",children:r.children},i,0,null),a=yi(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&fo(t,e.child,null,s),t.child.memoizedState=Uu(s),t.memoizedState=$u,a);if(!(t.mode&1))return Fs(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(z(419)),r=Dd(a,r,void 0),Fs(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ot||l){if(r=dt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,dr(e,i),_n(r,e,i,-1))}return kp(),r=Dd(Error(z(421))),Fs(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=X2.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Vt=Dr(i.nextSibling),Yt=t,ze=!0,vn=null,e!==null&&(Zt[en++]=nr,Zt[en++]=rr,Zt[en++]=bi,nr=e.id,rr=e.overflow,bi=t),t=bp(t,r.children),t.flags|=4096,t)}function Ug(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ou(e.return,t,n)}function zd(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function xx(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Tt(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,n,t);else if(e.tag===19)Ug(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Be,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zd(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zd(t,!0,n,null,a);break;case"together":zd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function F2(e,t,n){switch(t.tag){case 3:mx(t),uo();break;case 5:Hy(t);break;case 1:Bt(t.type)&&Rl(t);break;case 4:fp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Te(Nl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?yx(e,t,n):(Te(Be,Be.current&1),e=ur(e,t,n),e!==null?e.sibling:null);Te(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,hx(e,t,n)}return ur(e,t,n)}var vx,Hu,bx,Ex;vx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hu=function(){};bx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hi(Fn.current);var a=null;switch(n){case"input":i=fu(e,i),r=fu(e,r),a=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),a=[];break;case"textarea":i=gu(e,i),r=gu(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cl)}yu(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ca.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Pe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Ex=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jo(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function j2(e,t,n){var r=t.pendingProps;switch(op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Bt(t.type)&&kl(),St(t),null;case 3:return r=t.stateNode,po(),De(Mt),De(kt),hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(Xu(vn),vn=null))),Hu(e,t),St(t),null;case 5:pp(t);var i=hi(Wa.current);if(n=t.type,e!==null&&t.stateNode!=null)bx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return St(t),null}if(e=hi(Fn.current),Ms(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[On]=t,r[La]=a,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<ca.length;i++)Pe(ca[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Xh(r,a),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pe("invalid",r);break;case"textarea":eg(r,a),Pe("invalid",r)}yu(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ws(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ws(r.textContent,l,e),i=["children",""+l]):Ca.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Is(r),Zh(r,a,!0);break;case"textarea":Is(r),tg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Cl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[On]=t,e[La]=r,vx(e,t,!1,!1),t.stateNode=e;e:{switch(s=xu(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),i=r;break;case"iframe":case"object":case"embed":Pe("load",e),i=r;break;case"video":case"audio":for(i=0;i<ca.length;i++)Pe(ca[i],e);i=r;break;case"source":Pe("error",e),i=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),i=r;break;case"details":Pe("toggle",e),i=r;break;case"input":Xh(e,r),i=fu(e,r),Pe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":eg(e,r),i=gu(e,r),Pe("invalid",e);break;default:i=r}yu(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?X0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Q0(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ka(e,c):typeof c=="number"&&ka(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ca.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Pe("scroll",e):c!=null&&Hf(e,a,c,s))}switch(n){case"input":Is(e),Zh(e,r,!1);break;case"textarea":Is(e),tg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Zi(e,!!r.multiple,a,!1):r.defaultValue!=null&&Zi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)Ex(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=hi(Wa.current),hi(Fn.current),Ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[On]=t,(a=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:Ws(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ws(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=t,t.stateNode=r}return St(t),null;case 13:if(De(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Vt!==null&&t.mode&1&&!(t.flags&128))By(),uo(),t.flags|=98560,a=!1;else if(a=Ms(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[On]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),a=!1}else vn!==null&&(Xu(vn),vn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?it===0&&(it=3):kp())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return po(),Hu(e,t),e===null&&Da(t.stateNode.containerInfo),St(t),null;case 10:return cp(t.type._context),St(t),null;case 17:return Bt(t.type)&&kl(),St(t),null;case 19:if(De(Be),a=t.memoizedState,a===null)return St(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Jo(a,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Dl(e),s!==null){for(t.flags|=128,Jo(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Be,Be.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ye()>go&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Dl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ze)return St(t),null}else 2*Ye()-a.renderingStartTime>go&&n!==1073741824&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Be.current,Te(Be,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return Cp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ut&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function $2(e,t){switch(op(t),t.tag){case 1:return Bt(t.type)&&kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return po(),De(Mt),De(kt),hp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pp(t),null;case 13:if(De(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Be),null;case 4:return po(),null;case 10:return cp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var js=!1,_t=!1,U2=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function Vu(e,t,n){try{n()}catch(r){He(e,t,r)}}var Hg=!1;function H2(e,t){if(Tu=Sl,e=ky(),rp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var x;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===e)break t;if(p===n&&++d===i&&(l=s),p===a&&++u===r&&(c=s),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:e,selectionRange:n},Sl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:mn(t.type,y),b);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){He(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=Hg,Hg=!1,v}function ya(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vu(t,n,a)}i=i.next}while(i!==r)}}function Sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sx(e){var t=e.alternate;t!==null&&(e.alternate=null,Sx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[La],delete t[Pu],delete t[k2],delete t[R2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _x(e){return e.tag===5||e.tag===3||e.tag===4}function Vg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_x(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cl));else if(r!==4&&(e=e.child,e!==null))for(Gu(e,t,n),e=e.sibling;e!==null;)Gu(e,t,n),e=e.sibling}function qu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}var gt=null,yn=!1;function br(e,t,n){for(n=n.child;n!==null;)wx(e,t,n),n=n.sibling}function wx(e,t,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 5:_t||Ji(n,t);case 6:var r=gt,i=yn;gt=null,br(e,t,n),gt=r,yn=i,gt!==null&&(yn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(yn?(e=gt,n=n.stateNode,e.nodeType===8?Rd(e.parentNode,n):e.nodeType===1&&Rd(e,n),Na(e)):Rd(gt,n.stateNode));break;case 4:r=gt,i=yn,gt=n.stateNode.containerInfo,yn=!0,br(e,t,n),gt=r,yn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Vu(n,t,s),i=i.next}while(i!==r)}br(e,t,n);break;case 1:if(!_t&&(Ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,t,l)}br(e,t,n);break;case 21:br(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,br(e,t,n),_t=r):br(e,t,n);break;default:br(e,t,n)}}function Yg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new U2),t.forEach(function(r){var i=Z2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,yn=!1;break e;case 3:gt=l.stateNode.containerInfo,yn=!0;break e;case 4:gt=l.stateNode.containerInfo,yn=!0;break e}l=l.return}if(gt===null)throw Error(z(160));wx(a,s,i),gt=null,yn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){He(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cx(t,e),t=t.sibling}function Cx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),zn(e),r&4){try{ya(3,e,e.return),Sc(3,e)}catch(y){He(e,e.return,y)}try{ya(5,e,e.return)}catch(y){He(e,e.return,y)}}break;case 1:gn(t,e),zn(e),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(gn(t,e),zn(e),r&512&&n!==null&&Ji(n,n.return),e.flags&32){var i=e.stateNode;try{ka(i,"")}catch(y){He(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&G0(i,a),xu(l,s);var d=xu(l,a);for(s=0;s<c.length;s+=2){var u=c[s],f=c[s+1];u==="style"?X0(i,f):u==="dangerouslySetInnerHTML"?Q0(i,f):u==="children"?ka(i,f):Hf(i,u,f,d)}switch(l){case"input":pu(i,a);break;case"textarea":q0(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Zi(i,!!a.multiple,x,!1):p!==!!a.multiple&&(a.defaultValue!=null?Zi(i,!!a.multiple,a.defaultValue,!0):Zi(i,!!a.multiple,a.multiple?[]:"",!1))}i[La]=a}catch(y){He(e,e.return,y)}}break;case 6:if(gn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){He(e,e.return,y)}}break;case 3:if(gn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(t.containerInfo)}catch(y){He(e,e.return,y)}break;case 4:gn(t,e),zn(e);break;case 13:gn(t,e),zn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(_p=Ye())),r&4&&Yg(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(d=_t)||u,gn(t,e),_t=d):gn(t,e),zn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(f=$=u;$!==null;){switch(p=$,x=p.child,p.tag){case 0:case 11:case 14:case 15:ya(4,p,p.return);break;case 1:Ji(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){He(r,n,y)}}break;case 5:Ji(p,p.return);break;case 22:if(p.memoizedState!==null){qg(f);continue}}x!==null?(x.return=p,$=x):qg(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=J0("display",s))}catch(y){He(e,e.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(y){He(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(t,e),zn(e),r&4&&Yg(e);break;case 21:break;default:gn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_x(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ka(i,""),r.flags&=-33);var a=Vg(e);qu(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Vg(e);Gu(e,l,s);break;default:throw Error(z(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V2(e,t,n){$=e,kx(e)}function kx(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||js;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||_t;l=js;var d=_t;if(js=s,(_t=c)&&!d)for($=i;$!==null;)s=$,c=s.child,s.tag===22&&s.memoizedState!==null?Kg(i):c!==null?(c.return=s,$=c):Kg(i);for(;a!==null;)$=a,kx(a),a=a.sibling;$=i,js=l,_t=d}Gg(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$=a):Gg(e)}}function Gg(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||Sc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ag(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ag(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Na(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}_t||t.flags&512&&Yu(t)}catch(p){He(t,t.return,p)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function qg(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Kg(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sc(4,t)}catch(c){He(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){He(t,i,c)}}var a=t.return;try{Yu(t)}catch(c){He(t,a,c)}break;case 5:var s=t.return;try{Yu(t)}catch(c){He(t,s,c)}}}catch(c){He(t,t.return,c)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Y2=Math.ceil,Ol=mr.ReactCurrentDispatcher,Ep=mr.ReactCurrentOwner,ln=mr.ReactCurrentBatchConfig,pe=0,dt=null,Je=null,yt=0,Ut=0,Xi=ei(0),it=0,ja=null,Si=0,_c=0,Sp=0,xa=null,Lt=null,_p=0,go=1/0,Zn=null,Wl=!1,Ku=null,Lr=null,$s=!1,Rr=null,Ml=0,va=0,Qu=null,ll=-1,cl=0;function Nt(){return pe&6?Ye():ll!==-1?ll:ll=Ye()}function Or(e){return e.mode&1?pe&2&&yt!==0?yt&-yt:I2.transition!==null?(cl===0&&(cl=dy()),cl):(e=be,e!==0||(e=window.event,e=e===void 0?16:yy(e.type)),e):1}function _n(e,t,n,r){if(50<va)throw va=0,Qu=null,Error(z(185));rs(e,n,r),(!(pe&2)||e!==dt)&&(e===dt&&(!(pe&2)&&(_c|=n),it===4&&Cr(e,yt)),Ft(e,r),n===1&&pe===0&&!(t.mode&1)&&(go=Ye()+500,vc&&ti()))}function Ft(e,t){var n=e.callbackNode;IE(e,t);var r=El(e,e===dt?yt:0);if(r===0)n!==null&&ig(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ig(n),t===1)e.tag===0?T2(Qg.bind(null,e)):Oy(Qg.bind(null,e)),w2(function(){!(pe&6)&&ti()}),n=null;else{switch(uy(r)){case 1:n=Kf;break;case 4:n=ly;break;case 16:n=bl;break;case 536870912:n=cy;break;default:n=bl}n=zx(n,Rx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rx(e,t){if(ll=-1,cl=0,pe&6)throw Error(z(327));var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var r=El(e,e===dt?yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bl(e,r);else{t=r;var i=pe;pe|=2;var a=Ix();(dt!==e||yt!==t)&&(Zn=null,go=Ye()+500,mi(e,t));do try{K2();break}catch(l){Tx(e,l)}while(1);lp(),Ol.current=a,pe=i,Je!==null?t=0:(dt=null,yt=0,t=it)}if(t!==0){if(t===2&&(i=_u(e),i!==0&&(r=i,t=Ju(e,i))),t===1)throw n=ja,mi(e,0),Cr(e,r),Ft(e,Ye()),n;if(t===6)Cr(e,r);else{if(i=e.current.alternate,!(r&30)&&!G2(i)&&(t=Bl(e,r),t===2&&(a=_u(e),a!==0&&(r=a,t=Ju(e,a))),t===1))throw n=ja,mi(e,0),Cr(e,r),Ft(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:li(e,Lt,Zn);break;case 3:if(Cr(e,r),(r&130023424)===r&&(t=_p+500-Ye(),10<t)){if(El(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Au(li.bind(null,e,Lt,Zn),t);break}li(e,Lt,Zn);break;case 4:if(Cr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Sn(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y2(r/1960))-r,10<r){e.timeoutHandle=Au(li.bind(null,e,Lt,Zn),r);break}li(e,Lt,Zn);break;case 5:li(e,Lt,Zn);break;default:throw Error(z(329))}}}return Ft(e,Ye()),e.callbackNode===n?Rx.bind(null,e):null}function Ju(e,t){var n=xa;return e.current.memoizedState.isDehydrated&&(mi(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&Xu(t)),e}function Xu(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function G2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Cn(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cr(e,t){for(t&=~Sp,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Sn(t),r=1<<n;e[n]=-1,t&=~r}}function Qg(e){if(pe&6)throw Error(z(327));io();var t=El(e,0);if(!(t&1))return Ft(e,Ye()),null;var n=Bl(e,t);if(e.tag!==0&&n===2){var r=_u(e);r!==0&&(t=r,n=Ju(e,r))}if(n===1)throw n=ja,mi(e,0),Cr(e,t),Ft(e,Ye()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,li(e,Lt,Zn),Ft(e,Ye()),null}function wp(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(go=Ye()+500,vc&&ti())}}function _i(e){Rr!==null&&Rr.tag===0&&!(pe&6)&&io();var t=pe;pe|=1;var n=ln.transition,r=be;try{if(ln.transition=null,be=1,e)return e()}finally{be=r,ln.transition=n,pe=t,!(pe&6)&&ti()}}function Cp(){Ut=Xi.current,De(Xi)}function mi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_2(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:po(),De(Mt),De(kt),hp();break;case 5:pp(r);break;case 4:po();break;case 13:De(Be);break;case 19:De(Be);break;case 10:cp(r.type._context);break;case 22:case 23:Cp()}n=n.return}if(dt=e,Je=e=Wr(e.current,null),yt=Ut=t,it=0,ja=null,Sp=_c=Si=0,Lt=xa=null,pi!==null){for(t=0;t<pi.length;t++)if(n=pi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}pi=null}return e}function Tx(e,t){do{var n=Je;try{if(lp(),ol.current=Ll,zl){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zl=!1}if(Ei=0,st=nt=je=null,ma=!1,Ma=0,Ep.current=null,n===null||n.return===null){it=1,ja=t,Je=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Wg(s);if(x!==null){x.flags&=-257,Mg(x,s,l,a,t),x.mode&1&&Og(a,d,t),t=x,c=d;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Og(a,d,t),kp();break e}c=Error(z(426))}}else if(ze&&l.mode&1){var b=Wg(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mg(b,s,l,a,t),ap(ho(c,l));break e}}a=c=ho(c,l),it!==4&&(it=2),xa===null?xa=[a]:xa.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=ux(a,c,t);Ng(a,h);break e;case 1:l=c;var g=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Lr===null||!Lr.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=fx(a,l,t);Ng(a,S);break e}}a=a.return}while(a!==null)}Ax(n)}catch(k){t=k,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function Ix(){var e=Ol.current;return Ol.current=Ll,e===null?Ll:e}function kp(){(it===0||it===3||it===2)&&(it=4),dt===null||!(Si&268435455)&&!(_c&268435455)||Cr(dt,yt)}function Bl(e,t){var n=pe;pe|=2;var r=Ix();(dt!==e||yt!==t)&&(Zn=null,mi(e,t));do try{q2();break}catch(i){Tx(e,i)}while(1);if(lp(),pe=n,Ol.current=r,Je!==null)throw Error(z(261));return dt=null,yt=0,it}function q2(){for(;Je!==null;)Nx(Je)}function K2(){for(;Je!==null&&!bE();)Nx(Je)}function Nx(e){var t=Dx(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?Ax(e):Je=t,Ep.current=null}function Ax(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$2(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,Je=null;return}}else if(n=j2(n,t,Ut),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);it===0&&(it=5)}function li(e,t,n){var r=be,i=ln.transition;try{ln.transition=null,be=1,Q2(e,t,n,r)}finally{ln.transition=i,be=r}return null}function Q2(e,t,n,r){do io();while(Rr!==null);if(pe&6)throw Error(z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(NE(e,a),e===dt&&(Je=dt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$s||($s=!0,zx(bl,function(){return io(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ln.transition,ln.transition=null;var s=be;be=1;var l=pe;pe|=4,Ep.current=null,H2(e,n),Cx(n,e),m2(Iu),Sl=!!Tu,Iu=Tu=null,e.current=n,V2(n),EE(),pe=l,be=s,ln.transition=a}else e.current=n;if($s&&($s=!1,Rr=e,Ml=i),a=e.pendingLanes,a===0&&(Lr=null),wE(n.stateNode),Ft(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Ku,Ku=null,e;return Ml&1&&e.tag!==0&&io(),a=e.pendingLanes,a&1?e===Qu?va++:(va=0,Qu=e):va=0,ti(),null}function io(){if(Rr!==null){var e=uy(Ml),t=ln.transition,n=be;try{if(ln.transition=null,be=16>e?16:e,Rr===null)var r=!1;else{if(e=Rr,Rr=null,Ml=0,pe&6)throw Error(z(331));var i=pe;for(pe|=4,$=e.current;$!==null;){var a=$,s=a.child;if($.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:ya(8,u,a)}var f=u.child;if(f!==null)f.return=u,$=f;else for(;$!==null;){u=$;var p=u.sibling,x=u.return;if(Sx(u),u===d){$=null;break}if(p!==null){p.return=x,$=p;break}$=x}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}$=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,$=s;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ya(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,$=h;break e}$=a.return}}var g=e.current;for($=g;$!==null;){s=$;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,$=E;else e:for(s=g;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sc(9,l)}}catch(k){He(l,l.return,k)}if(l===s){$=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,$=S;break e}$=l.return}}if(pe=i,ti(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(hc,e)}catch{}r=!0}return r}finally{be=n,ln.transition=t}}return!1}function Jg(e,t,n){t=ho(n,t),t=ux(e,t,1),e=zr(e,t,1),t=Nt(),e!==null&&(rs(e,1,t),Ft(e,t))}function He(e,t,n){if(e.tag===3)Jg(e,e,n);else for(;t!==null;){if(t.tag===3){Jg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){e=ho(n,e),e=fx(t,e,1),t=zr(t,e,1),e=Nt(),t!==null&&(rs(t,1,e),Ft(t,e));break}}t=t.return}}function J2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(yt&n)===n&&(it===4||it===3&&(yt&130023424)===yt&&500>Ye()-_p?mi(e,0):Sp|=n),Ft(e,t)}function Px(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var n=Nt();e=dr(e,t),e!==null&&(rs(e,t,n),Ft(e,n))}function X2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Px(e,n)}function Z2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),Px(e,n)}var Dx;Dx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ot=!1,F2(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,ze&&t.flags&1048576&&Wy(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sl(e,t),e=t.pendingProps;var i=co(t,kt.current);ro(t,n),i=mp(null,t,r,e,i,n);var a=yp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(a=!0,Rl(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,up(t),i.updater=Ec,t.stateNode=i,i._reactInternals=t,Mu(t,r,e,n),t=ju(null,t,r,!0,a,n)):(t.tag=0,ze&&a&&ip(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tS(r),e=mn(r,e),i){case 0:t=Fu(null,t,r,e,n);break e;case 1:t=jg(null,t,r,e,n);break e;case 11:t=Bg(null,t,r,e,n);break e;case 14:t=Fg(null,t,r,mn(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),Fu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),jg(e,t,r,i,n);case 3:e:{if(mx(t),e===null)throw Error(z(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Uy(e,t),Pl(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ho(Error(z(423)),t),t=$g(e,t,r,n,i);break e}else if(r!==i){i=ho(Error(z(424)),t),t=$g(e,t,r,n,i);break e}else for(Vt=Dr(t.stateNode.containerInfo.firstChild),Yt=t,ze=!0,vn=null,n=jy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===i){t=ur(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return Hy(t),e===null&&Lu(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Nu(r,i)?s=null:a!==null&&Nu(r,a)&&(t.flags|=32),gx(e,t),Tt(e,t,s,n),t.child;case 6:return e===null&&Lu(t),null;case 13:return yx(e,t,n);case 4:return fp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fo(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),Bg(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Te(Nl,r._currentValue),r._currentValue=s,a!==null)if(Cn(a.value,s)){if(a.children===i.children&&!Mt.current){t=ur(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ar(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ou(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(z(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ou(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ro(t,n),i=dn(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=mn(r,t.pendingProps),i=mn(r.type,i),Fg(e,t,r,i,n);case 15:return px(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mn(r,i),sl(e,t),t.tag=1,Bt(r)?(e=!0,Rl(t)):e=!1,ro(t,n),dx(t,r,i),Mu(t,r,i,n),ju(null,t,r,!0,e,n);case 19:return xx(e,t,n);case 22:return hx(e,t,n)}throw Error(z(156,t.tag))};function zx(e,t){return sy(e,t)}function eS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,r){return new eS(e,t,n,r)}function Rp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tS(e){if(typeof e=="function")return Rp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yf)return 11;if(e===Gf)return 14}return 2}function Wr(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dl(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")Rp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $i:return yi(n.children,i,a,t);case Vf:s=8,i|=8;break;case lu:return e=rn(12,n,t,i|2),e.elementType=lu,e.lanes=a,e;case cu:return e=rn(13,n,t,i),e.elementType=cu,e.lanes=a,e;case du:return e=rn(19,n,t,i),e.elementType=du,e.lanes=a,e;case H0:return wc(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $0:s=10;break e;case U0:s=9;break e;case Yf:s=11;break e;case Gf:s=14;break e;case Sr:s=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=rn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function yi(e,t,n,r){return e=rn(7,e,r,t),e.lanes=n,e}function wc(e,t,n,r){return e=rn(22,e,r,t),e.elementType=H0,e.lanes=n,e.stateNode={isHidden:!1},e}function Ld(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function Od(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tp(e,t,n,r,i,a,s,l,c){return e=new nS(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(a),e}function rS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lx(e){if(!e)return Vr;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(Bt(n))return Ly(e,n,t)}return t}function Ox(e,t,n,r,i,a,s,l,c){return e=Tp(n,r,!0,e,i,a,s,l,c),e.context=Lx(null),n=e.current,r=Nt(),i=Or(n),a=ar(r,i),a.callback=t??null,zr(n,a,i),e.current.lanes=i,rs(e,i,r),Ft(e,r),e}function Cc(e,t,n,r){var i=t.current,a=Nt(),s=Or(i);return n=Lx(n),t.context===null?t.context=n:t.pendingContext=n,t=ar(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zr(i,t,s),e!==null&&(_n(e,i,s,a),il(e,i,s)),s}function Fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ip(e,t){Xg(e,t),(e=e.alternate)&&Xg(e,t)}function iS(){return null}var Wx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Np(e){this._internalRoot=e}kc.prototype.render=Np.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Cc(e,t,null,null)};kc.prototype.unmount=Np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_i(function(){Cc(null,e,null,null)}),t[cr]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=hy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wr.length&&t!==0&&t<wr[n].priority;n++);wr.splice(n,0,e),n===0&&my(e)}};function Ap(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function oS(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Fl(s);a.call(d)}}var s=Ox(t,r,e,0,null,!1,!1,"",Zg);return e._reactRootContainer=s,e[cr]=s.current,Da(e.nodeType===8?e.parentNode:e),_i(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Fl(c);l.call(d)}}var c=Tp(e,0,!1,null,null,!1,!1,"",Zg);return e._reactRootContainer=c,e[cr]=c.current,Da(e.nodeType===8?e.parentNode:e),_i(function(){Cc(t,c,n,r)}),c}function Tc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=Fl(s);l.call(c)}}Cc(t,s,e,i)}else s=oS(n,t,e,i,r);return Fl(s)}fy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=la(t.pendingLanes);n!==0&&(Qf(t,n|1),Ft(t,Ye()),!(pe&6)&&(go=Ye()+500,ti()))}break;case 13:_i(function(){var r=dr(e,1);if(r!==null){var i=Nt();_n(r,e,1,i)}}),Ip(e,1)}};Jf=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var n=Nt();_n(t,e,134217728,n)}Ip(e,134217728)}};py=function(e){if(e.tag===13){var t=Or(e),n=dr(e,t);if(n!==null){var r=Nt();_n(n,e,t,r)}Ip(e,t)}};hy=function(){return be};gy=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};bu=function(e,t,n){switch(t){case"input":if(pu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xc(r);if(!i)throw Error(z(90));Y0(r),pu(r,i)}}}break;case"textarea":q0(e,n);break;case"select":t=n.value,t!=null&&Zi(e,!!n.multiple,t,!1)}};ty=wp;ny=_i;var aS={usingClientEntryPoint:!1,Events:[os,Yi,xc,Z0,ey,wp]},Xo={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sS={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oy(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{hc=Us.inject(sS),Bn=Us}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS;Kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(t))throw Error(z(200));return rS(e,t,null,n)};Kt.createRoot=function(e,t){if(!Ap(e))throw Error(z(299));var n=!1,r="",i=Wx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tp(e,1,!1,null,null,n,!1,r,i),e[cr]=t.current,Da(e.nodeType===8?e.parentNode:e),new Np(t)};Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=oy(t),e=e===null?null:e.stateNode,e};Kt.flushSync=function(e){return _i(e)};Kt.hydrate=function(e,t,n){if(!Rc(t))throw Error(z(200));return Tc(null,e,t,!0,n)};Kt.hydrateRoot=function(e,t,n){if(!Ap(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=Wx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ox(t,null,e,1,n??null,i,!1,a,s),e[cr]=t.current,Da(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kc(t)};Kt.render=function(e,t,n){if(!Rc(t))throw Error(z(200));return Tc(null,e,t,!1,n)};Kt.unmountComponentAtNode=function(e){if(!Rc(e))throw Error(z(40));return e._reactRootContainer?(_i(function(){Tc(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1};Kt.unstable_batchedUpdates=wp;Kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rc(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Tc(e,t,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function Mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mx)}catch(e){console.error(e)}}Mx(),M0.exports=Kt;var Bx=M0.exports,em=Bx;au.createRoot=em.createRoot,au.hydrateRoot=em.hydrateRoot;const lS="modulepreload",cS=function(e){return"/"+e},tm={},Me=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=cS(a),a in tm)return;tm[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":lS,s||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),s)return new Promise((u,f)=>{d.addEventListener("load",u),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.parse=mS;Pp.serialize=yS;const dS=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,uS=/^[\u0021-\u003A\u003C-\u007E]*$/,fS=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pS=/^[\u0020-\u003A\u003D-\u007E]*$/,hS=Object.prototype.toString,gS=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function mS(e,t){const n=new gS,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||xS;let a=0;do{const s=e.indexOf("=",a);if(s===-1)break;const l=e.indexOf(";",a),c=l===-1?r:l;if(s>c){a=e.lastIndexOf(";",s-1)+1;continue}const d=nm(e,a,s),u=rm(e,s,d),f=e.slice(d,u);if(n[f]===void 0){let p=nm(e,s+1,c),x=rm(e,c,p);const v=i(e.slice(p,x));n[f]=v}a=c+1}while(a<r);return n}function nm(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function rm(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function yS(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!dS.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!uS.test(i))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!fS.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!pS.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!vS(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function xS(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function vS(e){return hS.call(e)==="[object Date]"}var im="popstate";function bS(e={}){function t(r,i){let{pathname:a,search:s,hash:l}=r.location;return Zu("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$a(i)}return SS(t,n,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ES(){return Math.random().toString(36).substring(2,10)}function om(e,t){return{usr:e.state,key:e.key,idx:t}}function Zu(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?To(t):t,state:n,key:t&&t.key||r||ES()}}function $a({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function To(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function SS(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,d=u();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function u(){return(s.state||{idx:null}).idx}function f(){l="POP";let b=u(),h=b==null?null:b-d;d=b,c&&c({action:l,location:y.location,delta:h})}function p(b,h){l="PUSH";let g=Zu(y.location,b,h);n&&n(g,b),d=u()+1;let E=om(g,d),S=y.createHref(g);try{s.pushState(E,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}a&&c&&c({action:l,location:y.location,delta:1})}function x(b,h){l="REPLACE";let g=Zu(y.location,b,h);n&&n(g,b),d=u();let E=om(g,d),S=y.createHref(g);s.replaceState(E,"",S),a&&c&&c({action:l,location:y.location,delta:0})}function v(b){return _S(b)}let y={get action(){return l},get location(){return e(i,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(im,f),c=b,()=>{i.removeEventListener(im,f),c=null}},createHref(b){return t(i,b)},createURL:v,encodeLocation(b){let h=v(b);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:x,go(b){return s.go(b)}};return y}function _S(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:$a(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Fx(e,t,n="/"){return wS(e,t,n,!1)}function wS(e,t,n,r){let i=typeof t=="string"?To(t):t,a=fr(i.pathname||"/",n);if(a==null)return null;let s=jx(e);CS(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=OS(a);l=zS(s[c],d,r)}return l}function jx(e,t=[],n=[],r=""){let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=sr([r,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(Oe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),jx(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:PS(d,a.index),routesMeta:u})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of $x(a.path))i(a,s,c)}),t}function $x(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=$x(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:DS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kS=/^:[\w-]+$/,RS=3,TS=2,IS=1,NS=10,AS=-2,am=e=>e==="*";function PS(e,t){let n=e.split("/"),r=n.length;return n.some(am)&&(r+=AS),t&&(r+=TS),n.filter(i=>!am(i)).reduce((i,a)=>i+(kS.test(a)?RS:a===""?IS:NS),r)}function DS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function zS(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=jl({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=jl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:sr([a,f.pathname]),pathnameBase:FS(sr([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=sr([a,f.pathnameBase]))}return s}function jl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=LS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:u,isOptional:f},p)=>{if(u==="*"){let v=l[p]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[p];return f&&!x?d[u]=void 0:d[u]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function LS(e,t=!1,n=!0){fn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function OS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function WS(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?To(e):e;return{pathname:n?n.startsWith("/")?n:MS(n,t):t,search:jS(r),hash:$S(i)}}function MS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dp(e){let t=BS(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zp(e,t,n,r=!1){let i;typeof e=="string"?i=To(e):(i={...e},Oe(!i.pathname||!i.pathname.includes("?"),Wd("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Wd("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Wd("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=WS(i,l),d=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var sr=e=>e.join("/").replace(/\/\/+/g,"/"),FS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$S=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function US(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Ux=["POST","PUT","PATCH","DELETE"];new Set(Ux);var HS=["GET",...Ux];new Set(HS);var Io=m.createContext(null);Io.displayName="DataRouter";var Ic=m.createContext(null);Ic.displayName="DataRouterState";var Hx=m.createContext({isTransitioning:!1});Hx.displayName="ViewTransition";var VS=m.createContext(new Map);VS.displayName="Fetchers";var YS=m.createContext(null);YS.displayName="Await";var kn=m.createContext(null);kn.displayName="Navigation";var ss=m.createContext(null);ss.displayName="Location";var pn=m.createContext({outlet:null,matches:[],isDataRoute:!1});pn.displayName="Route";var Lp=m.createContext(null);Lp.displayName="RouteError";function GS(e,{relative:t}={}){Oe(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=m.useContext(kn),{hash:i,pathname:a,search:s}=ls(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:sr([n,a])),r.createHref({pathname:l,search:s,hash:i})}function No(){return m.useContext(ss)!=null}function Dt(){return Oe(No(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(ss).location}var Vx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yx(e){m.useContext(kn).static||m.useLayoutEffect(e)}function et(){let{isDataRoute:e}=m.useContext(pn);return e?c_():qS()}function qS(){Oe(No(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Io),{basename:t,navigator:n}=m.useContext(kn),{matches:r}=m.useContext(pn),{pathname:i}=Dt(),a=JSON.stringify(Dp(r)),s=m.useRef(!1);return Yx(()=>{s.current=!0}),m.useCallback((c,d={})=>{if(fn(s.current,Vx),!s.current)return;if(typeof c=="number"){n.go(c);return}let u=zp(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:sr([t,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[t,n,a,i,e])}var KS=m.createContext(null);function QS(e){let t=m.useContext(pn).outlet;return t&&m.createElement(KS.Provider,{value:e},t)}function JS(){let{matches:e}=m.useContext(pn),t=e[e.length-1];return t?t.params:{}}function ls(e,{relative:t}={}){let{matches:n}=m.useContext(pn),{pathname:r}=Dt(),i=JSON.stringify(Dp(n));return m.useMemo(()=>zp(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function XS(e,t){return Gx(e,t)}function Gx(e,t,n,r){var h;Oe(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=m.useContext(kn),{matches:a}=m.useContext(pn),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",u=s&&s.route;{let g=u&&u.path||"";qx(c,!u||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=Dt(),p;if(t){let g=typeof t=="string"?To(t):t;Oe(d==="/"||((h=g.pathname)==null?void 0:h.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),p=g}else p=f;let x=p.pathname||"/",v=x;if(d!=="/"){let g=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=Fx(e,{pathname:v});fn(u||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),fn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=r_(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:sr([d,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:sr([d,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r);return t&&b?m.createElement(ss.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function ZS(){let e=l_(),t=US(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null,"💿 Hey developer 👋"),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:a},"ErrorBoundary")," or"," ",m.createElement("code",{style:a},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,s)}var e_=m.createElement(ZS,null),t_=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(pn.Provider,{value:this.props.routeContext},m.createElement(Lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n_({routeContext:e,match:t,children:n}){let r=m.useContext(Io);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(pn.Provider,{value:e},n)}function r_(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Oe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:f}=n,p=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,u)=>{let f,p=!1,x=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||e_,s&&(l<0&&u===0?(qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===u&&(p=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,u+1)),b=()=>{let h;return f?h=x:p?h=v:d.route.Component?h=m.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=c,m.createElement(n_,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:h})};return n&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?m.createElement(t_,{location:n.location,revalidation:n.revalidation,component:x,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function Op(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i_(e){let t=m.useContext(Io);return Oe(t,Op(e)),t}function o_(e){let t=m.useContext(Ic);return Oe(t,Op(e)),t}function a_(e){let t=m.useContext(pn);return Oe(t,Op(e)),t}function Wp(e){let t=a_(e),n=t.matches[t.matches.length-1];return Oe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function s_(){return Wp("useRouteId")}function l_(){var r;let e=m.useContext(Lp),t=o_("useRouteError"),n=Wp("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function c_(){let{router:e}=i_("useNavigate"),t=Wp("useNavigate"),n=m.useRef(!1);return Yx(()=>{n.current=!0}),m.useCallback(async(i,a={})=>{fn(n.current,Vx),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var sm={};function qx(e,t,n){!t&&!sm[e]&&(sm[e]=!0,fn(!1,n))}m.memo(d_);function d_({routes:e,future:t,state:n}){return Gx(e,void 0,n,t)}function Kx({to:e,replace:t,state:n,relative:r}){Oe(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=m.useContext(kn);fn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=m.useContext(pn),{pathname:s}=Dt(),l=et(),c=zp(e,Dp(a),s,r==="path"),d=JSON.stringify(c);return m.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function cs(e){return QS(e.context)}function Z(e){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u_({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Oe(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=To(n));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:p="default"}=n,x=m.useMemo(()=>{let v=fr(c,s);return v==null?null:{location:{pathname:v,search:d,hash:u,state:f,key:p},navigationType:r}},[s,c,d,u,f,p,r]);return fn(x!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:m.createElement(kn.Provider,{value:l},m.createElement(ss.Provider,{children:t,value:x}))}function f_({children:e,location:t}){return XS(ef(e),t)}function ef(e,t=[]){let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let a=[...t,i];if(r.type===m.Fragment){n.push.apply(n,ef(r.props.children,a));return}Oe(r.type===Z,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ef(r.props.children,a)),n.push(s)}),n}var ul="get",fl="application/x-www-form-urlencoded";function Nc(e){return e!=null&&typeof e.tagName=="string"}function p_(e){return Nc(e)&&e.tagName.toLowerCase()==="button"}function h_(e){return Nc(e)&&e.tagName.toLowerCase()==="form"}function g_(e){return Nc(e)&&e.tagName.toLowerCase()==="input"}function m_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y_(e,t){return e.button===0&&(!t||t==="_self")&&!m_(e)}function tf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function x_(e,t){let n=tf(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Hs=null;function v_(){if(Hs===null)try{new FormData(document.createElement("form"),0),Hs=!1}catch{Hs=!0}return Hs}var b_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(e){return e!=null&&!b_.has(e)?(fn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fl}"`),null):e}function E_(e,t){let n,r,i,a,s;if(h_(e)){let l=e.getAttribute("action");r=l?fr(l,t):null,n=e.getAttribute("method")||ul,i=Md(e.getAttribute("enctype"))||fl,a=new FormData(e)}else if(p_(e)||g_(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?fr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ul,i=Md(e.getAttribute("formenctype"))||Md(l.getAttribute("enctype"))||fl,a=new FormData(l,e),!v_()){let{name:d,type:u,value:f}=e;if(u==="image"){let p=d?`${d}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else d&&a.append(d,f)}}else{if(Nc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ul,r=null,i=fl,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function Mp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function S_(e,t){if(e.id in t)return t[e.id];try{let n=await Me(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function __(e){return e!=null&&typeof e.page=="string"}function w_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function C_(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await S_(a,n);return s.links?s.links():[]}return[]}));return I_(r.flat(1).filter(w_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lm(e,t,n,r,i,a){let s=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var u;return n[d].pathname!==c.pathname||((u=n[d].route.path)==null?void 0:u.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,d)=>s(c,d)||l(c,d)):a==="data"?t.filter((c,d)=>{var f;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(s(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function k_(e,t,{includeHydrateFallback:n}={}){return R_(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function R_(e){return[...new Set(e)]}function T_(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function I_(e,t){let n=new Set,r=new Set(t);return e.reduce((i,a)=>{if(t&&!__(a)&&a.as==="script"&&a.href&&r.has(a.href))return i;let l=JSON.stringify(T_(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N_=new Set([100,101,204,205]);function A_(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&fr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Qx(){let e=m.useContext(Io);return Mp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P_(){let e=m.useContext(Ic);return Mp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bp=m.createContext(void 0);Bp.displayName="FrameworkContext";function Jx(){let e=m.useContext(Bp);return Mp(e,"You must render this element inside a <HydratedRouter> element"),e}function D_(e,t){let n=m.useContext(Bp),[r,i]=m.useState(!1),[a,s]=m.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,p=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=h=>{h.forEach(g=>{s(g.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),m.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let x=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,p,{}]:[a,p,{onFocus:Zo(l,x),onBlur:Zo(c,v),onMouseEnter:Zo(d,x),onMouseLeave:Zo(u,v),onTouchStart:Zo(f,x)}]:[!1,p,{}]}function Zo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function z_({page:e,...t}){let{router:n}=Qx(),r=m.useMemo(()=>Fx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?m.createElement(O_,{page:e,matches:r,...t}):null}function L_(e){let{manifest:t,routeModules:n}=Jx(),[r,i]=m.useState([]);return m.useEffect(()=>{let a=!1;return C_(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function O_({page:e,matches:t,...n}){let r=Dt(),{manifest:i,routeModules:a}=Jx(),{basename:s}=Qx(),{loaderData:l,matches:c}=P_(),d=m.useMemo(()=>lm(e,t,c,i,r,"data"),[e,t,c,i,r]),u=m.useMemo(()=>lm(e,t,c,i,r,"assets"),[e,t,c,i,r]),f=m.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(t.forEach(h=>{var E;let g=i.routes[h.route.id];!g||!g.hasLoader||(!d.some(S=>S.route.id===h.route.id)&&h.route.id in l&&((E=a[h.route.id])!=null&&E.shouldRevalidate)||g.hasClientLoader?y=!0:v.add(h.route.id))}),v.size===0)return[];let b=A_(e,s);return y&&v.size>0&&b.searchParams.set("_routes",t.filter(h=>v.has(h.route.id)).map(h=>h.route.id).join(",")),[b.pathname+b.search]},[s,l,r,i,d,t,e,a]),p=m.useMemo(()=>k_(u,i),[u,i]),x=L_(u);return m.createElement(m.Fragment,null,f.map(v=>m.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>m.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:y})=>m.createElement("link",{key:v,...y})))}function W_(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xx&&(window.__reactRouterVersion="7.6.2")}catch{}function M_({basename:e,children:t,window:n}){let r=m.useRef();r.current==null&&(r.current=bS({window:n,v5Compat:!0}));let i=r.current,[a,s]=m.useState({action:i.action,location:i.location}),l=m.useCallback(c=>{m.startTransition(()=>s(c))},[s]);return m.useLayoutEffect(()=>i.listen(l),[i,l]),m.createElement(u_,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var Zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=m.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f,...p},x){let{basename:v}=m.useContext(kn),y=typeof d=="string"&&Zx.test(d),b,h=!1;if(typeof d=="string"&&y&&(b=d,Xx))try{let N=new URL(window.location.href),I=d.startsWith("//")?new URL(N.protocol+d):new URL(d),w=fr(I.pathname,v);I.origin===N.origin&&w!=null?d=w+I.search+I.hash:h=!0}catch{fn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=GS(d,{relative:i}),[E,S,k]=D_(r,p),R=$_(d,{replace:s,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:f});function C(N){t&&t(N),N.defaultPrevented||R(N)}let T=m.createElement("a",{...p,...k,href:b||g,onClick:h||a?t:C,ref:W_(x,S),target:c,"data-discover":!y&&n==="render"?"true":void 0});return E&&!y?m.createElement(m.Fragment,null,T,m.createElement(z_,{page:g})):T});Wn.displayName="Link";var B_=m.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...d},u){let f=ls(s,{relative:d.relative}),p=Dt(),x=m.useContext(Ic),{navigator:v,basename:y}=m.useContext(kn),b=x!=null&&G_(f)&&l===!0,h=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,g=p.pathname,E=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(g=g.toLowerCase(),E=E?E.toLowerCase():null,h=h.toLowerCase()),E&&y&&(E=fr(E,y)||E);const S=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let k=g===h||!i&&g.startsWith(h)&&g.charAt(S)==="/",R=E!=null&&(E===h||!i&&E.startsWith(h)&&E.charAt(h.length)==="/"),C={isActive:k,isPending:R,isTransitioning:b},T=k?t:void 0,N;typeof r=="function"?N=r(C):N=[r,k?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(C):a;return m.createElement(Wn,{...d,"aria-current":T,className:N,ref:u,style:I,to:s,viewTransition:l},typeof c=="function"?c(C):c)});B_.displayName="NavLink";var F_=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=ul,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...p},x)=>{let v=V_(),y=Y_(l,{relative:d}),b=s.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&Zx.test(l),g=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||s;v(S||E.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:a,relative:d,preventScrollReset:u,viewTransition:f})};return m.createElement("form",{ref:x,method:b,action:y,onSubmit:r?c:g,...p,"data-discover":!h&&e==="render"?"true":void 0})});F_.displayName="Form";function j_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(e){let t=m.useContext(Io);return Oe(t,j_(e)),t}function $_(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=et(),c=Dt(),d=ls(e,{relative:a});return m.useCallback(u=>{if(y_(u,t)){u.preventDefault();let f=n!==void 0?n:$a(c)===$a(d);l(e,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,d,n,r,t,e,i,a,s])}function Ao(e){fn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(tf(e)),n=m.useRef(!1),r=Dt(),i=m.useMemo(()=>x_(r.search,n.current?null:t.current),[r.search]),a=et(),s=m.useCallback((l,c)=>{const d=tf(typeof l=="function"?l(i):l);n.current=!0,a("?"+d,c)},[a,i]);return[i,s]}var U_=0,H_=()=>`__${String(++U_)}__`;function V_(){let{router:e}=e1("useSubmit"),{basename:t}=m.useContext(kn),n=s_();return m.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:c,body:d}=E_(r,t);if(i.navigate===!1){let u=i.fetcherKey||H_();await e.fetch(u,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Y_(e,{relative:t}={}){let{basename:n}=m.useContext(kn),r=m.useContext(pn);Oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ls(e||".",{relative:t})},s=Dt();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();a.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:sr([n,a.pathname])),$a(a)}function G_(e,t={}){let n=m.useContext(Hx);Oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=e1("useViewTransitionState"),i=ls(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=fr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=fr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jl(i.pathname,s)!=null||jl(i.pathname,a)!=null}[...N_];function q_({show:e,onSubmit:t,onClose:n,loading:r,error:i}){const[a,s]=m.useState("");if(!e)return null;const l=c=>{c.preventDefault(),t(a)};return o.createElement("div",{className:"otp-modal-backdrop"},o.createElement("div",{className:"otp-modal"},o.createElement("div",{className:"modal-header"},o.createElement("h2",{className:"modal-title"},"Verify Your Email"),o.createElement("p",{className:"modal-subtitle"},"Enter the 6-digit code sent to your email")),o.createElement("form",{className:"modal-form",onSubmit:l},o.createElement("div",{className:"form-group"},o.createElement("input",{type:"text",value:a,onChange:c=>s(c.target.value),maxLength:6,autoFocus:!0,required:!0,placeholder:" ",className:"input otp-input"}),o.createElement("label",{className:"label"},"Verification Code")),i&&o.createElement("div",{className:"error-message"},i),o.createElement("div",{className:"otp-button-row"},o.createElement("button",{className:"otp-verify-btn",type:"submit",disabled:r||a.length!==6},r?o.createElement(o.Fragment,null,o.createElement("span",{className:"loading"}),"Verifying..."):"Verify Code"),o.createElement("button",{className:"otp-cancel-btn",type:"button",onClick:n,disabled:r},"Cancel")))))}function K_({onChange:e,values:t={},errors:n={}}){const r=i=>{const{name:a,value:s}=i.target;e&&e(a,s)};return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"tel",id:"contactNumber",name:"contactNumber",className:`input${n.contactNumber?" error":""}`,value:t.contactNumber||"",onChange:r,required:!0,inputMode:"numeric",pattern:"[0-9]*",placeholder:" "}),o.createElement("label",{htmlFor:"contactNumber",className:"label"},"Contact Number"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",id:"city",name:"city",className:`input${n.city?" error":""}`,value:t.city||"",onChange:r,required:!0,placeholder:" "}),o.createElement("label",{htmlFor:"city",className:"label"},"City"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",id:"state",name:"state",className:`input${n.state?" error":""}`,value:t.state||"",onChange:r,required:!0,placeholder:" "}),o.createElement("label",{htmlFor:"state",className:"label"},"State"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",id:"country",name:"country",className:`input${n.country?" error":""}`,value:t.country||"",onChange:r,required:!0,placeholder:" "}),o.createElement("label",{htmlFor:"country",className:"label"},"Country"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",id:"zipCode",name:"zipCode",className:`input${n.zipCode?" error":""}`,value:t.zipCode||"",onChange:r,required:!0,placeholder:" "}),o.createElement("label",{htmlFor:"zipCode",className:"label"},"Zip Code"))))}const Q_={contactNumber:{required:!0,pattern:/^[0-9]{7,15}$/},city:{required:!0},state:{required:!0},country:{required:!0},zipCode:{required:!0,pattern:/^[0-9a-zA-Z\- ]{3,10}$/}};function cm(e,t){const n=Q_[e];return n.required&&!t?"This field is required":n.minLength&&t.length<n.minLength?`Minimum ${n.minLength} characters`:n.pattern&&!n.pattern.test(t)?"Invalid format":""}function J_({username:e}){const t=et(),[n,r]=m.useState({contactNumber:"",city:"",state:"",country:"",zipCode:""}),[i,a]=m.useState({}),[s,l]=m.useState(!1),[c,d]=m.useState(""),[u,f]=m.useState(!1),p=(v,y)=>{r(b=>({...b,[v]:y})),a(b=>({...b,[v]:cm(v,y)}))},x=async v=>{v.preventDefault();const y={};if(Object.keys(n).forEach(b=>{y[b]=cm(b,n[b])}),a(y),!Object.values(y).some(b=>b)){f(!0),d("");try{const b=await fetch("http://localhost:3000/api/v1/auth/register/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,...n})}),h=await b.json();b.ok||h.status==="success"?(l(!0),setTimeout(()=>{t("/login")},1e3)):d(h.message||"Failed to submit information. Please try again.")}catch{d("Failed to submit information. Please try again.")}finally{f(!1)}}};return s?o.createElement("div",{className:"form-container"},o.createElement("div",{className:"form-header"},o.createElement("h2",{className:"title"},"Registration Complete!"),o.createElement("p",{className:"subtitle"},"Your account has been created successfully"))):o.createElement("div",{className:"form-container"},o.createElement("div",{className:"form-header"},o.createElement("h2",{className:"title"},"Additional Information"),o.createElement("p",{className:"subtitle"},"Complete your profile setup")),o.createElement("form",{className:"form",onSubmit:x,noValidate:!0},o.createElement(K_,{values:n,errors:i,onChange:p}),c&&o.createElement("div",{className:"error-message"},c),o.createElement("button",{type:"submit",className:"signup-button",disabled:u},u?o.createElement(o.Fragment,null,o.createElement("span",{className:"loading"}),"Submitting..."):"Complete Registration")))}const Po=({message:e,type:t="error",onClose:n,duration:r=3e3})=>(m.useEffect(()=>{const i=setTimeout(()=>{n()},r);return()=>clearTimeout(i)},[n,r]),o.createElement("div",{className:`toast toast-${t}`},o.createElement("div",{className:"toast-content"},o.createElement("span",{className:"toast-icon"},t==="error"?"!":t==="success"?"✓":"i"),o.createElement("span",{className:"toast-message"},e))));var t1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dm=o.createContext&&o.createContext(t1),X_=["attr","size","title"];function Z_(e,t){if(e==null)return{};var n=ew(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ew(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}function um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?um(Object(n),!0).forEach(function(r){tw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tw(e,t,n){return t=nw(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nw(e){var t=rw(e,"string");return typeof t=="symbol"?t:t+""}function rw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n1(e){return e&&e.map((t,n)=>o.createElement(t.tag,Ul({key:n},t.attr),n1(t.child)))}function te(e){return t=>o.createElement(iw,$l({attr:Ul({},e.attr)},t),n1(e.child))}function iw(e){var t=n=>{var{attr:r,size:i,title:a}=e,s=Z_(e,X_),l=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),o.createElement("svg",$l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:Ul(Ul({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&o.createElement("title",null,a),e.children)};return dm!==void 0?o.createElement(dm.Consumer,null,n=>t(n)):t(t1)}function Hl(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function ow(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function aw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(e)}function ds(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function Ac(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function Hn(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function r1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function sw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function us(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function jt(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function lw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Ua(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function Pc(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function cw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function pr(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function mo(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function i1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Dc(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function o1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function dw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function Fp(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function zc(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Lc(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function uw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(e)}function a1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Oc(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function s1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Wc(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function Mc(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function l1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function c1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function yo(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function fw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(e)}function Do(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function jp(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function d1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function pw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function vt(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Vl(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function u1(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Yl(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function hw(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}function Ha({value:e,onChange:t,name:n="password",placeholder:r=" ",error:i,success:a,required:s,label:l}){const[c,d]=m.useState(!1);return o.createElement(o.Fragment,null,o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:c?"text":"password",name:n,value:e,onChange:t,placeholder:r,className:`input password-input${i?" error":""}${a?" success":""}`,autoComplete:"new-password",required:s}),l&&o.createElement("label",{htmlFor:n,className:"label"},l),o.createElement("span",{onClick:()=>d(u=>!u),className:"toggle-password","aria-label":c?"Hide password":"Show password",tabIndex:0,role:"button"},c?o.createElement(pr,{size:20}):o.createElement(cw,{size:20}))),i&&o.createElement("div",{className:"error-message"},i))}const gw={firstName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s]+$/},lastName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s]+$/},email:{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@gmail\.com$/},role:{required:!0},password:{required:!0,minLength:1},retypePassword:{required:!0},username:{required:!0,minLength:8,pattern:/^[a-zA-Z0-9_]+$/}};function mw(e){return{hasLength:e.length>=8,hasUppercase:/[A-Z]/.test(e),hasLowercase:/[a-z]/.test(e),hasNumber:/\d/.test(e)}}function yw(e){let t=0;return/[A-Z]/.test(e)&&(t+=1),/\d/.test(e)&&(t+=1),e.length>=8&&(t+=1),t===3?"strong":t===2?"moderate":"poor"}function xw(){var Ve,Ke;const e=et(),[t,n]=m.useState(1),r=3,[i,a]=m.useState({firstName:"",lastName:"",email:"",username:"",role:"",password:"",retypePassword:""}),[s,l]=m.useState({}),[c,d]=m.useState({}),[u,f]=m.useState("poor"),[p,x]=m.useState(!1),[v,y]=m.useState(!1),[b,h]=m.useState(!1),[g,E]=m.useState(""),[S,k]=m.useState(!1),[R,C]=m.useState(null),[T,N]=m.useState(!1),[I,w]=m.useState(!1),[D,W]=m.useState(""),[_,P]=m.useState("error");m.useState({contactNumber:"",city:"",state:"",country:"",zipCode:""}),m.useState({});const[B,M]=m.useState(!1),[A,O]=m.useState(!1),F=(ie,G)=>{const q=gw[ie];let X="";return q.required&&(!G||G==="")?X="This field is required":q.minLength&&G.length<q.minLength?X=`Must be at least ${q.minLength} characters`:q.pattern&&!q.pattern.test(G)&&((ie==="firstName"||ie==="lastName")&&(X="Only letters and spaces allowed"),ie==="email"&&(X="Invalid email address")),X},Y=ie=>{const{name:G,value:q}=ie.target;a(X=>({...X,[G]:q})),G==="password"&&(d(mw(q)),f(yw(q))),l(X=>({...X,[G]:F(G,q),...G==="retypePassword"?{retypePassword:q!==i.password?"Passwords do not match":""}:{},...G==="password"?{retypePassword:i.retypePassword&&q!==i.retypePassword?"Passwords do not match":""}:{}}))},ee=async ie=>{const G=ie.target.value;if(a(X=>({...X,username:G})),M(!1),l(X=>({...X,username:void 0})),G.length<8){l(X=>({...X,username:"Username must be at least 8 characters."}));return}O(!0);const q=await ce(G);O(!1),M(q),q?l(X=>({...X,username:"Username is already used."})):G.length>=8},ce=async ie=>{try{return(await(await fetch("http://localhost:3000/api/v1/auth/check-username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:ie})})).json()).taken||!1}catch(G){return console.error("Error checking username:",G),!1}},H=async ie=>{ie.preventDefault(),console.log("🚀 Form submitted!",i);const G={};if(Object.keys(i).forEach(q=>{const X=F(q,i[q]);X&&(G[q]=X)}),i.password!==i.retypePassword&&(G.retypePassword="Passwords do not match"),i.role||(G.role="Choose a role"),l(G),console.log("🔍 Validation errors:",G),Object.values(G).some(q=>q)){console.log("❌ Form has validation errors:",Object.entries(G).filter(([X,Ae])=>Ae));const q=Object.entries(G).filter(([X,Ae])=>Ae).map(([X,Ae])=>`${X}: ${Ae}`).join(", ");W("Please fix the following errors: "+q),P("error"),w(!0);return}x(!0),console.log("📡 Sending request to:","http://localhost:3000/api/v1/auth/otp/send");try{const q={...i};console.log("📦 Form data:",q);const X=await fetch("http://localhost:3000/api/v1/auth/otp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});console.log("📡 Response status:",X.status);const Ae=await X.json();if(console.log("📡 Response data:",Ae),!X.ok&&Ae.status!=="success")throw new Error(Ae.message||"Registration failed");C(q),y(!0),console.log("✅ OTP modal should show now")}catch(q){console.error("❌ Registration error:",q),W("Registration failed: "+q.message),P("error"),w(!0)}finally{x(!1)}},J=async ie=>{k(!0),E("");try{const G=await fetch("http://localhost:3000/api/v1/auth/otp/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:R.username,otp:ie})}),q=await G.json();if(!G.ok&&q.status!=="success")throw new Error("OTP verification failed");h(!0),y(!1),N(!0),W(["Account created and verified successfully!"]),P("success"),w(!0)}catch{E("Invalid OTP or failed to save address. Please try again.")}finally{k(!1)}};if(b&&R)return o.createElement(J_,{username:R.username});const V=c.hasLength&&c.hasUppercase&&c.hasLowercase&&c.hasNumber,re=i.password&&i.retypePassword&&i.password===i.retypePassword,he=((Ve=i==null?void 0:i.firstName)==null?void 0:Ve.length)>=2&&/^[a-zA-Z\s]+$/.test(i.firstName),xe=((Ke=i==null?void 0:i.lastName)==null?void 0:Ke.length)>=2&&/^[a-zA-Z\s]+$/.test(i.lastName),me=(i==null?void 0:i.email)&&/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(i.email),Ne=he&&xe,Ue=i.username&&!B&&!s.username&&me&&V&&re,ft=i.role,Ge=()=>{t<r&&n(t+1)},qe=()=>{t>1&&n(t-1)};return o.createElement("div",{className:"form-container",key:t},o.createElement("div",{className:"form-header"},o.createElement("h1",{className:"title"},"Create Account"),o.createElement("p",{className:"subtitle"},"Join our salon management platform"),o.createElement("div",{className:"step-indicator"},o.createElement("div",{className:"step-progress"},[1,2,3].map(ie=>o.createElement("div",{key:ie,className:`step-dot ${ie===t?"active":ie<t?"completed":"inactive"}`},ie<t?"✓":ie))),o.createElement("p",{className:"step-text"},"Step ",t," of ",r))),!T&&o.createElement("form",{className:"form",onSubmit:H,noValidate:!0},t===1&&o.createElement("div",{style:{animation:"fadeIn 0.3s ease-in-out"}},o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",id:"firstName",name:"firstName",className:`input${s.firstName?" error":""}${he?" success":""}`,value:i.firstName,onChange:Y,required:!0,placeholder:" "}),o.createElement("label",{htmlFor:"firstName",className:"label"},"First Name"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",id:"lastName",name:"lastName",className:`input${s.lastName?" error":""}${xe?" success":""}`,value:i.lastName,onChange:Y,required:!0,placeholder:" "}),o.createElement("label",{htmlFor:"lastName",className:"label"},"Last Name")))),t===2&&o.createElement("div",{style:{animation:"fadeIn 0.3s ease-in-out"}},o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",name:"username",value:i.username,onChange:ee,className:`input${s.username?" error":""}${i.username&&!B&&!s.username?" success":""}`,placeholder:" ",autoComplete:"username",required:!0}),o.createElement("label",{htmlFor:"username",className:"label"},"Username")),A&&o.createElement("div",{className:"checking-message"},"Checking username availability..."),s.username&&o.createElement("div",{className:"error-message"},s.username),i.username&&!B&&!s.username&&i.username.length>=8&&o.createElement("div",{className:"success-message"},"Username is available!")),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"email",name:"email",value:i.email,onChange:Y,className:`input${s.email?" error":""}${me?" success":""}`,placeholder:" ",autoComplete:"email",required:!0}),o.createElement("label",{htmlFor:"email",className:"label"},"Email"))),o.createElement("div",{className:"form-group"},o.createElement(Ha,{value:i.password,onChange:Y,error:s.password,name:"password",placeholder:" ",success:V,label:"Password"}),i.password&&o.createElement("div",{className:"success-message",style:{color:u==="strong"?"#059669":u==="moderate"?"#f59e0b":"#ef4444",background:u==="strong"?"#f0fdf4":u==="moderate"?"#fffbeb":"#fef2f2",borderColor:u==="strong"?"#bbf7d0":u==="moderate"?"#fed7aa":"#fecaca"}},"Password strength: ",u==="strong"?"Strong":u==="moderate"?"Moderate":"Poor")),o.createElement("div",{className:"form-group"},o.createElement(Ha,{value:i.retypePassword,onChange:Y,error:s.retypePassword,name:"retypePassword",placeholder:" ",label:"Retype Password"}),i.retypePassword&&i.password&&i.password===i.retypePassword&&o.createElement("div",{className:"success-message"},"Passwords match!"))),t===3&&o.createElement("div",{style:{animation:"fadeIn 0.3s ease-in-out"}},o.createElement("div",{className:"form-group"},o.createElement("select",{id:"role",name:"role",className:`input${s.role?" error":""}`,value:i.role,onChange:Y,required:!0},o.createElement("option",{value:""},"Select your role"),o.createElement("option",{value:"MarketingLead"},"Marketing Lead"),o.createElement("option",{value:"ContentCreator"},"Content Creator"),o.createElement("option",{value:"GraphicDesigner"},"Graphic Designer")),o.createElement("label",{htmlFor:"role",className:"label"},"Position/Role"))),o.createElement("div",{className:"form-actions"},t>1&&o.createElement("button",{type:"button",className:"back-button",onClick:qe},"Previous"),t<r?o.createElement("button",{type:"button",className:"signup-button",onClick:Ge,disabled:t===1&&!Ne||t===2&&!Ue},"Continue"):o.createElement("button",{type:"submit",className:"signup-button",disabled:p||!ft},p?o.createElement(o.Fragment,null,o.createElement("span",{className:"loading"}),"Creating Account..."):"Create Account"))),o.createElement("div",{className:"form-footer"},o.createElement("span",null,"Already have an account?"),o.createElement("button",{className:"link",onClick:()=>e("/login")},"Sign In")),o.createElement(q_,{show:v,onSubmit:J,onClose:()=>y(!1),loading:S,error:g}),I&&o.createElement(Po,{messages:D,type:_,onClose:()=>w(!1)}))}const vw=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(!1),[i,a]=m.useState(""),[s,l]=m.useState("error"),c=et(),d=f=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f),u=async f=>{if(f.preventDefault(),!e){a("Please fill out this field."),l("error"),r(!0);return}if(!d(e)){a("Please enter a valid email address"),l("error"),r(!0);return}try{(await fetch("http://localhost:3000/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})).ok?(a("Password reset instructions sent to your email."),l("success"),r(!0)):(a("Failed to send reset email. Please try again."),l("error"),r(!0))}catch{a("An error occurred. Please try again."),l("error"),r(!0)}};return o.createElement("div",{className:"form-container"},o.createElement("div",{className:"form-header"},o.createElement("h2",{className:"title"},"Reset Password"),o.createElement("p",{className:"subtitle"},"Enter your email to receive reset instructions")),o.createElement("form",{className:"form",onSubmit:u},o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{id:"forgot-email",type:"email",className:"input",placeholder:" ",value:e,onChange:f=>t(f.target.value),required:!0}),o.createElement("label",{className:"label",htmlFor:"forgot-email"},"Email Address"))),o.createElement("button",{className:"signup-button",type:"submit"},"Send Reset Link")),o.createElement("div",{className:"form-footer"},o.createElement("button",{className:"back-button",onClick:()=>c("/login")},"Back to Login")),n&&o.createElement(Po,{message:i,type:s,onClose:()=>r(!1)}))},bw="/assets/infinitylogo-04af4037.png",Ew="/assets/issalonnails-a70f4a89.png",Sw=()=>o.createElement(o.Fragment,null,o.createElement("header",{className:"header"},o.createElement("div",{className:"header-container"},o.createElement("div",{className:"logo"},o.createElement("img",{src:bw,alt:"Logo",className:"logo"})))),o.createElement("main",{className:"main"},o.createElement(cs,null)),o.createElement("footer",{className:"footer"},o.createElement("div",{className:"footer-container"},o.createElement("div",{className:"nail"},o.createElement("img",{src:Ew,alt:"issalonnails",id:"nails",style:{maxWidth:"120px",width:"100%",height:"auto"}}))))),f1=m.createContext(),p1=({children:e})=>{const[t,n]=m.useState(()=>{const r=localStorage.getItem("user");return r?JSON.parse(r):null});return m.useEffect(()=>{t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")},[t]),o.createElement(f1.Provider,{value:{user:t,setUser:n}},e)},Rn=()=>m.useContext(f1),_w=({isOpen:e,username:t,onClose:n,onSuccess:r})=>{const[i,a]=m.useState({newPassword:"",confirmPassword:""}),[s,l]=m.useState(!1),[c,d]=m.useState("");if(!e)return null;const u=p=>{const{name:x,value:v}=p.target;a(y=>({...y,[x]:v})),c&&d("")},f=async p=>{if(p.preventDefault(),i.newPassword!==i.confirmPassword){d("Passwords do not match");return}if(i.newPassword.length<8){d("Password must be at least 8 characters long");return}l(!0),d("");try{const x=await fetch("http://localhost:3000/api/v1/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,newPassword:i.newPassword,confirmPassword:i.confirmPassword})}),v=await x.json();x.ok?r():d(v.message||"Failed to reset password")}catch{d("Network error. Please try again.")}finally{l(!1)}};return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{style:{background:"#ffffff",borderRadius:24,width:400,maxHeight:"90vh",boxShadow:"0 25px 50px -12px rgba(239, 68, 68, 0.15)",border:"1px solid rgba(251, 191, 36, 0.2)",fontFamily:"Inter, sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"}},o.createElement("div",{style:{height:"6px",background:"linear-gradient(90deg, #ef4444, #fbbf24, #ef4444, #fbbf24)"}}),o.createElement("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",padding:"24px 32px",display:"flex",alignItems:"center",justifyContent:"space-between",color:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},o.createElement("div",{style:{width:48,height:48,borderRadius:"50%",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement(Fp,{size:24,color:"#fbbf24"})),o.createElement("div",null,o.createElement("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:600}},"Password Reset Required"),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",opacity:.9}},"Please create a new password")))),o.createElement("div",{style:{padding:"32px"}},o.createElement("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"12px",marginBottom:"24px",border:"1px solid #fcd34d"}},o.createElement("p",{style:{margin:0,fontSize:"0.875rem",color:"#92400e"}},"🔒 Your administrator has required you to change your password before continuing.")),o.createElement("form",{onSubmit:f},o.createElement("div",{style:{marginBottom:"20px"}},o.createElement(Ha,{value:i.newPassword,onChange:u,name:"newPassword",placeholder:" ",label:"New Password",required:!0})),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement(Ha,{value:i.confirmPassword,onChange:u,name:"confirmPassword",placeholder:" ",label:"Confirm New Password",required:!0})),c&&o.createElement("div",{style:{color:"#ef4444",fontSize:"14px",marginBottom:"20px",padding:"12px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px"}},c),o.createElement("button",{type:"submit",disabled:s,style:{width:"100%",padding:"16px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:600,cursor:s?"not-allowed":"pointer",opacity:s?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},s?o.createElement(o.Fragment,null,o.createElement("span",{className:"loading"}),"Updating Password..."):"Update Password")))))};function ww(){const e=et(),{setUser:t}=Rn(),[n,r]=m.useState({username:"",password:""}),[i,a]=m.useState({}),[s,l]=m.useState(!1),[c,d]=m.useState({text:"",type:""}),[u,f]=m.useState(!1),[p,x]=m.useState(""),[v,y]=m.useState(!1),[b,h]=m.useState(""),g=()=>{const R={};return n.username||(R.username="Username is required"),n.password||(R.password="Password is required"),R},E=R=>{const{name:C,value:T}=R.target;r(N=>({...N,[C]:T})),a(N=>({...N,[C]:void 0}))},S=async R=>{R.preventDefault();const C=g();if(a(C),Object.keys(C).length>0){const T=Object.keys(C).map(N=>N==="username"?"Username":"Password");x(`Please complete: ${T.join(", ")}`),f(!0);return}l(!0),d({text:"",type:""});try{const T=await fetch("http://localhost:3000/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.username,password:n.password})}),N=await T.json();T.ok?N.status==="password_reset_required"?(h(n.username),y(!0),d({text:"",type:""})):(d({text:"Login successful!",type:"success"}),t(N.data.user),localStorage.setItem("user",JSON.stringify(N.data.user)),setTimeout(()=>{var w;const I=(w=N.data.user)==null?void 0:w.role;e(I==="Admin"?"/admin":I==="MarketingLead"?"/marketing/dashboard":I==="ContentCreator"?"/content/dashboard":I==="GraphicDesigner"?"/graphic/dashboard":"/admin")},1e3)):T.status===423?d({text:N.message||"Account is temporarily locked.",type:"error"}):d({text:N.message||"Login failed.",type:"error"})}catch{d({text:"Network error. Please try again.",type:"error"})}finally{l(!1)}},k=()=>{y(!1),d({text:"Password updated successfully! Please login with your new password.",type:"success"}),r({username:"",password:""})};return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-container"},o.createElement("div",{className:"form-header"},o.createElement("h2",{className:"title"},"Welcome Back"),o.createElement("p",{className:"subtitle"},"Sign in to access your account")),o.createElement("form",{className:"form",onSubmit:S,noValidate:!0},o.createElement("div",{className:"form-group"},o.createElement("div",{className:"password-input-wrapper"},o.createElement("input",{type:"text",id:"username",name:"username",className:`input${i.username?" error":""}`,value:n.username,onChange:E,autoComplete:"username",placeholder:" ",required:!0}),o.createElement("label",{htmlFor:"username",className:"label"},"Username"))),o.createElement("div",{className:"form-group"},o.createElement(Ha,{value:n.password,onChange:E,name:"password",placeholder:" ",label:"Password",required:!0})),o.createElement("div",{className:"forgot-password-link"},o.createElement("button",{type:"button",className:"link",onClick:()=>e("/forgot-password")},"Forgot Password?")),o.createElement("button",{type:"submit",className:"signup-button",disabled:s},s?o.createElement(o.Fragment,null,o.createElement("span",{className:"loading"}),"Logging in..."):"Log In")),c.text&&o.createElement("div",{className:c.type==="success"?"success-message":"error-message"},c.text),o.createElement("div",{className:"form-footer"},o.createElement("span",null,"Don't have an account?"),o.createElement("button",{className:"link",onClick:()=>e("/register")},"Create Account"))),u&&o.createElement(Po,{message:p,type:"error",onClose:()=>f(!1)}),o.createElement(_w,{isOpen:v,username:b,onClose:()=>y(!1),onSuccess:k}))}function Cw(){const{token:e}=JS(),[t,n]=m.useState(""),[r,i]=m.useState(""),[a,s]=m.useState(""),[l,c]=m.useState(""),d=et(),u=async f=>{if(f.preventDefault(),c(""),s(""),t!==r){c("Passwords do not match.");return}try{(await fetch("http://localhost:3000/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t})})).ok?(s("Password reset successful! Redirecting to login..."),setTimeout(()=>d("/login"),2e3)):c("Failed to reset password. Please try again.")}catch{c("Network error. Please try again.")}};return o.createElement("div",{className:"main"},o.createElement("div",{className:"form-container"},o.createElement("h2",{className:"title"},"Reset Password"),o.createElement("form",{className:"form",onSubmit:u},o.createElement("div",{className:"form-group"},o.createElement("input",{id:"reset-password",type:"password",className:"input",placeholder:" ",value:t,onChange:f=>n(f.target.value),required:!0}),o.createElement("label",{className:"label",htmlFor:"reset-password"},"New Password")),o.createElement("div",{className:"form-group"},o.createElement("input",{id:"reset-retype",type:"password",className:"input",placeholder:" ",value:r,onChange:f=>i(f.target.value),required:!0}),o.createElement("label",{className:"label",htmlFor:"reset-retype"},"Retype Password")),o.createElement("button",{className:"signup-button",type:"submit"},"Reset Password")),a&&o.createElement("div",{className:"success-message"},a),l&&o.createElement("div",{className:"error-message"},l)))}const kw=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(e,t){if(!e)throw zo(t)},zo=function(e){return new Error("Firebase Database ("+h1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Rw=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],l=e[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},$p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,l=s?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,u=a>>2,f=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,x=d&63;c||(x=64,s||(p=64)),r.push(n[u],n[f],n[p],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Rw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const d=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||l==null||d==null||f==null)throw new Tw;const p=a<<2|l>>4;if(r.push(p),d!==64){const x=l<<4&240|d>>2;if(r.push(x),f!==64){const v=d<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(e){const t=g1(e);return $p.encodeByteArray(t,!0)},Gl=function(e){return m1(e).replace(/\./g,"")},nf=function(e){try{return $p.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(e){return y1(void 0,e)}function y1(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Nw(n)||(e[n]=y1(e[n],t[n]));return e}function Nw(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=()=>Aw().__FIREBASE_DEFAULTS__,Dw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},zw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nf(e[1]);return t&&JSON.parse(t)},x1=()=>{try{return kw()||Pw()||Dw()||zw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Lw=e=>{var t,n;return(n=(t=x1())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},v1=e=>{const t=Lw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},b1=()=>{var e;return(e=x1())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e){return e.endsWith(".cloudworkstations.dev")}async function E1(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Gl(JSON.stringify(n)),Gl(JSON.stringify(s)),l].join(".")}const ba={};function Ow(){const e={prod:[],emulator:[]};for(const t of Object.keys(ba))ba[t]?e.emulator.push(t):e.prod.push(t);return e}function Ww(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let fm=!1;function _1(e,t){if(typeof window>"u"||typeof document>"u"||!Bc(window.location.host)||ba[e]===t||ba[e]||fm)return;ba[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=Ow().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{fm=!0,s()},p}function u(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Ww(r),x=n("text"),v=document.getElementById(x)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),h=n("preprendIcon"),g=document.getElementById(h)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;l(E),u(b,y);const S=d();c(g,h),E.append(g,v,b,S),document.body.appendChild(E)}a?(v.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mw())}function Bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C1(){return h1.NODE_ADMIN===!0}function Fw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="FirebaseError";class Lo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=$w,Object.setPrototypeOf(this,Lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k1.prototype.create)}}class k1{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?Uw(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Lo(i,l,r)}}function Uw(e,t){return e.replace(Hw,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Hw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(e){return JSON.parse(e)}function rt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(e){let t={},n={},r={},i="";try{const a=e.split(".");t=Va(nf(a[0])||""),n=Va(nf(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Vw=function(e){const t=R1(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Yw=function(e){const t=R1(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function rf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ql(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Kl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if(pm(a)&&pm(s)){if(!Kl(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)r[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const p=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4],d,u;for(let f=0;f<80;f++){f<40?f<20?(d=l^a&(s^l),u=1518500249):(d=a^s^l,u=1859775393):f<60?(d=a&s|l&(a|s),u=2400959708):(d=a^s^l,u=3395469782);const p=(i<<5|i>>>27)+d+c+u+r[f]&4294967295;c=l,l=s,s=(a<<30|a>>>2)&4294967295,a=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const a=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(a[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(a),s=0;break}}else for(;i<n;)if(a[s]=t[i],++s,++i,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)t[r]=this.chain_[i]>>a&255,++r;return t}}function Ci(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const a=i-55296;r++,L(r<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Fc=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e){return e&&e._delegate?e._delegate:e}class Yr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ht;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jw(t))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=ci){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ci){return this.instances.has(t)}getOptions(t=ci){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(t),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&t(s,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ci){return this.component?this.component.multipleInstances?t:ci:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qw(e){return e===ci?void 0:e}function Jw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new of(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Re||(Re={}));const Xw={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Zw=Re.INFO,eC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},tC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=eC[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class I1{constructor(t){this.name=t,this._logLevel=Zw,this._logHandler=tC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const nC=(e,t)=>t.some(n=>e instanceof n);let hm,gm;function rC(){return hm||(hm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iC(){return gm||(gm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N1=new WeakMap,af=new WeakMap,A1=new WeakMap,Bd=new WeakMap,Up=new WeakMap;function oC(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(Mr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&N1.set(n,e)}).catch(()=>{}),Up.set(t,e),t}function aC(e){if(af.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});af.set(e,t)}let sf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return af.get(e);if(t==="objectStoreNames")return e.objectStoreNames||A1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sC(e){sf=e(sf)}function lC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fd(this),t,...n);return A1.set(r,t.sort?t.sort():[t]),Mr(r)}:iC().includes(e)?function(...t){return e.apply(Fd(this),t),Mr(N1.get(this))}:function(...t){return Mr(e.apply(Fd(this),t))}}function cC(e){return typeof e=="function"?lC(e):(e instanceof IDBTransaction&&aC(e),nC(e,rC())?new Proxy(e,sf):e)}function Mr(e){if(e instanceof IDBRequest)return oC(e);if(Bd.has(e))return Bd.get(e);const t=cC(e);return t!==e&&(Bd.set(e,t),Up.set(t,e)),t}const Fd=e=>Up.get(e);function dC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),l=Mr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Mr(s.result),c.oldVersion,c.newVersion,Mr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const uC=["get","getKey","getAll","getAllKeys","count"],fC=["put","add","delete","clear"],jd=new Map;function mm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=fC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uC.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return jd.set(t,a),a}sC(e=>({...e,get:(t,n,r)=>mm(t,n)||e.get(t,n,r),has:(t,n)=>!!mm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const lf="@firebase/app",ym="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new I1("@firebase/app"),gC="@firebase/app-compat",mC="@firebase/analytics-compat",yC="@firebase/analytics",xC="@firebase/app-check-compat",vC="@firebase/app-check",bC="@firebase/auth",EC="@firebase/auth-compat",SC="@firebase/database",_C="@firebase/data-connect",wC="@firebase/database-compat",CC="@firebase/functions",kC="@firebase/functions-compat",RC="@firebase/installations",TC="@firebase/installations-compat",IC="@firebase/messaging",NC="@firebase/messaging-compat",AC="@firebase/performance",PC="@firebase/performance-compat",DC="@firebase/remote-config",zC="@firebase/remote-config-compat",LC="@firebase/storage",OC="@firebase/storage-compat",WC="@firebase/firestore",MC="@firebase/ai",BC="@firebase/firestore-compat",FC="firebase",jC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="[DEFAULT]",$C={[lf]:"fire-core",[gC]:"fire-core-compat",[yC]:"fire-analytics",[mC]:"fire-analytics-compat",[vC]:"fire-app-check",[xC]:"fire-app-check-compat",[bC]:"fire-auth",[EC]:"fire-auth-compat",[SC]:"fire-rtdb",[_C]:"fire-data-connect",[wC]:"fire-rtdb-compat",[CC]:"fire-fn",[kC]:"fire-fn-compat",[RC]:"fire-iid",[TC]:"fire-iid-compat",[IC]:"fire-fcm",[NC]:"fire-fcm-compat",[AC]:"fire-perf",[PC]:"fire-perf-compat",[DC]:"fire-rc",[zC]:"fire-rc-compat",[LC]:"fire-gcs",[OC]:"fire-gcs-compat",[WC]:"fire-fst",[BC]:"fire-fst-compat",[MC]:"fire-vertex","fire-js":"fire-js",[FC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,UC=new Map,df=new Map;function xm(e,t){try{e.container.addComponent(t)}catch(n){hr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ya(e){const t=e.name;if(df.has(t))return hr.debug(`There were multiple attempts to register component ${t}.`),!1;df.set(t,e);for(const n of Ql.values())xm(n,e);for(const n of UC.values())xm(n,e);return!0}function P1(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function D1(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new k1("app","Firebase",HC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=jC;function L1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:cf,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=b1()),!n)throw Br.create("no-options");const a=Ql.get(i);if(a){if(Kl(n,a.options)&&Kl(r,a.config))return a;throw Br.create("duplicate-app",{appName:i})}const s=new T1(i);for(const c of df.values())s.addComponent(c);const l=new VC(n,r,s);return Ql.set(i,l),l}function O1(e=cf){const t=Ql.get(e);if(!t&&e===cf&&b1())return L1();if(!t)throw Br.create("no-app",{appName:e});return t}function Fr(e,t,n){var r;let i=(r=$C[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${t}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hr.warn(l.join(" "));return}Ya(new Yr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebase-heartbeat-database",GC=1,Ga="firebase-heartbeat-store";let $d=null;function W1(){return $d||($d=dC(YC,GC,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ga)}catch(n){console.warn(n)}}}}).catch(e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})})),$d}async function qC(e){try{const n=(await W1()).transaction(Ga),r=await n.objectStore(Ga).get(M1(e));return await n.done,r}catch(t){if(t instanceof Lo)hr.warn(t.message);else{const n=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hr.warn(n.message)}}}async function vm(e,t){try{const r=(await W1()).transaction(Ga,"readwrite");await r.objectStore(Ga).put(t,M1(e)),await r.done}catch(n){if(n instanceof Lo)hr.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(r.message)}}}function M1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1024,QC=30;class JC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bm();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>QC){const s=ek(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bm(),{heartbeatsToSend:r,unsentEntries:i}=XC(this._heartbeatsCache.heartbeats),a=Gl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return hr.warn(n),""}}}function bm(){return new Date().toISOString().substring(0,10)}function XC(e,t=KC){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Em(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Em(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Em(e){return Gl(JSON.stringify({version:2,heartbeats:e})).length}function ek(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(e){Ya(new Yr("platform-logger",t=>new pC(t),"PRIVATE")),Ya(new Yr("heartbeat",t=>new JC(t),"PRIVATE")),Fr(lf,ym,e),Fr(lf,ym,"esm2017"),Fr("fire-js","")}tk("");var nk="firebase",rk="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(nk,rk,"app");const Sm="@firebase/database",_m="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B1="";function F1(e){B1=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),rt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Va(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Tn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ik(t)}}catch{}return new ok},gi=j1("localStorage"),uf=j1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new I1("@firebase/database"),$1=function(){let e=1;return function(){return e++}}(),U1=function(e){const t=Kw(e),n=new qw;n.update(t);const r=n.digest();return $p.encodeByteArray(r)},fs=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=fs.apply(null,r):typeof r=="object"?t+=rt(r):t+=r,t+=" "}return t};let xi=null,wm=!0;const H1=function(e,t){L(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(oo.logLevel=Re.VERBOSE,xi=oo.log.bind(oo),t&&uf.set("logging_enabled",!0)):typeof e=="function"?xi=e:(xi=null,uf.remove("logging_enabled"))},ct=function(...e){if(wm===!0&&(wm=!1,xi===null&&uf.get("logging_enabled")===!0&&H1(!0)),xi){const t=fs.apply(null,e);xi(t)}},ps=function(e){return function(...t){ct(e,...t)}},ff=function(...e){const t="FIREBASE INTERNAL ERROR: "+fs(...e);oo.error(t)},Vn=function(...e){const t=`FIREBASE FATAL ERROR: ${fs(...e)}`;throw oo.error(t),new Error(t)},Ct=function(...e){const t="FIREBASE WARNING: "+fs(...e);oo.warn(t)},ak=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jc=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},sk=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gr="[MIN_NAME]",gr="[MAX_NAME]",Pi=function(e,t){if(e===t)return 0;if(e===Gr||t===gr)return-1;if(t===Gr||e===gr)return 1;{const n=Cm(e),r=Cm(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},lk=function(e,t){return e===t?0:e<t?-1:1},ea=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+rt(t))},Hp=function(e){if(typeof e!="object"||e===null)return rt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=rt(t[r]),n+=":",n+=Hp(e[t[r]]);return n+="}",n},V1=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ut(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Y1=function(e){L(!jc(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,a,s,l,c;e===0?(a=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),a=l+r,s=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,s=Math.round(e/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);d.push(i?1:0),d.reverse();const u=d.join("");let f="";for(c=0;c<64;c+=8){let p=parseInt(u.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),f=f+p}return f.toLowerCase()},ck=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const fk=new RegExp("^-?(0*)\\d{1,10}$"),pk=-2147483648,hk=2147483647,Cm=function(e){if(fk.test(e)){const t=Number(e);if(t>=pk&&t<=hk)return t}return null},Oo=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ct("Exception was thrown by user callback.",n),t},Math.floor(0))}},gk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ea=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,D1(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ct(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ct(t)}}class ao{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ao.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="5",G1="v",q1="s",K1="r",Q1="f",J1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X1="ls",Z1="p",pf="ac",ev="websocket",tv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,n,r,i,a=!1,s="",l=!1,c=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&gi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function xk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function rv(e,t,n){L(typeof t=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(t===ev)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===tv)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xk(e)&&(n.ns=e.namespace);const i=[];return ut(n,(a,s)=>{i.push(a+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.counters_={}}incrementCounter(t,n=1){Tn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Iw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud={},Hd={};function Yp(e){const t=e.toString();return Ud[t]||(Ud[t]=new vk),Ud[t]}function bk(e,t){const n=e.toString();return Hd[n]||(Hd[n]=t()),Hd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Oo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="start",Sk="close",_k="pLPCommand",wk="pRTLPCB",iv="id",ov="pw",av="ser",Ck="cb",kk="seg",Rk="ts",Tk="d",Ik="dframe",sv=1870,lv=30,Nk=sv-lv,Ak=25e3,Pk=3e4;class Tr{constructor(t,n,r,i,a,s,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ps(t),this.stats_=Yp(n),this.urlFn=c=>(this.appCheckToken&&(c[pf]=this.appCheckToken),rv(n,tv,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ek(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Pk)),sk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gp((...a)=>{const[s,l,c,d,u]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===km)this.id=l,this.password=c;else if(s===Sk)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...a)=>{const[s,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[km]="t",r[av]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ck]=this.scriptTagHolder.uniqueCallbackIdentifier),r[G1]=Vp,this.transportSessionId&&(r[q1]=this.transportSessionId),this.lastSessionId&&(r[X1]=this.lastSessionId),this.applicationId&&(r[Z1]=this.applicationId),this.appCheckToken&&(r[pf]=this.appCheckToken),typeof location<"u"&&location.hostname&&J1.test(location.hostname)&&(r[K1]=Q1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tr.forceAllow_=!0}static forceDisallow(){Tr.forceDisallow_=!0}static isAvailable(){return Tr.forceAllow_?!0:!Tr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ck()&&!dk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=rt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=m1(n),i=V1(r,Nk);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Ik]="t",r[iv]=t,r[ov]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=rt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Gp{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$1(),window[_k+this.uniqueCallbackIdentifier]=t,window[wk+this.uniqueCallbackIdentifier]=n,this.myIFrame=Gp.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){ct("frame writing exception"),l.stack&&ct(l.stack),ct(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ct("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[iv]=this.myID,t[ov]=this.myPW,t[av]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lv+r.length<=sv;){const s=this.pendingSegs.shift();r=r+"&"+kk+i+"="+s.seg+"&"+Rk+i+"="+s.ts+"&"+Tk+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Ak)),a=()=>{clearTimeout(i),r()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ct("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=16384,zk=45e3;let Jl=null;typeof MozWebSocket<"u"?Jl=MozWebSocket:typeof WebSocket<"u"&&(Jl=WebSocket);class nn{constructor(t,n,r,i,a,s,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ps(this.connId),this.stats_=Yp(n),this.connURL=nn.connectionURL_(n,s,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,a){const s={};return s[G1]=Vp,typeof location<"u"&&location.hostname&&J1.test(location.hostname)&&(s[K1]=Q1),n&&(s[q1]=n),r&&(s[X1]=r),i&&(s[pf]=i),a&&(s[Z1]=a),rv(t,ev,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gi.set("previous_websocket_failure",!0);try{let r;C1(),this.mySock=new Jl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){nn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Jl!==null&&!nn.forceDisallow_}static previouslyFailed(){return gi.isInMemoryStorage||gi.get("previous_websocket_failure")===!0}markConnectionHealthy(){gi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Va(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(L(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=rt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=V1(n,Dk);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zk))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nn.responsesRequiredToBeHealthy=2;nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static get ALL_TRANSPORTS(){return[Tr,nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=nn&&nn.isAvailable();let r=n&&!nn.previouslyFailed();if(t.webSocketOnly&&(n||Ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[nn];else{const i=this.transports_=[];for(const a of xo.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);xo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=6e4,Ok=5e3,Wk=10*1024,Mk=100*1024,Vd="t",Rm="d",Bk="s",Tm="r",Fk="e",Im="o",Nm="a",Am="n",Pm="p",jk="h";class $k{constructor(t,n,r,i,a,s,l,c,d,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ps("c:"+this.id+":"),this.transportManager_=new xo(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ea(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Wk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Vd in t){const n=t[Vd];n===Nm?this.upgradeIfSecondaryHealthy_():n===Tm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Im&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ea("t",t),r=ea("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Nm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Am,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ea("t",t),r=ea("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ea(Vd,t);if(Rm in t){const r=t[Rm];if(n===jk){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Am){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Bk?this.onConnectionShutdown_(r):n===Tm?this.onReset_(r):n===Fk?ff("Server Error: "+r):n===Im?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ff("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vp!==r&&Ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ea(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Lk))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ea(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ok))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pm,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t){this.allowedEvents_=t,this.listeners_={},L(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(t){L(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends dv{static getInstance(){return new Xl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!w1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return L(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=32,zm=768;class ye{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ge(){return new ye("")}function oe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function qr(e){return e.pieces_.length-e.pieceNum_}function _e(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ye(e.pieces_,t)}function qp(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Uk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function qa(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function uv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ye(t,0)}function Le(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ye)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ye(n,0)}function ae(e){return e.pieceNum_>=e.pieces_.length}function It(e,t){const n=oe(e),r=oe(t);if(n===null)return t;if(n===r)return It(_e(e),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Hk(e,t){const n=qa(e,0),r=qa(t,0);for(let i=0;i<n.length&&i<r.length;i++){const a=Pi(n[i],r[i]);if(a!==0)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Kp(e,t){if(qr(e)!==qr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function on(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(qr(e)>qr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Vk{constructor(t,n){this.errorPrefix_=n,this.parts_=qa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fc(this.parts_[r]);fv(this)}}function Yk(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Fc(t),fv(e)}function Gk(e){const t=e.parts_.pop();e.byteLength_-=Fc(t),e.parts_.length>0&&(e.byteLength_-=1)}function fv(e){if(e.byteLength_>zm)throw new Error(e.errorPrefix_+"has a key path longer than "+zm+" bytes ("+e.byteLength_+").");if(e.parts_.length>Dm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dm+") or object contains a cycle "+di(e))}function di(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends dv{static getInstance(){return new Qp}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return L(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=1e3,qk=60*5*1e3,Lm=30*1e3,Kk=1.3,Qk=3e4,Jk="server_kill",Om=3;class cn extends cv{constructor(t,n,r,i,a,s,l,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=cn.nextPersistentConnectionId_++,this.log_=ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ta,this.maxReconnectDelay_=qk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!C1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Xl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,a={r:i,a:t,b:n};this.log_(rt(a)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Ht,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:s=>{const l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(t,n,r,i){this.initConnection_();const a=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(s).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},s="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(s,a,l=>{const c=l.d,d=l.s;cn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Tn(t,"w")){const r=wi(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Yw(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Vw(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,s=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const a={p:t},s="n";i&&(a.q=r,a.t=i),this.sendRequest(s,a)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,a){this.initConnection_();const s={p:n,d:r};a!==void 0&&(s.h=a),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+rt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):ff("Unrecognized action received from server: "+rt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Qk&&(this.reconnectDelay_=ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Kk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+cn.nextConnectionId_++,a=this.lastSessionId;let s=!1,l=null;const c=function(){l?l.close():(s=!0,r())},d=function(f){L(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:d};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,p]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new $k(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,x=>{Ct(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(Jk)},a))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Ct(f),c())}}}interrupt(t){ct("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ct("Resuming connection for reason: "+t),delete this.interruptReasons_[t],rf(this.interruptReasons_)&&(this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(a=>Hp(a)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ye(t).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){ct("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Om&&(this.reconnectDelay_=Lm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ct("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Om&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+B1.replace(/\./g,"-")]=1,w1()?t["framework.cordova"]=1:Bw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Xl.getInstance().currentlyOnline();return rf(this.interruptReasons_)&&t}}cn.nextPersistentConnectionId_=0;cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new se(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new se(Gr,t),i=new se(Gr,n);return this.compare(r,i)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs;class pv extends $c{static get __EMPTY_NODE(){return Vs}static set __EMPTY_NODE(t){Vs=t}compare(t,n){return Pi(t.name,n.name)}isDefinedOn(t){throw zo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return se.MIN}maxPost(){return new se(gr,Vs)}makePost(t,n){return L(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,Vs)}toString(){return".key"}}const jn=new pv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class lt{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??lt.RED,this.left=i??Wt.EMPTY_NODE,this.right=a??Wt.EMPTY_NODE}copy(t,n,r,i,a){return new lt(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Wt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class Xk{copy(t,n,r,i,a){return this}insert(t,n,r){return new lt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Wt{constructor(t,n=Wt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Wt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(t){return new Wt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ys(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ys(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ys(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ys(this.root_,null,this.comparator_,!0,t)}}Wt.EMPTY_NODE=new Xk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(e,t){return Pi(e.name,t.name)}function Jp(e,t){return Pi(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf;function e4(e){hf=e}const hv=function(e){return typeof e=="number"?"number:"+Y1(e):"string:"+e},gv=function(e){if(e.isLeafNode()){const t=e.val();L(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Tn(t,".sv"),"Priority must be a string or number.")}else L(e===hf||e.isEmpty(),"priority of unexpected type.");L(e===hf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;class at{static set __childrenNodeConstructor(t){Wm=t}static get __childrenNodeConstructor(){return Wm}constructor(t,n=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new at(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ae(t)?this:oe(t)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=oe(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||qr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+hv(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Y1(this.value_):t+=this.value_,this.lazyHash_=U1(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===at.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof at.__childrenNodeConstructor?-1:(L(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=at.VALUE_TYPE_ORDER.indexOf(n),a=at.VALUE_TYPE_ORDER.indexOf(r);return L(i>=0,"Unknown leaf type: "+n),L(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mv,yv;function t4(e){mv=e}function n4(e){yv=e}class r4 extends $c{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?Pi(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(gr,new at("[PRIORITY-POST]",yv))}makePost(t,n){const r=mv(t);return new se(n,new at("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new r4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=Math.log(2);class o4{constructor(t){const n=a=>parseInt(Math.log(a)/i4,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Zl=function(e,t,n,r){e.sort(t);const i=function(c,d){const u=d-c;let f,p;if(u===0)return null;if(u===1)return f=e[c],p=n?n(f):f,new lt(p,f.node,lt.BLACK,null,null);{const x=parseInt(u/2,10)+c,v=i(c,x),y=i(x+1,d);return f=e[x],p=n?n(f):f,new lt(p,f.node,lt.BLACK,v,y)}},a=function(c){let d=null,u=null,f=e.length;const p=function(v,y){const b=f-v,h=f;f-=v;const g=i(b+1,h),E=e[b],S=n?n(E):E;x(new lt(S,E.node,y,null,g))},x=function(v){d?(d.left=v,d=v):(u=v,d=v)};for(let v=0;v<c.count;++v){const y=c.nextBitIsOne(),b=Math.pow(2,c.count-(v+1));y?p(b,lt.BLACK):(p(b,lt.BLACK),p(b,lt.RED))}return u},s=new o4(e.length),l=a(s);return new Wt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd;const Bi={};class ir{static get Default(){return L(Bi&&Ie,"ChildrenNode.ts has not been loaded"),Yd=Yd||new ir({".priority":Bi},{".priority":Ie}),Yd}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=wi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Wt?n:null}hasIndex(t){return Tn(this.indexSet_,t.toString())}addIndex(t,n){L(t!==jn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(se.Wrap);let s=a.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=a.getNext();let l;i?l=Zl(r,t.getCompare()):l=Bi;const c=t.toString(),d=Object.assign({},this.indexSet_);d[c]=t;const u=Object.assign({},this.indexes_);return u[c]=l,new ir(u,d)}addToIndexes(t,n){const r=ql(this.indexes_,(i,a)=>{const s=wi(this.indexSet_,a);if(L(s,"Missing index implementation for "+a),i===Bi)if(s.isDefinedOn(t.node)){const l=[],c=n.getIterator(se.Wrap);let d=c.getNext();for(;d;)d.name!==t.name&&l.push(d),d=c.getNext();return l.push(t),Zl(l,s.getCompare())}else return Bi;else{const l=n.get(t.name);let c=i;return l&&(c=c.remove(new se(t.name,l))),c.insert(t,t.node)}});return new ir(r,this.indexSet_)}removeFromIndexes(t,n){const r=ql(this.indexes_,i=>{if(i===Bi)return i;{const a=n.get(t.name);return a?i.remove(new se(t.name,a)):i}});return new ir(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na;class K{static get EMPTY_NODE(){return na||(na=new K(new Wt(Jp),null,ir.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gv(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||na}updatePriority(t){return this.children_.isEmpty()?this:new K(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?na:n}}getChild(t){const n=oe(t);return n===null?this:this.getImmediateChild(n).getChild(_e(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(L(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new se(t,n);let i,a;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?na:this.priorityNode_;return new K(i,s,a)}}updateChild(t,n){const r=oe(t);if(r===null)return n;{L(oe(t)!==".priority"||qr(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild(Ie,(s,l)=>{n[s]=l.val(t),r++,a&&K.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):a=!1}),!t&&a&&i<2*r){const s=[];for(const l in n)s[l]=n[l];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+hv(this.getPriority().val())+":"),this.forEachChild(Ie,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":U1(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new se(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new se(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new se(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,se.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===hs?-1:0}withIndex(t){if(t===jn||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new K(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===jn||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ie),i=n.getIterator(Ie);let a=r.getNext(),s=i.getNext();for(;a&&s;){if(a.name!==s.name||!a.node.equals(s.node))return!1;a=r.getNext(),s=i.getNext()}return a===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===jn?null:this.indexMap_.get(t.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class a4 extends K{constructor(){super(new Wt(Jp),K.EMPTY_NODE,ir.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return K.EMPTY_NODE}isEmpty(){return!1}}const hs=new a4;Object.defineProperties(se,{MIN:{value:new se(Gr,K.EMPTY_NODE)},MAX:{value:new se(gr,hs)}});pv.__EMPTY_NODE=K.EMPTY_NODE;at.__childrenNodeConstructor=K;e4(hs);n4(hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=!0;function Fe(e,t=null){if(e===null)return K.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),L(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new at(n,Fe(t))}if(!(e instanceof Array)&&s4){const n=[];let r=!1;if(ut(e,(s,l)=>{if(s.substring(0,1)!=="."){const c=Fe(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new se(s,c)))}}),n.length===0)return K.EMPTY_NODE;const a=Zl(n,Zk,s=>s.name,Jp);if(r){const s=Zl(n,Ie.getCompare());return new K(a,Fe(t),new ir({".priority":s},{".priority":Ie}))}else return new K(a,Fe(t),ir.Default)}else{let n=K.EMPTY_NODE;return ut(e,(r,i)=>{if(Tn(e,r)&&r.substring(0,1)!=="."){const a=Fe(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Fe(t))}}t4(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends $c{constructor(t){super(),this.indexPath_=t,L(!ae(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?Pi(t.name,n.name):a}makePost(t,n){const r=Fe(t),i=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const t=K.EMPTY_NODE.updateChild(this.indexPath_,hs);return new se(gr,t)}toString(){return qa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends $c{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Pi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,n){const r=Fe(t);return new se(n,r)}toString(){return".value"}}const Zp=new l4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(e){return{type:"value",snapshotNode:e}}function vo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ka(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function c4(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.index_=t}updateChild(t,n,r,i,a,s){L(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Ka(n,l)):L(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(vo(n,r)):s.trackChildChange(Qa(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ie,(i,a)=>{n.hasChild(i)||r.trackChildChange(Ka(i,a))}),n.isLeafNode()||n.forEachChild(Ie,(i,a)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(a)||r.trackChildChange(Qa(i,a,s))}else r.trackChildChange(vo(i,a))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?K.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.indexedFilter_=new eh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ja.getStartPost_(t),this.endPost_=Ja.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,a,s){return this.matches(new se(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,a,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(K.EMPTY_NODE);const a=this;return n.forEachChild(Ie,(s,l)=>{a.matches(new se(s,l))||(i=i.updateImmediateChild(s,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ja(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,a,s){return this.rangedFilter_.matches(new se(n,r))||(r=K.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,a,s):this.fullLimitUpdateChild_(t,n,r,a,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=K.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;a.hasNext()&&s<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(K.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let s=0;for(;a.hasNext();){const l=a.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:i=i.updateImmediateChild(l.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,a){let s;if(this.reverse_){const f=this.index_.getCompare();s=(p,x)=>f(x,p)}else s=this.index_.getCompare();const l=t;L(l.numChildren()===this.limit_,"");const c=new se(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(l.hasChild(n)){const f=l.getImmediateChild(n);let p=i.getChildAfterChild(this.index_,d,this.reverse_);for(;p!=null&&(p.name===n||l.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);const x=p==null?1:s(p,c);if(u&&!r.isEmpty()&&x>=0)return a!=null&&a.trackChildChange(Qa(n,r,f)),l.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(Ka(n,f));const y=l.updateImmediateChild(n,K.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(a!=null&&a.trackChildChange(vo(p.name,p.node)),y.updateImmediateChild(p.name,p.node)):y}}else return r.isEmpty()?t:u&&s(d,c)>=0?(a!=null&&(a.trackChildChange(Ka(d.name,d.node)),a.trackChildChange(vo(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,K.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gr}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const t=new th;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function u4(e){return e.loadsAllData()?new eh(e.getIndex()):e.hasLimit()?new d4(e):new Ja(e)}function f4(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function p4(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function gf(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function h4(e,t,n){let r;return e.index_===jn||n?r=gf(e,t,n):r=gf(e,t,gr),r.startAfterSet_=!0,r}function mf(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function g4(e,t,n){let r;return e.index_===jn||n?r=mf(e,t,n):r=mf(e,t,Gr),r.endBeforeSet_=!0,r}function Uc(e,t){const n=e.copy();return n.index_=t,n}function Mm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ie?n="$priority":e.index_===Zp?n="$value":e.index_===jn?n="$key":(L(e.index_ instanceof Xp,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=rt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=rt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+rt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=rt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+rt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Bm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ie&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends cv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(L(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ps("p:rest:"),this.listens_={}}listen(t,n,r,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const s=ec.getListenId_(t,r),l={};this.listens_[s]=l;const c=Mm(t._queryParams);this.restRequest_(a+".json",c,(d,u)=>{let f=u;if(d===404&&(f=null,d=null),d===null&&this.onDataUpdate_(a,f,!1,r),wi(this.listens_,s)===l){let p;d?d===401?p="permission_denied":p="rest_error:"+d:p="ok",i(p,null)}})}unlisten(t,n){const r=ec.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Mm(t._queryParams),r=t._path.toString(),i=new Ht;return this.restRequest_(r+".json",n,(a,s)=>{let l=s;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Gw(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Va(l.responseText)}catch{Ct("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Ct("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(){return{value:null,children:new Map}}function Wo(e,t,n){if(ae(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=oe(t);e.children.has(r)||e.children.set(r,tc());const i=e.children.get(r);t=_e(t),Wo(i,t,n)}}function yf(e,t){if(ae(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Ie,(r,i)=>{Wo(e,new ye(r),i)}),yf(e,t)}}else if(e.children.size>0){const n=oe(t);return t=_e(t),e.children.has(n)&&yf(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function xf(e,t,n){e.value!==null?n(t,e.value):y4(e,(r,i)=>{const a=new ye(t.toString()+"/"+r);xf(i,a,n)})}function y4(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=10*1e3,v4=30*1e3,b4=5*60*1e3;class E4{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new x4(t);const r=Fm+(v4-Fm)*Math.random();Ea(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ut(t,(i,a)=>{a>0&&Tn(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),Ea(this.reportStats_.bind(this),Math.floor(Math.random()*2*b4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(bn||(bn={}));function nh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ih(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=bn.ACK_USER_WRITE,this.source=nh()}operationForChild(t){if(ae(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(t));return new nc(ge(),n,this.revert)}}else return L(oe(this.path)===t,"operationForChild called for unrelated child."),new nc(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,n){this.source=t,this.path=n,this.type=bn.LISTEN_COMPLETE}operationForChild(t){return ae(this.path)?new Xa(this.source,ge()):new Xa(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=bn.OVERWRITE}operationForChild(t){return ae(this.path)?new ki(this.source,ge(),this.snap.getImmediateChild(t)):new ki(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=bn.MERGE}operationForChild(t){if(ae(this.path)){const n=this.children.subtree(new ye(t));return n.isEmpty()?null:n.value?new ki(this.source,ge(),n.value):new bo(this.source,ge(),n)}else return L(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new bo(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ae(t))return this.isFullyInitialized()&&!this.filtered_;const n=oe(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function _4(e,t,n,r){const i=[],a=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&a.push(c4(s.childName,s.snapshotNode))}),ra(e,i,"child_removed",t,r,n),ra(e,i,"child_added",t,r,n),ra(e,i,"child_moved",a,r,n),ra(e,i,"child_changed",t,r,n),ra(e,i,"value",t,r,n),i}function ra(e,t,n,r,i,a){const s=r.filter(l=>l.type===n);s.sort((l,c)=>C4(e,l,c)),s.forEach(l=>{const c=w4(e,l,a);i.forEach(d=>{d.respondsTo(l.type)&&t.push(d.createEvent(c,e.query_))})})}function w4(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function C4(e,t,n){if(t.childName==null||n.childName==null)throw zo("Should only compare child_ events.");const r=new se(t.childName,t.snapshotNode),i=new se(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(e,t){return{eventCache:e,serverCache:t}}function Sa(e,t,n,r){return Hc(new Kr(t,n,r),e.serverCache)}function vv(e,t,n,r){return Hc(e.eventCache,new Kr(t,n,r))}function rc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ri(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;const k4=()=>(Gd||(Gd=new Wt(lk)),Gd);class ke{static fromObject(t){let n=new ke(null);return ut(t,(r,i)=>{n=n.set(new ye(r),i)}),n}constructor(t,n=k4()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ae(t))return null;{const r=oe(t),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(_e(t),n);return a!=null?{path:Le(new ye(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ae(t))return this;{const n=oe(t),r=this.children.get(n);return r!==null?r.subtree(_e(t)):new ke(null)}}set(t,n){if(ae(t))return new ke(n,this.children);{const r=oe(t),a=(this.children.get(r)||new ke(null)).set(_e(t),n),s=this.children.insert(r,a);return new ke(this.value,s)}}remove(t){if(ae(t))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const n=oe(t),r=this.children.get(n);if(r){const i=r.remove(_e(t));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new ke(null):new ke(this.value,a)}else return this}}get(t){if(ae(t))return this.value;{const n=oe(t),r=this.children.get(n);return r?r.get(_e(t)):null}}setTree(t,n){if(ae(t))return n;{const r=oe(t),a=(this.children.get(r)||new ke(null)).setTree(_e(t),n);let s;return a.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,a),new ke(this.value,s)}}fold(t){return this.fold_(ge(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Le(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ge(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ae(t))return null;{const a=oe(t),s=this.children.get(a);return s?s.findOnPath_(_e(t),Le(n,a),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ge(),n)}foreachOnPath_(t,n,r){if(ae(t))return this;{this.value&&r(n,this.value);const i=oe(t),a=this.children.get(i);return a?a.foreachOnPath_(_e(t),Le(n,i),r):new ke(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Le(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.writeTree_=t}static empty(){return new wn(new ke(null))}}function _a(e,t,n){if(ae(t))return new wn(new ke(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let a=r.value;const s=It(i,t);return a=a.updateChild(s,n),new wn(e.writeTree_.set(i,a))}else{const i=new ke(n),a=e.writeTree_.setTree(t,i);return new wn(a)}}}function vf(e,t,n){let r=e;return ut(n,(i,a)=>{r=_a(r,Le(t,i),a)}),r}function jm(e,t){if(ae(t))return wn.empty();{const n=e.writeTree_.setTree(t,new ke(null));return new wn(n)}}function bf(e,t){return Di(e,t)!=null}function Di(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(It(n.path,t)):null}function $m(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ie,(r,i)=>{t.push(new se(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new se(r,i.value))}),t}function jr(e,t){if(ae(t))return e;{const n=Di(e,t);return n!=null?new wn(new ke(n)):new wn(e.writeTree_.subtree(t))}}function Ef(e){return e.writeTree_.isEmpty()}function Eo(e,t){return bv(ge(),e.writeTree_,t)}function bv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(L(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=bv(Le(e,i),a,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Le(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(e,t){return wv(t,e)}function R4(e,t,n,r,i){L(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_a(e.visibleWrites,t,n)),e.lastWriteId=r}function T4(e,t,n,r){L(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=vf(e.visibleWrites,t,n),e.lastWriteId=r}function I4(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function N4(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);L(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const l=e.allWrites[s];l.visible&&(s>=n&&A4(l,r.path)?i=!1:on(r.path,l.path)&&(a=!0)),s--}if(i){if(a)return P4(e),!0;if(r.snap)e.visibleWrites=jm(e.visibleWrites,r.path);else{const l=r.children;ut(l,c=>{e.visibleWrites=jm(e.visibleWrites,Le(r.path,c))})}return!0}else return!1}function A4(e,t){if(e.snap)return on(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&on(Le(e.path,n),t))return!0;return!1}function P4(e){e.visibleWrites=Ev(e.allWrites,D4,ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function D4(e){return e.visible}function Ev(e,t,n){let r=wn.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const s=a.path;let l;if(a.snap)on(n,s)?(l=It(n,s),r=_a(r,l,a.snap)):on(s,n)&&(l=It(s,n),r=_a(r,ge(),a.snap.getChild(l)));else if(a.children){if(on(n,s))l=It(n,s),r=vf(r,l,a.children);else if(on(s,n))if(l=It(s,n),ae(l))r=vf(r,ge(),a.children);else{const c=wi(a.children,oe(l));if(c){const d=c.getChild(_e(l));r=_a(r,ge(),d)}}}else throw zo("WriteRecord should have .snap or .children")}}return r}function Sv(e,t,n,r,i){if(!r&&!i){const a=Di(e.visibleWrites,t);if(a!=null)return a;{const s=jr(e.visibleWrites,t);if(Ef(s))return n;if(n==null&&!bf(s,ge()))return null;{const l=n||K.EMPTY_NODE;return Eo(s,l)}}}else{const a=jr(e.visibleWrites,t);if(!i&&Ef(a))return n;if(!i&&n==null&&!bf(a,ge()))return null;{const s=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(on(d.path,t)||on(t,d.path))},l=Ev(e.allWrites,s,t),c=n||K.EMPTY_NODE;return Eo(l,c)}}}function z4(e,t,n){let r=K.EMPTY_NODE;const i=Di(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ie,(a,s)=>{r=r.updateImmediateChild(a,s)}),r;if(n){const a=jr(e.visibleWrites,t);return n.forEachChild(Ie,(s,l)=>{const c=Eo(jr(a,new ye(s)),l);r=r.updateImmediateChild(s,c)}),$m(a).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const a=jr(e.visibleWrites,t);return $m(a).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function L4(e,t,n,r,i){L(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Le(t,n);if(bf(e.visibleWrites,a))return null;{const s=jr(e.visibleWrites,a);return Ef(s)?i.getChild(n):Eo(s,i.getChild(n))}}function O4(e,t,n,r){const i=Le(t,n),a=Di(e.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const s=jr(e.visibleWrites,i);return Eo(s,r.getNode().getImmediateChild(n))}else return null}function W4(e,t){return Di(e.visibleWrites,t)}function M4(e,t,n,r,i,a,s){let l;const c=jr(e.visibleWrites,t),d=Di(c,ge());if(d!=null)l=d;else if(n!=null)l=Eo(c,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const u=[],f=s.getCompare(),p=a?l.getReverseIteratorFrom(r,s):l.getIteratorFrom(r,s);let x=p.getNext();for(;x&&u.length<i;)f(x,r)!==0&&u.push(x),x=p.getNext();return u}else return[]}function B4(){return{visibleWrites:wn.empty(),allWrites:[],lastWriteId:-1}}function ic(e,t,n,r){return Sv(e.writeTree,e.treePath,t,n,r)}function oh(e,t){return z4(e.writeTree,e.treePath,t)}function Um(e,t,n,r){return L4(e.writeTree,e.treePath,t,n,r)}function oc(e,t){return W4(e.writeTree,Le(e.treePath,t))}function F4(e,t,n,r,i,a){return M4(e.writeTree,e.treePath,t,n,r,i,a)}function ah(e,t,n){return O4(e.writeTree,e.treePath,t,n)}function _v(e,t){return wv(Le(e.treePath,t),e.writeTree)}function wv(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,Qa(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Ka(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,vo(r,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,Qa(r,t.snapshotNode,i.oldSnap));else throw zo("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Cv=new $4;class sh{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Kr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ah(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ri(this.viewCache_),a=F4(this.writes_,i,n,1,r,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e){return{filter:e}}function H4(e,t){L(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),L(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function V4(e,t,n,r,i){const a=new j4;let s,l;if(n.type===bn.OVERWRITE){const d=n;d.source.fromUser?s=Sf(e,t,d.path,d.snap,r,i,a):(L(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered()&&!ae(d.path),s=ac(e,t,d.path,d.snap,r,i,l,a))}else if(n.type===bn.MERGE){const d=n;d.source.fromUser?s=G4(e,t,d.path,d.children,r,i,a):(L(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered(),s=_f(e,t,d.path,d.children,r,i,l,a))}else if(n.type===bn.ACK_USER_WRITE){const d=n;d.revert?s=Q4(e,t,d.path,r,i,a):s=q4(e,t,d.path,d.affectedTree,r,i,a)}else if(n.type===bn.LISTEN_COMPLETE)s=K4(e,t,n.path,r,a);else throw zo("Unknown operation type: "+n.type);const c=a.getChanges();return Y4(t,s,c),{viewCache:s,changes:c}}function Y4(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=rc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(xv(rc(t)))}}function kv(e,t,n,r,i,a){const s=t.eventCache;if(oc(r,n)!=null)return t;{let l,c;if(ae(n))if(L(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=Ri(t),u=d instanceof K?d:K.EMPTY_NODE,f=oh(r,u);l=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{const d=ic(r,Ri(t));l=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{const d=oe(n);if(d===".priority"){L(qr(n)===1,"Can't have a priority with additional path components");const u=s.getNode();c=t.serverCache.getNode();const f=Um(r,n,u,c);f!=null?l=e.filter.updatePriority(u,f):l=s.getNode()}else{const u=_e(n);let f;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();const p=Um(r,n,s.getNode(),c);p!=null?f=s.getNode().getImmediateChild(d).updateChild(u,p):f=s.getNode().getImmediateChild(d)}else f=ah(r,d,t.serverCache);f!=null?l=e.filter.updateChild(s.getNode(),d,f,u,i,a):l=s.getNode()}}return Sa(t,l,s.isFullyInitialized()||ae(n),e.filter.filtersNodes())}}function ac(e,t,n,r,i,a,s,l){const c=t.serverCache;let d;const u=s?e.filter:e.filter.getIndexedFilter();if(ae(n))d=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const x=c.getNode().updateChild(n,r);d=u.updateFullNode(c.getNode(),x,null)}else{const x=oe(n);if(!c.isCompleteForPath(n)&&qr(n)>1)return t;const v=_e(n),b=c.getNode().getImmediateChild(x).updateChild(v,r);x===".priority"?d=u.updatePriority(c.getNode(),b):d=u.updateChild(c.getNode(),x,b,v,Cv,null)}const f=vv(t,d,c.isFullyInitialized()||ae(n),u.filtersNodes()),p=new sh(i,f,a);return kv(e,f,n,i,p,l)}function Sf(e,t,n,r,i,a,s){const l=t.eventCache;let c,d;const u=new sh(i,t,a);if(ae(n))d=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Sa(t,d,!0,e.filter.filtersNodes());else{const f=oe(n);if(f===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),r),c=Sa(t,d,l.isFullyInitialized(),l.isFiltered());else{const p=_e(n),x=l.getNode().getImmediateChild(f);let v;if(ae(p))v=r;else{const y=u.getCompleteChild(f);y!=null?qp(p)===".priority"&&y.getChild(uv(p)).isEmpty()?v=y:v=y.updateChild(p,r):v=K.EMPTY_NODE}if(x.equals(v))c=t;else{const y=e.filter.updateChild(l.getNode(),f,v,p,u,s);c=Sa(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Hm(e,t){return e.eventCache.isCompleteForChild(t)}function G4(e,t,n,r,i,a,s){let l=t;return r.foreach((c,d)=>{const u=Le(n,c);Hm(t,oe(u))&&(l=Sf(e,l,u,d,i,a,s))}),r.foreach((c,d)=>{const u=Le(n,c);Hm(t,oe(u))||(l=Sf(e,l,u,d,i,a,s))}),l}function Vm(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function _f(e,t,n,r,i,a,s,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,d;ae(n)?d=r:d=new ke(null).setTree(n,r);const u=t.serverCache.getNode();return d.children.inorderTraversal((f,p)=>{if(u.hasChild(f)){const x=t.serverCache.getNode().getImmediateChild(f),v=Vm(e,x,p);c=ac(e,c,new ye(f),v,i,a,s,l)}}),d.children.inorderTraversal((f,p)=>{const x=!t.serverCache.isCompleteForChild(f)&&p.value===null;if(!u.hasChild(f)&&!x){const v=t.serverCache.getNode().getImmediateChild(f),y=Vm(e,v,p);c=ac(e,c,new ye(f),y,i,a,s,l)}}),c}function q4(e,t,n,r,i,a,s){if(oc(i,n)!=null)return t;const l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(ae(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ac(e,t,n,c.getNode().getChild(n),i,a,l,s);if(ae(n)){let d=new ke(null);return c.getNode().forEachChild(jn,(u,f)=>{d=d.set(new ye(u),f)}),_f(e,t,n,d,i,a,l,s)}else return t}else{let d=new ke(null);return r.foreach((u,f)=>{const p=Le(n,u);c.isCompleteForPath(p)&&(d=d.set(u,c.getNode().getChild(p)))}),_f(e,t,n,d,i,a,l,s)}}function K4(e,t,n,r,i){const a=t.serverCache,s=vv(t,a.getNode(),a.isFullyInitialized()||ae(n),a.isFiltered());return kv(e,s,n,r,Cv,i)}function Q4(e,t,n,r,i,a){let s;if(oc(r,n)!=null)return t;{const l=new sh(r,t,i),c=t.eventCache.getNode();let d;if(ae(n)||oe(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=ic(r,Ri(t));else{const f=t.serverCache.getNode();L(f instanceof K,"serverChildren would be complete if leaf node"),u=oh(r,f)}u=u,d=e.filter.updateFullNode(c,u,a)}else{const u=oe(n);let f=ah(r,u,t.serverCache);f==null&&t.serverCache.isCompleteForChild(u)&&(f=c.getImmediateChild(u)),f!=null?d=e.filter.updateChild(c,u,f,_e(n),l,a):t.eventCache.getNode().hasChild(u)?d=e.filter.updateChild(c,u,K.EMPTY_NODE,_e(n),l,a):d=c,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ic(r,Ri(t)),s.isLeafNode()&&(d=e.filter.updateFullNode(d,s,a)))}return s=t.serverCache.isFullyInitialized()||oc(r,ge())!=null,Sa(t,d,s,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new eh(r.getIndex()),a=u4(r);this.processor_=U4(a);const s=n.serverCache,l=n.eventCache,c=i.updateFullNode(K.EMPTY_NODE,s.getNode(),null),d=a.updateFullNode(K.EMPTY_NODE,l.getNode(),null),u=new Kr(c,s.isFullyInitialized(),i.filtersNodes()),f=new Kr(d,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Hc(f,u),this.eventGenerator_=new S4(this.query_)}get query(){return this.query_}}function X4(e){return e.viewCache_.serverCache.getNode()}function Z4(e){return rc(e.viewCache_)}function e6(e,t){const n=Ri(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ae(t)&&!n.getImmediateChild(oe(t)).isEmpty())?n.getChild(t):null}function Ym(e){return e.eventRegistrations_.length===0}function t6(e,t){e.eventRegistrations_.push(t)}function Gm(e,t,n){const r=[];if(n){L(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(a=>{const s=a.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let a=0;a<e.eventRegistrations_.length;++a){const s=e.eventRegistrations_[a];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function qm(e,t,n,r){t.type===bn.MERGE&&t.source.queryId!==null&&(L(Ri(e.viewCache_),"We should always have a full cache before handling merges"),L(rc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=V4(e.processor_,i,t,n,r);return H4(e.processor_,a.viewCache),L(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Rv(e,a.changes,a.viewCache.eventCache.getNode(),null)}function n6(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ie,(a,s)=>{r.push(vo(a,s))}),n.isFullyInitialized()&&r.push(xv(n.getNode())),Rv(e,r,n.getNode(),t)}function Rv(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return _4(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;class Tv{constructor(){this.views=new Map}}function r6(e){L(!sc,"__referenceConstructor has already been defined"),sc=e}function i6(){return L(sc,"Reference.ts has not been loaded"),sc}function o6(e){return e.views.size===0}function lh(e,t,n,r){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return L(a!=null,"SyncTree gave us an op for an invalid query."),qm(a,t,n,r)}else{let a=[];for(const s of e.views.values())a=a.concat(qm(s,t,n,r));return a}}function Iv(e,t,n,r,i){const a=t._queryIdentifier,s=e.views.get(a);if(!s){let l=ic(n,i?r:null),c=!1;l?c=!0:r instanceof K?(l=oh(n,r),c=!1):(l=K.EMPTY_NODE,c=!1);const d=Hc(new Kr(l,c,!1),new Kr(r,i,!1));return new J4(t,d)}return s}function a6(e,t,n,r,i,a){const s=Iv(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),t6(s,n),n6(s,n)}function s6(e,t,n,r){const i=t._queryIdentifier,a=[];let s=[];const l=Qr(e);if(i==="default")for(const[c,d]of e.views.entries())s=s.concat(Gm(d,n,r)),Ym(d)&&(e.views.delete(c),d.query._queryParams.loadsAllData()||a.push(d.query));else{const c=e.views.get(i);c&&(s=s.concat(Gm(c,n,r)),Ym(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||a.push(c.query)))}return l&&!Qr(e)&&a.push(new(i6())(t._repo,t._path)),{removed:a,events:s}}function Nv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function $r(e,t){let n=null;for(const r of e.views.values())n=n||e6(r,t);return n}function Av(e,t){if(t._queryParams.loadsAllData())return Yc(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Pv(e,t){return Av(e,t)!=null}function Qr(e){return Yc(e)!=null}function Yc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc;function l6(e){L(!lc,"__referenceConstructor has already been defined"),lc=e}function c6(){return L(lc,"Reference.ts has not been loaded"),lc}let d6=1;class Km{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ke(null),this.pendingWriteTree_=B4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ch(e,t,n,r,i){return R4(e.pendingWriteTree_,t,n,r,i),i?Mo(e,new ki(nh(),t,n)):[]}function u6(e,t,n,r){T4(e.pendingWriteTree_,t,n,r);const i=ke.fromObject(n);return Mo(e,new bo(nh(),t,i))}function Ir(e,t,n=!1){const r=I4(e.pendingWriteTree_,t);if(N4(e.pendingWriteTree_,t)){let a=new ke(null);return r.snap!=null?a=a.set(ge(),!0):ut(r.children,s=>{a=a.set(new ye(s),!0)}),Mo(e,new nc(r.path,a,n))}else return[]}function gs(e,t,n){return Mo(e,new ki(rh(),t,n))}function f6(e,t,n){const r=ke.fromObject(n);return Mo(e,new bo(rh(),t,r))}function p6(e,t){return Mo(e,new Xa(rh(),t))}function h6(e,t,n){const r=dh(e,n);if(r){const i=uh(r),a=i.path,s=i.queryId,l=It(a,t),c=new Xa(ih(s),l);return fh(e,a,c)}else return[]}function cc(e,t,n,r,i=!1){const a=t._path,s=e.syncPointTree_.get(a);let l=[];if(s&&(t._queryIdentifier==="default"||Pv(s,t))){const c=s6(s,t,n,r);o6(s)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const d=c.removed;if(l=c.events,!i){const u=d.findIndex(p=>p._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(a,(p,x)=>Qr(x));if(u&&!f){const p=e.syncPointTree_.subtree(a);if(!p.isEmpty()){const x=y6(p);for(let v=0;v<x.length;++v){const y=x[v],b=y.query,h=Ov(e,y);e.listenProvider_.startListening(wa(b),Za(e,b),h.hashFn,h.onComplete)}}}!f&&d.length>0&&!r&&(u?e.listenProvider_.stopListening(wa(t),null):d.forEach(p=>{const x=e.queryToTagMap.get(qc(p));e.listenProvider_.stopListening(wa(p),x)}))}x6(e,d)}return l}function Dv(e,t,n,r){const i=dh(e,r);if(i!=null){const a=uh(i),s=a.path,l=a.queryId,c=It(s,t),d=new ki(ih(l),c,n);return fh(e,s,d)}else return[]}function g6(e,t,n,r){const i=dh(e,r);if(i){const a=uh(i),s=a.path,l=a.queryId,c=It(s,t),d=ke.fromObject(n),u=new bo(ih(l),c,d);return fh(e,s,u)}else return[]}function wf(e,t,n,r=!1){const i=t._path;let a=null,s=!1;e.syncPointTree_.foreachOnPath(i,(p,x)=>{const v=It(p,i);a=a||$r(x,v),s=s||Qr(x)});let l=e.syncPointTree_.get(i);l?(s=s||Qr(l),a=a||$r(l,ge())):(l=new Tv,e.syncPointTree_=e.syncPointTree_.set(i,l));let c;a!=null?c=!0:(c=!1,a=K.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((x,v)=>{const y=$r(v,ge());y&&(a=a.updateImmediateChild(x,y))}));const d=Pv(l,t);if(!d&&!t._queryParams.loadsAllData()){const p=qc(t);L(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");const x=v6();e.queryToTagMap.set(p,x),e.tagToQueryMap.set(x,p)}const u=Vc(e.pendingWriteTree_,i);let f=a6(l,t,n,u,a,c);if(!d&&!s&&!r){const p=Av(l,t);f=f.concat(b6(e,t,p))}return f}function Gc(e,t,n){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(s,l)=>{const c=It(s,t),d=$r(l,c);if(d)return d});return Sv(i,t,a,n,!0)}function m6(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(d,u)=>{const f=It(d,n);r=r||$r(u,f)});let i=e.syncPointTree_.get(n);i?r=r||$r(i,ge()):(i=new Tv,e.syncPointTree_=e.syncPointTree_.set(n,i));const a=r!=null,s=a?new Kr(r,!0,!1):null,l=Vc(e.pendingWriteTree_,t._path),c=Iv(i,t,l,a?s.getNode():K.EMPTY_NODE,a);return Z4(c)}function Mo(e,t){return zv(t,e.syncPointTree_,null,Vc(e.pendingWriteTree_,ge()))}function zv(e,t,n,r){if(ae(e.path))return Lv(e,t,n,r);{const i=t.get(ge());n==null&&i!=null&&(n=$r(i,ge()));let a=[];const s=oe(e.path),l=e.operationForChild(s),c=t.children.get(s);if(c&&l){const d=n?n.getImmediateChild(s):null,u=_v(r,s);a=a.concat(zv(l,c,d,u))}return i&&(a=a.concat(lh(i,e,r,n))),a}}function Lv(e,t,n,r){const i=t.get(ge());n==null&&i!=null&&(n=$r(i,ge()));let a=[];return t.children.inorderTraversal((s,l)=>{const c=n?n.getImmediateChild(s):null,d=_v(r,s),u=e.operationForChild(s);u&&(a=a.concat(Lv(u,l,c,d)))}),i&&(a=a.concat(lh(i,e,r,n))),a}function Ov(e,t){const n=t.query,r=Za(e,n);return{hashFn:()=>(X4(t)||K.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?h6(e,n._path,r):p6(e,n._path);{const a=uk(i,n);return cc(e,n,null,a)}}}}function Za(e,t){const n=qc(t);return e.queryToTagMap.get(n)}function qc(e){return e._path.toString()+"$"+e._queryIdentifier}function dh(e,t){return e.tagToQueryMap.get(t)}function uh(e){const t=e.indexOf("$");return L(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ye(e.substr(0,t))}}function fh(e,t,n){const r=e.syncPointTree_.get(t);L(r,"Missing sync point for query tag that we're tracking");const i=Vc(e.pendingWriteTree_,t);return lh(r,n,i,null)}function y6(e){return e.fold((t,n,r)=>{if(n&&Qr(n))return[Yc(n)];{let i=[];return n&&(i=Nv(n)),ut(r,(a,s)=>{i=i.concat(s)}),i}})}function wa(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(c6())(e._repo,e._path):e}function x6(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=qc(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function v6(){return d6++}function b6(e,t,n){const r=t._path,i=Za(e,t),a=Ov(e,n),s=e.listenProvider_.startListening(wa(t),i,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(r);if(i)L(!Qr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((d,u,f)=>{if(!ae(d)&&u&&Qr(u))return[Yc(u).query];{let p=[];return u&&(p=p.concat(Nv(u).map(x=>x.query))),ut(f,(x,v)=>{p=p.concat(v)}),p}});for(let d=0;d<c.length;++d){const u=c[d];e.listenProvider_.stopListening(wa(u),Za(e,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new ph(n)}node(){return this.node_}}class hh{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Le(this.path_,t);return new hh(this.syncTree_,n)}node(){return Gc(this.syncTree_,this.path_)}}const E6=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Qm=function(e,t,n){if(!e||typeof e!="object")return e;if(L(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return S6(e[".sv"],t,n);if(typeof e[".sv"]=="object")return _6(e[".sv"],t);L(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},S6=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+e)}},_6=function(e,t,n){e.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const i=t.node();if(L(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Wv=function(e,t,n,r){return mh(t,new hh(n,e),r)},gh=function(e,t,n){return mh(e,new ph(t),n)};function mh(e,t,n){const r=e.getPriority().val(),i=Qm(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const s=e,l=Qm(s.getValue(),t,n);return l!==s.getValue()||i!==s.getPriority().val()?new at(l,Fe(i)):e}else{const s=e;return a=s,i!==s.getPriority().val()&&(a=a.updatePriority(new at(i))),s.forEachChild(Ie,(l,c)=>{const d=mh(c,t.getImmediateChild(l),n);d!==c&&(a=a.updateImmediateChild(l,d))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Kc(e,t){let n=t instanceof ye?t:new ye(t),r=e,i=oe(n);for(;i!==null;){const a=wi(r.node.children,i)||{children:{},childCount:0};r=new yh(i,r,a),n=_e(n),i=oe(n)}return r}function zi(e){return e.node.value}function xh(e,t){e.node.value=t,Cf(e)}function Mv(e){return e.node.childCount>0}function w6(e){return zi(e)===void 0&&!Mv(e)}function Qc(e,t){ut(e.node.children,(n,r)=>{t(new yh(n,e,r))})}function Bv(e,t,n,r){n&&!r&&t(e),Qc(e,i=>{Bv(i,t,!0,r)}),n&&r&&t(e)}function C6(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function ms(e){return new ye(e.parent===null?e.name:ms(e.parent)+"/"+e.name)}function Cf(e){e.parent!==null&&k6(e.parent,e.name,e)}function k6(e,t,n){const r=w6(n),i=Tn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Cf(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Cf(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=/[\[\].#$\/\u0000-\u001F\u007F]/,T6=/[\[\].#$\u0000-\u001F\u007F]/,qd=10*1024*1024,Jc=function(e){return typeof e=="string"&&e.length!==0&&!R6.test(e)},Fv=function(e){return typeof e=="string"&&e.length!==0&&!T6.test(e)},I6=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Fv(e)},es=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!jc(e)||e&&typeof e=="object"&&Tn(e,".sv")},Yn=function(e,t,n,r){r&&t===void 0||ys(Ci(e,"value"),t,n)},ys=function(e,t,n){const r=n instanceof ye?new Vk(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+di(r));if(typeof t=="function")throw new Error(e+"contains a function "+di(r)+" with contents = "+t.toString());if(jc(t))throw new Error(e+"contains "+t.toString()+" "+di(r));if(typeof t=="string"&&t.length>qd/3&&Fc(t)>qd)throw new Error(e+"contains a string greater than "+qd+" utf8 bytes "+di(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(ut(t,(s,l)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(a=!0,!Jc(s)))throw new Error(e+" contains an invalid key ("+s+") "+di(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Yk(r,s),ys(e,l,r),Gk(r)}),i&&a)throw new Error(e+' contains ".value" child '+di(r)+" in addition to actual children.")}},N6=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const a=qa(r);for(let s=0;s<a.length;s++)if(!(a[s]===".priority"&&s===a.length-1)){if(!Jc(a[s]))throw new Error(e+"contains an invalid key ("+a[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Hk);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&on(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},jv=function(e,t,n,r){if(r&&t===void 0)return;const i=Ci(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const a=[];ut(t,(s,l)=>{const c=new ye(s);if(ys(i,l,Le(n,c)),qp(c)===".priority"&&!es(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(c)}),N6(i,a)},vh=function(e,t,n){if(!(n&&t===void 0)){if(jc(t))throw new Error(Ci(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!es(t))throw new Error(Ci(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xs=function(e,t,n,r){if(!(r&&n===void 0)&&!Jc(n))throw new Error(Ci(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},bh=function(e,t,n,r){if(!(r&&n===void 0)&&!Fv(n))throw new Error(Ci(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},A6=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bh(e,t,n,r)},Mn=function(e,t){if(oe(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},$v=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Jc(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!I6(n))throw new Error(Ci(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],a=i.getPath();n!==null&&!Kp(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Uv(e,t,n){Xc(e,n),Hv(e,r=>Kp(r,t))}function qt(e,t,n){Xc(e,n),Hv(e,r=>on(r,t)||on(t,r))}function Hv(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const a=i.path;t(a)?(D6(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function D6(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();xi&&ct("event: "+n.toString()),Oo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="repo_interrupt",z6=25;class L6{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new P6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tc(),this.transactionQueueTree_=new yh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function O6(e,t,n){if(e.stats_=Yp(e.repoInfo_),e.forceRestClient_||gk())e.server_=new ec(e.repoInfo_,(r,i,a,s)=>{Jm(e,r,i,a,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Xm(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new cn(e.repoInfo_,t,(r,i,a,s)=>{Jm(e,r,i,a,s)},r=>{Xm(e,r)},r=>{W6(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=bk(e.repoInfo_,()=>new E4(e.stats_,e.server_)),e.infoData_=new m4,e.infoSyncTree_=new Km({startListening:(r,i,a,s)=>{let l=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=gs(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),Eh(e,"connected",!1),e.serverSyncTree_=new Km({startListening:(r,i,a,s)=>(e.server_.listen(r,a,i,(l,c)=>{const d=s(l,c);qt(e.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function Yv(e){const n=e.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vs(e){return E6({timestamp:Yv(e)})}function Jm(e,t,n,r,i){e.dataUpdateCount++;const a=new ye(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const c=ql(n,d=>Fe(d));s=g6(e.serverSyncTree_,a,c,i)}else{const c=Fe(n);s=Dv(e.serverSyncTree_,a,c,i)}else if(r){const c=ql(n,d=>Fe(d));s=f6(e.serverSyncTree_,a,c)}else{const c=Fe(n);s=gs(e.serverSyncTree_,a,c)}let l=a;s.length>0&&(l=So(e,a)),qt(e.eventQueue_,l,s)}function Xm(e,t){Eh(e,"connected",t),t===!1&&F6(e)}function W6(e,t){ut(t,(n,r)=>{Eh(e,n,r)})}function Eh(e,t,n){const r=new ye("/.info/"+t),i=Fe(n);e.infoData_.updateSnapshot(r,i);const a=gs(e.infoSyncTree_,r,i);qt(e.eventQueue_,r,a)}function Zc(e){return e.nextWriteId_++}function M6(e,t,n){const r=m6(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const a=Fe(i).withIndex(t._queryParams.getIndex());wf(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=gs(e.serverSyncTree_,t._path,a);else{const l=Za(e.serverSyncTree_,t);s=Dv(e.serverSyncTree_,t._path,a,l)}return qt(e.eventQueue_,t._path,s),cc(e.serverSyncTree_,t,n,null,!0),a},i=>(Bo(e,"get for query "+rt(t)+" failed: "+i),Promise.reject(new Error(i))))}function Sh(e,t,n,r,i){Bo(e,"set",{path:t.toString(),value:n,priority:r});const a=vs(e),s=Fe(n,r),l=Gc(e.serverSyncTree_,t),c=gh(s,l,a),d=Zc(e),u=ch(e.serverSyncTree_,t,c,d,!0);Xc(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(p,x)=>{const v=p==="ok";v||Ct("set at "+t+" failed: "+p);const y=Ir(e.serverSyncTree_,d,!v);qt(e.eventQueue_,t,y),Jr(e,i,p,x)});const f=wh(e,t);So(e,f),qt(e.eventQueue_,f,[])}function B6(e,t,n,r){Bo(e,"update",{path:t.toString(),value:n});let i=!0;const a=vs(e),s={};if(ut(n,(l,c)=>{i=!1,s[l]=Wv(Le(t,l),Fe(c),e.serverSyncTree_,a)}),i)ct("update() called with empty data.  Don't do anything."),Jr(e,r,"ok",void 0);else{const l=Zc(e),c=u6(e.serverSyncTree_,t,s,l);Xc(e.eventQueue_,c),e.server_.merge(t.toString(),n,(d,u)=>{const f=d==="ok";f||Ct("update at "+t+" failed: "+d);const p=Ir(e.serverSyncTree_,l,!f),x=p.length>0?So(e,t):t;qt(e.eventQueue_,x,p),Jr(e,r,d,u)}),ut(n,d=>{const u=wh(e,Le(t,d));So(e,u)}),qt(e.eventQueue_,t,[])}}function F6(e){Bo(e,"onDisconnectEvents");const t=vs(e),n=tc();xf(e.onDisconnect_,ge(),(i,a)=>{const s=Wv(i,a,e.serverSyncTree_,t);Wo(n,i,s)});let r=[];xf(n,ge(),(i,a)=>{r=r.concat(gs(e.serverSyncTree_,i,a));const s=wh(e,i);So(e,s)}),e.onDisconnect_=tc(),qt(e.eventQueue_,ge(),r)}function j6(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&yf(e.onDisconnect_,t),Jr(e,n,r,i)})}function Zm(e,t,n,r){const i=Fe(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(a,s)=>{a==="ok"&&Wo(e.onDisconnect_,t,i),Jr(e,r,a,s)})}function $6(e,t,n,r,i){const a=Fe(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(s,l)=>{s==="ok"&&Wo(e.onDisconnect_,t,a),Jr(e,i,s,l)})}function U6(e,t,n,r){if(rf(n)){ct("onDisconnect().update() called with empty data.  Don't do anything."),Jr(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,a)=>{i==="ok"&&ut(n,(s,l)=>{const c=Fe(l);Wo(e.onDisconnect_,Le(t,s),c)}),Jr(e,r,i,a)})}function H6(e,t,n){let r;oe(t._path)===".info"?r=wf(e.infoSyncTree_,t,n):r=wf(e.serverSyncTree_,t,n),Uv(e.eventQueue_,t._path,r)}function kf(e,t,n){let r;oe(t._path)===".info"?r=cc(e.infoSyncTree_,t,n):r=cc(e.serverSyncTree_,t,n),Uv(e.eventQueue_,t._path,r)}function Gv(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Vv)}function V6(e){e.persistentConnection_&&e.persistentConnection_.resume(Vv)}function Bo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ct(n,...t)}function Jr(e,t,n,r){t&&Oo(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let a=i;r&&(a+=": "+r);const s=new Error(a);s.code=i,t(s)}})}function Y6(e,t,n,r,i,a){Bo(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:$1(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=_h(e,t,void 0);s.currentInputSnapshot=l;const c=s.update(l.val());if(c===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ys("transaction failed: Data returned ",c,s.path),s.status=0;const d=Kc(e.transactionQueueTree_,t),u=zi(d)||[];u.push(s),xh(d,u);let f;typeof c=="object"&&c!==null&&Tn(c,".priority")?(f=wi(c,".priority"),L(es(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Gc(e.serverSyncTree_,t)||K.EMPTY_NODE).getPriority().val();const p=vs(e),x=Fe(c,f),v=gh(x,l,p);s.currentOutputSnapshotRaw=x,s.currentOutputSnapshotResolved=v,s.currentWriteId=Zc(e);const y=ch(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);qt(e.eventQueue_,t,y),ed(e,e.transactionQueueTree_)}}function _h(e,t,n){return Gc(e.serverSyncTree_,t,n)||K.EMPTY_NODE}function ed(e,t=e.transactionQueueTree_){if(t||td(e,t),zi(t)){const n=Kv(e,t);L(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&G6(e,ms(t),n)}else Mv(t)&&Qc(t,n=>{ed(e,n)})}function G6(e,t,n){const r=n.map(d=>d.currentWriteId),i=_h(e,t,r);let a=i;const s=i.hash();for(let d=0;d<n.length;d++){const u=n[d];L(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=It(t,u.path);a=a.updateChild(f,u.currentOutputSnapshotRaw)}const l=a.val(!0),c=t;e.server_.put(c.toString(),l,d=>{Bo(e,"transaction put response",{path:c.toString(),status:d});let u=[];if(d==="ok"){const f=[];for(let p=0;p<n.length;p++)n[p].status=2,u=u.concat(Ir(e.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&f.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();td(e,Kc(e.transactionQueueTree_,t)),ed(e,e.transactionQueueTree_),qt(e.eventQueue_,t,u);for(let p=0;p<f.length;p++)Oo(f[p])}else{if(d==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ct("transaction at "+c.toString()+" failed: "+d);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=d}So(e,t)}},s)}function So(e,t){const n=qv(e,t),r=ms(n),i=Kv(e,n);return q6(e,i,r),r}function q6(e,t,n){if(t.length===0)return;const r=[];let i=[];const s=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const c=t[l],d=It(n,c.path);let u=!1,f;if(L(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,f=c.abortReason,i=i.concat(Ir(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=z6)u=!0,f="maxretry",i=i.concat(Ir(e.serverSyncTree_,c.currentWriteId,!0));else{const p=_h(e,c.path,s);c.currentInputSnapshot=p;const x=t[l].update(p.val());if(x!==void 0){ys("transaction failed: Data returned ",x,c.path);let v=Fe(x);typeof x=="object"&&x!=null&&Tn(x,".priority")||(v=v.updatePriority(p.getPriority()));const b=c.currentWriteId,h=vs(e),g=gh(v,p,h);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=g,c.currentWriteId=Zc(e),s.splice(s.indexOf(b),1),i=i.concat(ch(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally)),i=i.concat(Ir(e.serverSyncTree_,b,!0))}else u=!0,f="nodata",i=i.concat(Ir(e.serverSyncTree_,c.currentWriteId,!0))}qt(e.eventQueue_,n,i),i=[],u&&(t[l].status=2,function(p){setTimeout(p,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(f==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(f),!1,null))))}td(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Oo(r[l]);ed(e,e.transactionQueueTree_)}function qv(e,t){let n,r=e.transactionQueueTree_;for(n=oe(t);n!==null&&zi(r)===void 0;)r=Kc(r,n),t=_e(t),n=oe(t);return r}function Kv(e,t){const n=[];return Qv(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Qv(e,t,n){const r=zi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Qc(t,i=>{Qv(e,i,n)})}function td(e,t){const n=zi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,xh(t,n.length>0?n:void 0)}Qc(t,r=>{td(e,r)})}function wh(e,t){const n=ms(qv(e,t)),r=Kc(e.transactionQueueTree_,t);return C6(r,i=>{Kd(e,i)}),Kd(e,r),Bv(r,i=>{Kd(e,i)}),n}function Kd(e,t){const n=zi(t);if(n){const r=[];let i=[],a=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(L(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(L(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ir(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));a===-1?xh(t,void 0):n.length=a+1,qt(e.eventQueue_,ms(t),i);for(let s=0;s<r.length;s++)Oo(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Q6(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ct(`Invalid query segment '${n}' in query '${e}'`)}return t}const Rf=function(e,t){const n=J6(e),r=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ak();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nv(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ye(n.pathString)}},J6=function(e){let t="",n="",r="",i="",a="",s=!0,l="https",c=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(l=e.substring(0,d-1),e=e.substring(d+2));let u=e.indexOf("/");u===-1&&(u=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(u,f)),u<f&&(i=K6(e.substring(u,f)));const p=Q6(e.substring(Math.min(e.length,f)));d=t.indexOf(":"),d>=0?(s=l==="https"||l==="wss",c=parseInt(t.substring(d+1),10)):d=t.length;const x=t.slice(0,d);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",X6=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const a=new Array(8);for(i=7;i>=0;i--)a[i]=e0.charAt(n%64),n=Math.floor(n/64);L(n===0,"Cannot push at time == 0");let s=a.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=e0.charAt(t[i]);return L(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class Xv{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new Ht;return j6(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Mn("OnDisconnect.remove",this._path);const t=new Ht;return Zm(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Mn("OnDisconnect.set",this._path),Yn("OnDisconnect.set",t,this._path,!1);const n=new Ht;return Zm(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Mn("OnDisconnect.setWithPriority",this._path),Yn("OnDisconnect.setWithPriority",t,this._path,!1),vh("OnDisconnect.setWithPriority",n,!1);const r=new Ht;return $6(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){Mn("OnDisconnect.update",this._path),jv("OnDisconnect.update",t,this._path,!1);const n=new Ht;return U6(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ae(this._path)?null:qp(this._path)}get ref(){return new In(this._repo,this._path)}get _queryIdentifier(){const t=Bm(this._queryParams),n=Hp(t);return n==="{}"?"default":n}get _queryObject(){return Bm(this._queryParams)}isEqual(t){if(t=zt(t),!(t instanceof Jt))return!1;const n=this._repo===t._repo,r=Kp(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Uk(this._path)}}function nd(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ni(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===jn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Gr)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==gr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Ie){if(t!=null&&!es(t)||n!=null&&!es(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(L(e.getIndex()instanceof Xp||e.getIndex()===Zp,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rd(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class In extends Jt{constructor(t,n){super(t,n,new th,!1)}get parent(){const t=uv(this._path);return t===null?null:new In(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ti{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ye(t),r=_o(this.ref,t);return new Ti(this._node.getChild(n),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Ti(i,_o(this.ref,r),Ie)))}hasChild(t){const n=new ye(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function we(e,t){return e=zt(e),e._checkNotDeleted("ref"),t!==void 0?_o(e._root,t):e._root}function T3(e,t){e=zt(e),e._checkNotDeleted("refFromURL");const n=Rf(t,e._repo.repoInfo_.nodeAdmin);$v("refFromURL",n);const r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Vn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),we(e,n.path.toString())}function _o(e,t){return e=zt(e),oe(e._path)===null?A6("child","path",t,!1):bh("child","path",t,!1),new In(e._repo,Le(e._path,t))}function I3(e){return e=zt(e),new Z6(e._repo,e._path)}function e5(e,t){e=zt(e),Mn("push",e._path),Yn("push",t,e._path,!0);const n=Yv(e._repo),r=X6(n),i=_o(e,r),a=_o(e,r);let s;return t!=null?s=bs(a,t).then(()=>a):s=Promise.resolve(a),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function dc(e){return Mn("remove",e._path),bs(e,null)}function bs(e,t){e=zt(e),Mn("set",e._path),Yn("set",t,e._path,!1);const n=new Ht;return Sh(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function N3(e,t){e=zt(e),Mn("setPriority",e._path),vh("setPriority",t,!1);const n=new Ht;return Sh(e._repo,Le(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function A3(e,t,n){if(Mn("setWithPriority",e._path),Yn("setWithPriority",t,e._path,!1),vh("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Ht;return Sh(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function kh(e,t){jv("update",t,e._path,!1);const n=new Ht;return B6(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function an(e){e=zt(e);const t=new Ch(()=>{}),n=new Es(t);return M6(e._repo,e,n).then(r=>new Ti(r,new In(e._repo,e._path),e._queryParams.getIndex()))}class Es{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Jv("value",this,new Ti(t.snapshotNode,new In(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Xv(this,t,n):null}matches(t){return t instanceof Es?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class id{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Xv(this,t,n):null}createEvent(t,n){L(t.childName!=null,"Child events should have a childName.");const r=_o(new In(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Jv(t.type,this,new Ti(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof id?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ss(e,t,n,r,i){let a;if(typeof r=="object"&&(a=void 0,i=r),typeof r=="function"&&(a=r),i&&i.onlyOnce){const c=n,d=(u,f)=>{kf(e._repo,e,l),c(u,f)};d.userCallback=n.userCallback,d.context=n.context,n=d}const s=new Ch(n,a||void 0),l=t==="value"?new Es(s):new id(t,s);return H6(e._repo,e,l),()=>kf(e._repo,e,l)}function _s(e,t,n,r){return Ss(e,"value",t,n,r)}function P3(e,t,n,r){return Ss(e,"child_added",t,n,r)}function D3(e,t,n,r){return Ss(e,"child_changed",t,n,r)}function z3(e,t,n,r){return Ss(e,"child_moved",t,n,r)}function L3(e,t,n,r){return Ss(e,"child_removed",t,n,r)}function Zv(e,t,n){let r=null;const i=n?new Ch(n):null;t==="value"?r=new Es(i):t&&(r=new id(t,i)),kf(e._repo,e,r)}class Nn{}class eb extends Nn{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Yn("endAt",this._value,t._path,!0);const n=mf(t._queryParams,this._value,this._key);if(rd(n),ni(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jt(t._repo,t._path,n,t._orderByCalled)}}function O3(e,t){return xs("endAt","key",t,!0),new eb(e,t)}class t5 extends Nn{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Yn("endBefore",this._value,t._path,!1);const n=g4(t._queryParams,this._value,this._key);if(rd(n),ni(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jt(t._repo,t._path,n,t._orderByCalled)}}function W3(e,t){return xs("endBefore","key",t,!0),new t5(e,t)}class tb extends Nn{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Yn("startAt",this._value,t._path,!0);const n=gf(t._queryParams,this._value,this._key);if(rd(n),ni(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jt(t._repo,t._path,n,t._orderByCalled)}}function M3(e=null,t){return xs("startAt","key",t,!0),new tb(e,t)}class n5 extends Nn{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Yn("startAfter",this._value,t._path,!1);const n=h4(t._queryParams,this._value,this._key);if(rd(n),ni(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jt(t._repo,t._path,n,t._orderByCalled)}}function B3(e,t){return xs("startAfter","key",t,!0),new n5(e,t)}class r5 extends Nn{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jt(t._repo,t._path,f4(t._queryParams,this._limit),t._orderByCalled)}}function F3(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new r5(e)}class i5 extends Nn{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jt(t._repo,t._path,p4(t._queryParams,this._limit),t._orderByCalled)}}function j3(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new i5(e)}class o5 extends Nn{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){nd(t,"orderByChild");const n=new ye(this._path);if(ae(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Xp(n),i=Uc(t._queryParams,r);return ni(i),new Jt(t._repo,t._path,i,!0)}}function $3(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bh("orderByChild","path",e,!1),new o5(e)}class a5 extends Nn{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){nd(t,"orderByKey");const n=Uc(t._queryParams,jn);return ni(n),new Jt(t._repo,t._path,n,!0)}}function U3(){return new a5}class s5 extends Nn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){nd(t,"orderByPriority");const n=Uc(t._queryParams,Ie);return ni(n),new Jt(t._repo,t._path,n,!0)}}function H3(){return new s5}class l5 extends Nn{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){nd(t,"orderByValue");const n=Uc(t._queryParams,Zp);return ni(n),new Jt(t._repo,t._path,n,!0)}}function V3(){return new l5}class c5 extends Nn{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Yn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new eb(this._value,this._key)._apply(new tb(this._value,this._key)._apply(t))}}function Y3(e,t){return xs("equalTo","key",t,!0),new c5(e,t)}function G3(e,...t){let n=zt(e);for(const r of t)n=r._apply(n);return n}r6(In);l6(In);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="FIREBASE_DATABASE_EMULATOR_HOST",Tf={};let nb=!1;function u5(e,t,n,r){const i=t.lastIndexOf(":"),a=t.substring(0,i),s=Bc(a);e.repoInfo_=new nv(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function rb(e,t,n,r,i){let a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Rf(a,i),l=s.repoInfo,c,d;typeof process<"u"&&process.env&&(d=process.env[d5]),d?(c=!0,a=`http://${d}?ns=${l.namespace}`,s=Rf(a,i),l=s.repoInfo):c=!s.repoInfo.secure;const u=i&&c?new ao(ao.OWNER):new yk(e.name,e.options,t);$v("Invalid Firebase Database URL",s),ae(s.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=p5(l,e,u,new mk(e,n));return new g5(f,e)}function f5(e,t){const n=Tf[t];(!n||n[e.key]!==e)&&Vn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Gv(e),delete n[e.key]}function p5(e,t,n,r){let i=Tf[t.name];i||(i={},Tf[t.name]=i);let a=i[e.toURLString()];return a&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new L6(e,nb,n,r),i[e.toURLString()]=a,a}function h5(e){nb=e}class g5{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(O6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new In(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(f5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Vn("Cannot call "+t+" on a deleted database.")}}function ib(){xo.IS_TRANSPORT_INITIALIZED&&Ct("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function q3(){ib(),Tr.forceDisallow()}function K3(){ib(),nn.forceDisallow(),Tr.forceAllow()}function m5(e=O1(),t){const n=P1(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=v1("database");r&&y5(n,...r)}return n}function y5(e,t,n,r={}){e=zt(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,a=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Kl(r,a.repoInfo_.emulatorOptions))return;Vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ao(ao.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:S1(r.mockUserToken,e.app.options.projectId);s=new ao(l)}Bc(t)&&(E1(t),_1("Database",!0)),u5(a,i,r,s)}function Q3(e){e=zt(e),e._checkNotDeleted("goOffline"),Gv(e._repo)}function J3(e){e=zt(e),e._checkNotDeleted("goOnline"),V6(e._repo)}function X3(e,t){H1(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(e){F1(z1),Ya(new Yr("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return rb(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),Fr(Sm,_m,e),Fr(Sm,_m,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5={".sv":"timestamp"};function Z3(){return v5}function eT(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function tT(e,t,n){var r;if(e=zt(e),Mn("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,a=new Ht,s=(c,d,u)=>{let f=null;c?a.reject(c):(f=new Ti(u,new In(e._repo,e._path),Ie),a.resolve(new b5(d,f)))},l=_s(e,()=>{});return Y6(e._repo,e._path,t,s,l,i),a.promise}cn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};cn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};const nT=function(e){const t=cn.prototype.put;return cn.prototype.put=function(n,r,i,a){a!==void 0&&(a=e()),t.call(this,n,r,i,a)},function(){cn.prototype.put=t}},rT=function(e){h5(e)};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,nodeAdmin:a=!1}){F1(n);const s=new T1("database-standalone"),l=new of("auth-internal",s);let c;return i&&(c=new of("app-check-internal",s),c.setComponent(new Yr("app-check-internal",()=>i,"PRIVATE"))),l.setComponent(new Yr("auth-internal",()=>r,"PRIVATE")),rb(e,l,c,t,a)}x5();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firebasestorage.googleapis.com",E5="storageBucket",S5=2*60*1e3,_5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends Lo{constructor(t,n,r=0){super(Qd(t),`Firebase Storage: ${n} (${Qd(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Qd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gn||(Gn={}));function Qd(e){return"storage/"+e}function w5(){const e="An unknown error occurred, please check the error payload for server response.";return new Kn(Gn.UNKNOWN,e)}function C5(){return new Kn(Gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k5(){return new Kn(Gn.CANCELED,"User canceled the upload/download.")}function R5(e){return new Kn(Gn.INVALID_URL,"Invalid URL '"+e+"'.")}function T5(e){return new Kn(Gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function t0(e){return new Kn(Gn.INVALID_ARGUMENT,e)}function ab(){return new Kn(Gn.APP_DELETED,"The Firebase app was deleted.")}function I5(e){return new Kn(Gn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=En.makeFromUrl(t,n)}catch{return new En(t,"")}if(r.path==="")return r;throw T5(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",x=new RegExp(`^https?://${f}/${u}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},y=n===ob?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",h=new RegExp(`^https?://${y}/${i}/${b}`,"i"),E=[{regex:l,indices:c,postModify:a},{regex:x,indices:v,postModify:d},{regex:h,indices:{bucket:1,path:2},postModify:d}];for(let S=0;S<E.length;S++){const k=E[S],R=k.regex.exec(t);if(R){const C=R[k.indices.bucket];let T=R[k.indices.path];T||(T=""),r=new En(C,T),k.postModify(r);break}}if(r==null)throw R5(t);return r}}class N5{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(e,t,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let d=!1;function u(...b){d||(d=!0,t.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,e(x,c())},b)}function p(){a&&clearTimeout(a)}function x(b,...h){if(d){p();return}if(b){p(),u.call(null,b,...h);return}if(c()||s){p(),u.call(null,b,...h);return}r<64&&(r*=2);let E;l===1?(l=2,E=0):E=(r+Math.random())*1e3,f(E)}let v=!1;function y(b){v||(v=!0,p(),!d&&(i!==null?(b||(l=2),clearTimeout(i),f(0)):b||(l=1)))}return f(0),a=setTimeout(()=>{s=!0,y(!0)},n),y}function P5(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(e){return e!==void 0}function n0(e,t,n,r){if(r<t)throw t0(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw t0(`Invalid value for '${e}'. Expected ${n} or less.`)}function z5(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var uc;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(uc||(uc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(t,n,r,i,a,s,l,c,d,u,f,p=!0,x=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,y)=>{this.resolve_=v,this.reject_=y,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Gs(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===uc.NO_ERROR,c=a.getStatus();if(!l||L5(c,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===uc.ABORT;r(!1,new Gs(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Gs(d,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());D5(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=w5();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?ab():k5();s(c)}else{const c=C5();s(c)}};this.canceled_?n(!1,new Gs(!1,null,!0)):this.backoffId_=A5(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&P5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gs{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function W5(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function M5(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function B5(e,t){t&&(e["X-Firebase-GMPID"]=t)}function F5(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function j5(e,t,n,r,i,a,s=!0,l=!1){const c=z5(e.urlParams),d=e.url+c,u=Object.assign({},e.headers);return B5(u,t),W5(u,n),M5(u,a),F5(u,r),new O5(d,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function U5(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n){this._service=t,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new fc(t,n)}get root(){const t=new En(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U5(this._location.path)}get storage(){return this._service}get parent(){const t=$5(this._location.path);if(t===null)return null;const n=new En(this._location.bucket,t);return new fc(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw I5(t)}}function r0(e,t){const n=t==null?void 0:t[E5];return n==null?null:En.makeFromBucketSpec(n,e)}function H5(e,t,n,r={}){e.host=`${t}:${n}`;const i=Bc(t);i&&(E1(`https://${e.host}/b`),_1("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:S1(a,e.app.options.projectId))}class V5{constructor(t,n,r,i,a,s=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=ob,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=S5,this._maxUploadRetryTime=_5,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=r0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,t):this._bucket=r0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){n0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){n0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(D1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new fc(this,t)}_makeRequest(t,n,r,i,a=!0){if(this._deleted)return new N5(ab());{const s=j5(t,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const i0="@firebase/storage",o0="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="storage";function Y5(e=O1(),t){e=zt(e);const r=P1(e,sb).getImmediate({identifier:t}),i=v1("storage");return i&&G5(r,...i),r}function G5(e,t,n,r={}){H5(e,t,n,r)}function q5(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new V5(n,r,i,t,z1)}function K5(){Ya(new Yr(sb,q5,"PUBLIC").setMultipleInstances(!0)),Fr(i0,o0,""),Fr(i0,o0,"esm2017")}K5();const Q5={apiKey:"AIzaSyAdCkNDNjnrusXg6blO7z02EkhCiezpvdY",authDomain:"ai-powered-digital-marke-fc7af.firebaseapp.com",databaseURL:"https://ai-powered-digital-marke-fc7af-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ai-powered-digital-marke-fc7af",storageBucket:"ai-powered-digital-marke-fc7af.appspot.com",messagingSenderId:"552564748664",appId:"1:552564748664:web:94c3eb9a66f8e76fc6188d",measurementId:"G-M9V60YDLGY"},lb=L1(Q5),Ce=m5(lb),J5=Y5(lb),or=Object.freeze(Object.defineProperty({__proto__:null,db:Ce,storage:J5},Symbol.toStringTag,{value:"Module"})),U={colors:{primary:{50:"#eff6ff",100:"#dbeafe",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8"},success:{50:"#f0fdf4",100:"#dcfce7",500:"#10b981",600:"#059669",700:"#047857"},warning:{50:"#fffbeb",100:"#fef3c7",500:"#f59e0b",600:"#d97706",700:"#b45309"},danger:{50:"#fef2f2",100:"#fee2e2",500:"#ef4444",600:"#dc2626",700:"#b91c1c"},purple:{50:"#faf5ff",100:"#f3e8ff",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9"},gray:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"}},typography:{fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800"}},spacing:{xs:"8px",sm:"12px",md:"16px",lg:"20px",xl:"24px","2xl":"32px","3xl":"40px","4xl":"48px"},borderRadius:{sm:"6px",md:"8px",lg:"12px",xl:"16px","2xl":"20px",full:"50%"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}},Xe={pageContainer:{padding:"0",maxWidth:"100%",fontFamily:U.typography.fontFamily},pageHeader:{marginBottom:U.spacing["2xl"]},pageTitle:{fontSize:U.typography.fontSize["4xl"],fontWeight:U.typography.fontWeight.bold,color:U.colors.gray[800],margin:`0 0 ${U.spacing.xs} 0`},pageSubtitle:{color:U.colors.gray[500],margin:0,fontSize:U.typography.fontSize.base},card:{background:"#ffffff",borderRadius:U.borderRadius.lg,padding:U.spacing.xl,boxShadow:U.shadows.md,border:`1px solid ${U.colors.gray[200]}`},statCard:{background:"#ffffff",borderRadius:U.borderRadius.lg,padding:U.spacing.xl,boxShadow:U.shadows.md,border:`1px solid ${U.colors.gray[200]}`,display:"flex",alignItems:"center",gap:U.spacing.md},statIcon:{width:"48px",height:"48px",borderRadius:U.borderRadius.lg,display:"flex",alignItems:"center",justifyContent:"center"},statValue:{margin:0,fontSize:U.typography.fontSize["4xl"],fontWeight:U.typography.fontWeight.bold,color:U.colors.gray[800]},statLabel:{margin:0,fontSize:U.typography.fontSize.sm,color:U.colors.gray[500],fontWeight:U.typography.fontWeight.medium},button:{display:"flex",alignItems:"center",gap:U.spacing.xs,padding:`${U.spacing.sm} ${U.spacing.xl}`,border:"none",borderRadius:U.borderRadius.lg,cursor:"pointer",fontWeight:U.typography.fontWeight.bold,fontSize:U.typography.fontSize.sm,transition:"all 0.2s ease",fontFamily:U.typography.fontFamily},buttonPrimary:{background:`linear-gradient(135deg, ${U.colors.primary[500]} 0%, ${U.colors.primary[600]} 100%)`,color:"#ffffff",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease"},buttonSuccess:{background:`linear-gradient(135deg, ${U.colors.success[500]} 0%, ${U.colors.success[600]} 100%)`,color:"#ffffff",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transition:"all 0.2s ease"},buttonWarning:{background:`linear-gradient(135deg, ${U.colors.warning[500]} 0%, ${U.colors.warning[600]} 100%)`,color:"#ffffff",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",transition:"all 0.2s ease"},buttonDanger:{background:`linear-gradient(135deg, ${U.colors.danger[500]} 0%, ${U.colors.danger[600]} 100%)`,color:"#ffffff",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)",transition:"all 0.2s ease"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},loadingSpinner:{width:"40px",height:"40px",border:`4px solid ${U.colors.gray[200]}`,borderTop:`4px solid ${U.colors.primary[500]}`,borderRadius:"50%",animation:"spin 1s linear infinite"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:U.spacing.xl,marginBottom:U.spacing["2xl"]},twoColumnGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:U.spacing.xl},statusDot:{width:"8px",height:"8px",borderRadius:"50%"},emptyState:{background:"#ffffff",borderRadius:U.borderRadius.xl,padding:`${U.spacing["4xl"]} ${U.spacing["3xl"]}`,textAlign:"center",boxShadow:U.shadows.md,border:`1px solid ${U.colors.gray[200]}`},emptyStateIcon:{width:"80px",height:"80px",background:U.colors.gray[100],borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:`0 auto ${U.spacing.xl}`,fontSize:"32px"},emptyStateTitle:{fontSize:U.typography.fontSize.xl,fontWeight:U.typography.fontWeight.semibold,color:U.colors.gray[800],margin:`0 0 ${U.spacing.xs} 0`},emptyStateText:{color:U.colors.gray[500],fontSize:U.typography.fontSize.base,margin:0}},pc={assigned:U.colors.primary[500],pending:U.colors.warning[500],approved:U.colors.success[500],rejected:U.colors.danger[500],completed:U.colors.success[500],active:U.colors.success[500],inactive:U.colors.gray[400]},X5=()=>{const[e,t]=m.useState({totalUsers:0,pendingApprovals:0,activeUsers:0,roleBreakdown:{ContentCreator:0,MarketingLead:0,GraphicDesigner:0},recentActivity:[]}),[n,r]=m.useState(!0);m.useEffect(()=>{i()},[]);const i=async()=>{try{const s=we(Ce,"ApprovalofAccounts"),c=(await an(s)).val(),d=c?Object.keys(c).length:0,u=["ContentCreator","MarketingLead","GraphicDesigner"],f={};let p=0;for(const h of u){const g=we(Ce,h),S=(await an(g)).val(),k=S?Object.keys(S).length:0;f[h]=k,p+=k}const x=we(Ce,"notification/admin"),y=(await an(x)).val(),b=y?Object.values(y).sort((h,g)=>new Date(g.timestamp)-new Date(h.timestamp)).slice(0,5):[];t({totalUsers:p+d,pendingApprovals:d,activeUsers:p,roleBreakdown:f,recentActivity:b})}catch(s){console.error("Error fetching dashboard data:",s)}finally{r(!1)}};if(n)return o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",null,"Loading dashboard..."));const a=({icon:s,title:l,value:c,badge:d,color:u="blue"})=>o.createElement("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-2px)",f.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:u==="blue"?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":u==="green"?"linear-gradient(135deg, #10b981 0%, #059669 100%)":u==="orange"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},o.createElement(s,{size:28})),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"500",color:"#6b7280",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"}},l))),o.createElement("span",{style:{background:u==="blue"?"#dbeafe":u==="green"?"#d1fae5":u==="orange"?"#fed7aa":"#e0e7ff",color:u==="blue"?"#1e40af":u==="green"?"#065f46":u==="orange"?"#9a3412":"#5b21b6",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"}},d)),o.createElement("div",{style:{fontSize:"36px",fontWeight:"800",color:"#111827",marginBottom:"8px",lineHeight:"1"}},c));return o.createElement(o.Fragment,null,o.createElement("style",null,`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `),o.createElement("div",{style:{padding:"24px",backgroundColor:"#ffffff",minHeight:"100vh"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Admin Dashboard"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Overview of your digital marketing system")),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"32px"}},o.createElement(a,{icon:Vl,title:"Total Users",value:e.totalUsers,badge:"TOTAL",color:"blue"}),o.createElement(a,{icon:d1,title:"Active Users",value:e.activeUsers,badge:"ACTIVE",color:"green"}),o.createElement(a,{icon:pw,title:"Pending Approvals",value:e.pendingApprovals,badge:"PENDING",color:"orange"}),o.createElement(a,{icon:Hl,title:"System Status",value:"Online",badge:"STATUS",color:"purple"})),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px"}},o.createElement("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff"}},o.createElement(Vl,{size:20})),o.createElement("div",null,o.createElement("div",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"2px"}},"Users by Role"),o.createElement("div",{style:{fontSize:"14px",color:"#6b7280"}},"Role distribution overview")))),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},Object.entries(e.roleBreakdown).map(([s,l])=>{const c=e.activeUsers>0?(l/e.activeUsers*100).toFixed(1):0;return o.createElement("div",{key:s,style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"}},s.replace(/([a-z])([A-Z])/g,"$1 $2")),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},c,"% of total")),o.createElement("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#1f2937",minWidth:"40px",textAlign:"right"}},l))}))),o.createElement("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff"}},o.createElement(Hl,{size:20})),o.createElement("div",null,o.createElement("div",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"2px"}},"Recent Activity"),o.createElement("div",{style:{fontSize:"14px",color:"#6b7280"}},"Latest system events"))),o.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981",animation:"pulse 2s infinite"}})),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},e.recentActivity.length>0?e.recentActivity.map((s,l)=>o.createElement("div",{key:l,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:s.read?"#6b7280":"#ef4444"}}),o.createElement("div",{style:{flex:1}},o.createElement("div",{style:{fontSize:"0.875rem",color:"#374151",fontWeight:"500"}},s.message),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},new Date(s.timestamp).toLocaleString())))):o.createElement("div",{style:{textAlign:"center",color:"#6b7280",fontSize:"0.875rem",padding:"20px"}},"No recent activity"))))))},Z5=()=>o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",background:"#fff",width:"100%"}});const eR=["key","password","otp","registrationCompleted","verified","registrationCompleted","expiresAt","createdAt","registrationDate","profilePicture"],tR={firstName:"First Name",lastName:"Last Name",city:"City",contactNumber:"Contact Number",country:"Country",email:"Email",role:"Role",state:"State",username:"Username",zipCode:"Zip Code"},a0=e=>e?new Date(e).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",nR=({user:e,isOpen:t,onClose:n,onAccept:r,onReject:i,onModify:a,onDelete:s,isApproved:l=!1})=>{var d;if(!t||!e)return null;const c=(e.firstName||e.username||"U").charAt(0).toUpperCase();return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{style:{background:"#ffffff",padding:0,borderRadius:16,width:700,maxHeight:"85vh",position:"relative",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)",border:"1px solid #e5e7eb",fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',display:"flex",flexDirection:"column"}},o.createElement("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",padding:"32px 40px",display:"flex",alignItems:"center",justifyContent:"space-between",color:"#fff",borderRadius:"16px 16px 0 0"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"20px"}},o.createElement("div",{style:{width:80,height:80,borderRadius:"16px",background:l&&e.profilePicture?"transparent":"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:700,color:"#ffffff",overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"}},l&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:`${e.firstName} ${e.lastName}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):c),o.createElement("div",null,o.createElement("h2",{style:{margin:0,fontSize:"28px",fontWeight:700,letterSpacing:"-0.025em",color:"#ffffff"}},e.firstName," ",e.lastName),o.createElement("p",{style:{margin:"8px 0 0 0",fontSize:"16px",fontWeight:500,color:"rgba(255,255,255,0.9)"}},((d=e.role)==null?void 0:d.replace(/([a-z])([A-Z])/g,"$1 $2"))||"User"),o.createElement("div",{style:{marginTop:"8px",background:"rgba(255,255,255,0.2)",color:"#fff",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",display:"inline-flex",alignItems:"center",gap:"6px"}},l?o.createElement(o.Fragment,null,o.createElement(Hn,{size:12}),"APPROVED"):o.createElement(o.Fragment,null,o.createElement(jt,{size:12}),"PENDING")))),o.createElement("button",{onClick:n,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff",transition:"all 0.2s ease"},onMouseEnter:u=>u.target.style.background="rgba(255,255,255,0.2)",onMouseLeave:u=>u.target.style.background="rgba(255,255,255,0.1)"},o.createElement(Yl,{size:20}))),o.createElement("div",{style:{padding:"32px",overflowY:"auto",flex:1,background:"#ffffff"}},o.createElement("div",{style:{marginBottom:"24px",background:"#fff"}},o.createElement("div",{style:{fontSize:"18px",fontWeight:"700",color:"#374151",marginBottom:"16px",background:"#fff"}},"Account Information:")),e.createdAt&&o.createElement("div",{style:{marginBottom:"24px",padding:"20px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{marginBottom:"8px"}},o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},l?"Member since:":"Account Created:"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},a0(e.createdAt)))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px",marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},Object.entries(e).filter(([u])=>!eR.includes(u)).map(([u,f])=>o.createElement("div",{key:u},o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},(tR[u]||u.replace(/([A-Z])/g," $1").replace(/^\w/,p=>p.toUpperCase()))+":"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},u==="role"?(f==null?void 0:f.replace(/([a-z])([A-Z])/g,"$1 $2"))||f:u==="lastLogin"?a0(f):String(f)))))),(r||i||a||s)&&o.createElement("div",{style:{padding:"24px 32px",borderTop:"1px solid #e5e7eb",background:"#f8fafc",borderRadius:"0 0 16px 16px",display:"flex",gap:"16px",justifyContent:"flex-end"}},r&&o.createElement("button",{onClick:()=>{r(),n()},style:{background:"linear-gradient(135deg, #10b981, #059669)",border:"none",color:"#fff",borderRadius:12,minWidth:120,height:48,fontWeight:700,fontSize:"14px",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 4px 12px rgba(16,185,129,0.3)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.transform="translateY(-1px)",u.target.style.boxShadow="0 6px 16px rgba(16,185,129,0.4)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 12px rgba(16,185,129,0.3)"}},o.createElement(r1,{size:16}),"Accept"),i&&o.createElement("button",{onClick:()=>{i(),n()},style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",border:"none",color:"#fff",borderRadius:12,minWidth:120,height:48,fontWeight:700,fontSize:"14px",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 4px 12px rgba(239,68,68,0.3)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:u=>{u.target.style.transform="translateY(-1px)",u.target.style.boxShadow="0 6px 16px rgba(239,68,68,0.4)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 12px rgba(239,68,68,0.3)"}},o.createElement(Yl,{size:16}),"Reject"),a&&o.createElement("button",{onClick:()=>{a(),n()},style:{background:"linear-gradient(135deg, #10b981, #059669)",border:"none",color:"#fff",borderRadius:12,minWidth:120,height:48,fontWeight:700,fontSize:"14px",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(16,185,129,0.3)"},onMouseEnter:u=>{u.target.style.transform="translateY(-1px)",u.target.style.boxShadow="0 6px 16px rgba(16,185,129,0.4)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 12px rgba(16,185,129,0.3)"}},o.createElement(Pc,{size:16}),"Modify"),s&&o.createElement("button",{onClick:()=>{s(),n()},style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",border:"none",color:"#ffffff",borderRadius:12,minWidth:120,height:48,fontWeight:700,fontSize:"14px",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(239,68,68,0.3)"},onMouseEnter:u=>{u.target.style.transform="translateY(-1px)",u.target.style.boxShadow="0 6px 16px rgba(239,68,68,0.4)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 12px rgba(239,68,68,0.3)"}},o.createElement(Do,{size:16}),"Delete"))))},s0=e=>e.replace(/([a-z])([A-Z])/g,"$1 $2"),cb=({account:e,onAccept:t,onReject:n,onDelete:r,onModify:i,isApproved:a=!1})=>{const[s,l]=m.useState(!1);return(e.firstName||"U").charAt(0).toUpperCase(),o.createElement(o.Fragment,null,o.createElement("div",{className:"account-card-new",onClick:()=>l(!0),style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",cursor:"pointer",transition:"all 0.3s ease",userSelect:"none"},onMouseEnter:c=>{c.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",c.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:c=>{c.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",c.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:a&&e.profilePicture?"transparent":a?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"20px",fontWeight:"600",overflow:"hidden"}},a&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:`${e.firstName} ${e.lastName}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.createElement(vt,{size:24})),o.createElement("div",{style:{background:"#fff"}},o.createElement("div",{className:"text-bg",style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"4px",letterSpacing:"-0.025em",background:"#fff"}},e.firstName," ",e.lastName),o.createElement("div",{className:"text-bg",style:{fontSize:"14px",color:"#6b7280",fontWeight:"500",background:"#fff"}},s0(e.role)))),o.createElement("span",{style:{background:a?"#d1fae5":"#fed7aa",color:a?"#065f46":"#9a3412",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"}},a?"APPROVED":"PENDING")),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",background:"#fff"}},"Account Details:"),o.createElement("div",{style:{fontSize:"16px",color:"#1f2937",lineHeight:"1.6",fontWeight:"500",background:"#fff"}},e.email)),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},a?"Member since:":"Created:"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},new Date().toLocaleDateString())),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Role:"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},s0(e.role))),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Status:"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},a?"Active":"Pending"))),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"}},r&&o.createElement(o.Fragment,null,i&&o.createElement("button",{onClick:c=>{c.stopPropagation(),i()},style:{background:"#10b981",color:"#fff",border:"none",padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",height:"36px",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:c=>{c.target.style.transform="translateY(-1px)",c.target.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)"},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)"}},o.createElement(Pc,{size:14}),"Modify"),o.createElement("button",{onClick:c=>{c.stopPropagation(),r()},style:{background:"#ef4444",color:"#fff",border:"none",padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",cursor:"pointer",height:"36px",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:c=>{c.target.style.transform="translateY(-1px)",c.target.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.3)"},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.2)"}},o.createElement(Do,{size:14}),"Delete")),!r&&o.createElement(o.Fragment,null,o.createElement("button",{onClick:c=>{c.stopPropagation(),t()},style:{background:"#10b981",color:"#fff",border:"none",padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",cursor:"pointer",height:"36px",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:c=>{c.target.style.transform="translateY(-1px)",c.target.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)"},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)"}},o.createElement(r1,{size:14}),"Accept"),o.createElement("button",{onClick:c=>{c.stopPropagation(),n()},style:{background:"#ef4444",color:"#fff",border:"none",padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",cursor:"pointer",height:"36px",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:c=>{c.target.style.transform="translateY(-1px)",c.target.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.3)"},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.2)"}},o.createElement(Yl,{size:14}),"Reject")))),o.createElement(nR,{user:e,isOpen:s,onClose:()=>l(!1),onAccept:t,onReject:n,onModify:i,onDelete:r,isApproved:a}))},rR=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,a]=m.useState(""),[s,l]=m.useState("all"),c=async()=>{try{const x=we(Ce,"notification/admin"),y=(await an(x)).val();if(y){const b={};Object.entries(y).forEach(([h,g])=>{g.type==="approval_needed"&&!g.read&&(b[`notification/admin/${h}/read`]=!0)}),Object.keys(b).length>0&&await kh(we(Ce),b)}}catch(x){console.error("Error marking notifications as read:",x)}};m.useEffect(()=>{const x=we(Ce,"ApprovalofAccounts");c(),an(x).then(y=>{const b=y.val();if(b){const h=Object.entries(b).map(([g,E])=>({key:g,...E}));t(h)}else t([]);r(!1)}).catch(y=>{console.error("Error fetching initial data:",y),r(!1)});const v=_s(x,y=>{const b=y.val();if(b){const h=Object.entries(b).map(([g,E])=>({key:g,...E}));t(h)}else t([])});return()=>{Zv(x,"value",v)}},[]);const d=x=>{const v=x.username.toLowerCase(),y=we(Ce,`${x.role}/${v}`);bs(y,x).then(()=>{const b=we(Ce,`ApprovalofAccounts/${v}`);dc(b)}).catch(b=>console.error("Error approving account:",b))},u=x=>{const v=x.username.toLowerCase(),y=we(Ce,`ApprovalofAccounts/${v}`);dc(y).catch(b=>console.error("Error rejecting account:",b))},p=(()=>e.filter(x=>{var b,h,g;const v=i===""||((b=x.firstName)==null?void 0:b.toLowerCase().includes(i.toLowerCase()))||((h=x.lastName)==null?void 0:h.toLowerCase().includes(i.toLowerCase()))||((g=x.email)==null?void 0:g.toLowerCase().includes(i.toLowerCase())),y=s==="all"||x.role===s;return v&&y}))();return n?o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"}},o.createElement("div",{style:{fontSize:"1.1rem",color:"#6b7280"}},"Loading pending accounts...")):o.createElement("div",{style:{width:"100%",minHeight:"100vh",background:"var(--bg-secondary, #f8fafc)",padding:0,margin:0}},o.createElement("div",{style:{background:"var(--bg-primary, #fff)",borderBottom:"1px solid var(--border-primary, #e2e8f0)",padding:"24px 32px",boxShadow:"0 1px 3px var(--shadow, rgba(0,0,0,0.1))"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},o.createElement("div",null,o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Approval of Accounts"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},e.length," total pending • ",p.length," showing"))),o.createElement("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"}},o.createElement("div",{style:{position:"relative",flex:"1",minWidth:"300px"}},o.createElement(s1,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary, #9ca3af)",fontSize:"18px"}}),o.createElement("input",{type:"text",placeholder:"Search by name or email...",value:i,onChange:x=>a(x.target.value),style:{width:"100%",padding:"12px 12px 12px 44px",border:"2px solid var(--border-primary, #e5e7eb)",borderRadius:"12px",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",background:"var(--bg-primary, #fff)",color:"var(--text-primary, #000)"},onFocus:x=>x.target.style.borderColor="#10b981",onBlur:x=>x.target.style.borderColor="var(--border-primary, #e5e7eb)"})),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(i1,{color:"var(--text-secondary, #6b7280)",size:18}),o.createElement("select",{value:s,onChange:x=>l(x.target.value),style:{padding:"12px 16px",border:"2px solid var(--border-primary, #e5e7eb)",borderRadius:"12px",fontSize:"1rem",outline:"none",background:"var(--bg-primary, #fff)",color:"var(--text-primary, #000)",cursor:"pointer",minWidth:"160px"}},o.createElement("option",{value:"all"},"All Roles"),o.createElement("option",{value:"ContentCreator"},"Content Creator"),o.createElement("option",{value:"MarketingLead"},"Marketing Lead"),o.createElement("option",{value:"GraphicDesigner"},"Graphic Designer"))))),o.createElement("div",{style:{padding:"32px"}},p.length===0?o.createElement("div",{style:{textAlign:"center",padding:"60px 20px",background:"var(--bg-primary, #fff)",borderRadius:"16px",boxShadow:"0 4px 6px var(--shadow, rgba(0,0,0,0.05))",border:"1px solid var(--border-primary, #f3f4f6)"}},o.createElement(d1,{size:48,color:"var(--text-tertiary, #d1d5db)",style:{marginBottom:"16px"}}),o.createElement("h3",{style:{color:"var(--text-secondary, #6b7280)",fontSize:"1.25rem",margin:"0 0 8px 0"}},i||s!=="all"?"No matching pending accounts":"No accounts pending approval"),o.createElement("p",{style:{color:"var(--text-tertiary, #9ca3af)",margin:0}},i||s!=="all"?"Try adjusting your search or filter criteria":"New account requests will appear here")):o.createElement("div",{style:{background:"var(--bg-primary, #fff)",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 6px var(--shadow, rgba(0,0,0,0.05))",border:"1px solid var(--border-primary, #f3f4f6)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid var(--border-primary, #f3f4f6)"}},o.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-primary, #1f2937)",margin:0}},"Pending Accounts"),o.createElement("span",{style:{background:"#10b981",color:"#fff",padding:"6px 12px",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"500"}},p.length," account",p.length!==1?"s":"")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},p.map(x=>o.createElement(cb,{key:x.key,account:x,onAccept:()=>d(x),onReject:()=>u(x)}))))))},iR=()=>JSON.parse(localStorage.getItem("user")),qs=({children:e})=>{const{user:t}=Rn(),n=iR();return console.log("AdminRoute: user from context",t),console.log("AdminRoute: user from localStorage",n),!n||n.role!=="Admin"||!t||t.role!=="Admin"?o.createElement(Kx,{to:"/login",replace:!0}):e},oR=({user:e,isOpen:t,onClose:n,onSave:r})=>{const[i,a]=m.useState("role"),[s,l]=m.useState({role:(e==null?void 0:e.role)||"",status:(e==null?void 0:e.status)||"active",locked:(e==null?void 0:e.locked)||!1,forcePasswordReset:!1,adminNotes:(e==null?void 0:e.adminNotes)||"",lastLogin:(e==null?void 0:e.lastLogin)||"Never",accountHistory:(e==null?void 0:e.accountHistory)||[]}),[c,d]=m.useState(!1),[u,f]=m.useState("");if(m.useEffect(()=>{e&&l({role:e.role||"",status:e.status||"active",locked:e.locked||!1,forcePasswordReset:!1,adminNotes:e.adminNotes||"",lastLogin:e.lastLogin||"Never",accountHistory:e.accountHistory||[]})},[e]),!t||!e)return null;const p=async()=>{d(!0);try{const b={...s},h={timestamp:new Date().toISOString(),action:"Account Modified",details:`Role: ${s.role}, Status: ${s.status}, Locked: ${s.locked}`,admin:"Current Admin"};b.accountHistory=[...s.accountHistory||[],h],await r({...e,...b}),n()}catch(b){console.error("Error saving user:",b)}finally{d(!1)}},x=()=>{if(!u.trim())return;const b={timestamp:new Date().toISOString(),note:u,admin:"Current Admin"};l(h=>({...h,adminNotes:[...h.adminNotes?[h.adminNotes]:[],b]})),f("")},v=(e.firstName||"U").charAt(0).toUpperCase(),y=[{id:"role",label:"Role Change",icon:l1},{id:"status",label:"Account Status",icon:Hl},{id:"security",label:"Security",icon:Fp},{id:"notes",label:"Profile Notes",icon:mo},{id:"history",label:"Account History",icon:jt}];return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{style:{background:"#ffffff",borderRadius:0,width:600,maxHeight:"90vh",boxShadow:"0 20px 60px rgba(0,0,0,0.15)",border:"1px solid #e2e8f0",fontFamily:"Inter, sans-serif",display:"flex",flexDirection:"column"}},o.createElement("div",{style:{background:"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)",padding:"24px 32px",display:"flex",alignItems:"center",justifyContent:"space-between",color:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},o.createElement("div",{style:{width:48,height:48,borderRadius:"50%",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",fontWeight:700,color:"#fbbf24"}},v),o.createElement("div",null,o.createElement("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:600}},"Admin Controls"),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"0.875rem",opacity:.9}},e.firstName," ",e.lastName))),o.createElement("button",{onClick:n,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#fff"}},o.createElement(Yl,{size:18}))),o.createElement("div",{style:{display:"flex",borderBottom:"1px solid #e2e8f0",background:"#f8fafc"}},y.map(b=>{const h=b.icon;return o.createElement("button",{key:b.id,onClick:()=>a(b.id),style:{flex:1,padding:"12px 8px",border:"none",background:i===b.id?"#fff":"transparent",color:i===b.id?"#7c3aed":"#6b7280",borderBottom:i===b.id?"2px solid #7c3aed":"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"}},o.createElement(h,{size:16}),b.label)})),o.createElement("div",{style:{padding:"24px",overflowY:"auto",flex:1,minHeight:"300px"}},i==="role"&&o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:600,color:"#374151"}},"Role Management"),o.createElement("div",{style:{marginBottom:"16px"}},o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"8px"}},"Current Role: ",o.createElement("span",{style:{color:"#7c3aed",fontWeight:600}},e.role)),o.createElement("select",{value:s.role,onChange:b=>l(h=>({...h,role:b.target.value})),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}},o.createElement("option",{value:"ContentCreator"},"Content Creator"),o.createElement("option",{value:"MarketingLead"},"Marketing Lead"),o.createElement("option",{value:"GraphicDesigner"},"Graphic Designer"))),o.createElement("div",{style:{background:"#fef3c7",padding:"12px",borderRadius:"8px",fontSize:"0.875rem",color:"#92400e"}},"⚠️ Changing roles will affect user permissions and access levels.")),i==="status"&&o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:600,color:"#374151"}},"Account Status"),o.createElement("div",{style:{display:"grid",gap:"16px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,color:"#374151",marginBottom:"8px"}},"Status"),o.createElement("select",{value:s.status,onChange:b=>l(h=>({...h,status:b.target.value})),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}},o.createElement("option",{value:"active"},"Active"),o.createElement("option",{value:"inactive"},"Inactive"),o.createElement("option",{value:"suspended"},"Suspended"))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("input",{type:"checkbox",checked:s.locked,onChange:b=>l(h=>({...h,locked:b.target.checked})),style:{width:"16px",height:"16px"}}),o.createElement("label",{style:{fontSize:"0.875rem",color:"#374151"}},"Lock Account (prevents login)")))),i==="security"&&o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:600,color:"#374151"}},"Security Controls"),o.createElement("div",{style:{display:"grid",gap:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("input",{type:"checkbox",checked:s.forcePasswordReset,onChange:b=>l(h=>({...h,forcePasswordReset:b.target.checked})),style:{width:"16px",height:"16px"}}),o.createElement("label",{style:{fontSize:"0.875rem",color:"#374151"}},"Force Password Reset on Next Login")),o.createElement("div",{style:{background:"#fef2f2",padding:"12px",borderRadius:"8px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},o.createElement(dw,{size:16,color:"#dc2626"}),o.createElement("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#dc2626"}},"Last Login")),o.createElement("p",{style:{margin:0,fontSize:"0.875rem",color:"#374151"}},s.lastLogin==="Never"?"Never logged in":new Date(s.lastLogin).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}))))),i==="notes"&&o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:600,color:"#374151"}},"Profile Notes"),o.createElement("div",{style:{marginBottom:"16px"}},o.createElement("textarea",{value:u,onChange:b=>f(b.target.value),placeholder:"Add a note about this user...",style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none",minHeight:"80px",resize:"vertical"}}),o.createElement("button",{onClick:x,style:{marginTop:"8px",padding:"8px 16px",background:"#7c3aed",color:"#fff",border:"none",borderRadius:"6px",fontSize:"0.875rem",cursor:"pointer"}},"Add Note")),o.createElement("div",{style:{maxHeight:"200px",overflowY:"auto"}},Array.isArray(s.adminNotes)?s.adminNotes.map((b,h)=>o.createElement("div",{key:h,style:{background:"#f8fafc",padding:"12px",borderRadius:"8px",marginBottom:"8px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"4px"}},new Date(b.timestamp).toLocaleString()," - ",b.admin),o.createElement("div",{style:{fontSize:"0.875rem",color:"#374151"}},b.note))):o.createElement("p",{style:{color:"#6b7280",fontSize:"0.875rem"}},"No notes available"))),i==="history"&&o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem",fontWeight:600,color:"#374151"}},"Account History"),o.createElement("div",{style:{maxHeight:"300px",overflowY:"auto"}},s.accountHistory.length>0?s.accountHistory.map((b,h)=>o.createElement("div",{key:h,style:{background:"#f8fafc",padding:"12px",borderRadius:"8px",marginBottom:"8px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"}},o.createElement("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151"}},b.action),o.createElement("span",{style:{fontSize:"0.75rem",color:"#6b7280"}},new Date(b.timestamp).toLocaleString())),o.createElement("div",{style:{fontSize:"0.875rem",color:"#6b7280"}},b.details),o.createElement("div",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"4px"}},"By: ",b.admin))):o.createElement("p",{style:{color:"#6b7280",fontSize:"0.875rem"}},"No history available")))),o.createElement("div",{style:{padding:"20px 24px",borderTop:"1px solid #e2e8f0",background:"#f8fafc",display:"flex",gap:"12px",justifyContent:"flex-end"}},o.createElement("button",{onClick:n,style:{background:"#fff",border:"1px solid #d1d5db",color:"#374151",borderRadius:6,minWidth:80,height:36,fontWeight:500,fontSize:"0.875rem",cursor:"pointer"}},"Cancel"),o.createElement("button",{onClick:p,disabled:c,style:{background:"#7c3aed",border:"none",color:"#fff",borderRadius:6,minWidth:80,height:36,fontWeight:600,fontSize:"0.875rem",cursor:c?"not-allowed":"pointer",opacity:c?.7:1}},c?"Saving...":"Save Changes"))))},Ks=["ContentCreator","MarketingLead","GraphicDesigner"],aR=()=>{const[e,t]=m.useState({}),[n,r]=m.useState(!0),[i,a]=m.useState(!1),[s,l]=m.useState(""),[c,d]=m.useState(!1),[u,f]=m.useState(null),[p,x]=m.useState(""),[v,y]=m.useState("all");m.useEffect(()=>{const C=[];return r(!0),Ks.forEach(T=>{const N=we(Ce,T),I=_s(N,w=>{const D=w.val();t(W=>({...W,[T]:D?Object.entries(D).map(([_,P])=>({key:_,...P,role:T})):[]})),r(!1)});C.push({ref:N,listener:I})}),()=>{C.forEach(({ref:T,listener:N})=>Zv(T,"value",N))}},[]);const b=(C,T)=>{const N=we(Ce,`${C}/${T}`);dc(N).catch(I=>console.error("Error deleting account:",I))},h=C=>{f(C),d(!0)},g=async C=>{try{const{key:T,role:N,...I}=C,D=u.role;if(N!==D){const W=we(Ce,`${N}/${T}`),_=we(Ce,`${D}/${T}`);await bs(W,{...I,role:N}),await dc(_),l(`${C.firstName} ${C.lastName} moved to ${N} successfully`)}else{const W=we(Ce,`${N}/${T}`);await kh(W,I),l(`${C.firstName} ${C.lastName} updated successfully`)}a(!0)}catch(T){console.error("Error updating user:",T),l("Failed to update user"),a(!0)}},E=(C,T)=>C?C.filter(N=>{var D,W,_;const I=p===""||((D=N.firstName)==null?void 0:D.toLowerCase().includes(p.toLowerCase()))||((W=N.lastName)==null?void 0:W.toLowerCase().includes(p.toLowerCase()))||((_=N.email)==null?void 0:_.toLowerCase().includes(p.toLowerCase())),w=v==="all"||N.role===v;return I&&w}):[],S=()=>Object.values(e).reduce((C,T)=>C+(T?T.length:0),0),k=()=>Ks.reduce((C,T)=>C+E(e[T]).length,0);if(n)return o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"}},o.createElement("div",{style:{fontSize:"1.1rem",color:"#6b7280"}},"Loading accounts..."));const R=C=>C.replace(/([a-z])([A-Z])/g,"$1 $2");return o.createElement("div",{style:{width:"100%",minHeight:"100vh",background:"var(--bg-secondary, #f8fafc)",padding:0,margin:0}},o.createElement("div",{style:{background:"var(--bg-primary, #fff)",borderBottom:"1px solid var(--border-primary, #e2e8f0)",padding:"24px 32px",boxShadow:"0 1px 3px var(--shadow, rgba(0,0,0,0.1))"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},o.createElement("div",null,o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Manage Accounts"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},S()," total accounts • ",k()," showing"))),o.createElement("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"}},o.createElement("div",{style:{position:"relative",flex:"1",minWidth:"300px"}},o.createElement(s1,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary, #9ca3af)",fontSize:"18px"}}),o.createElement("input",{type:"text",placeholder:"Search by name or email...",value:p,onChange:C=>x(C.target.value),style:{width:"100%",padding:"12px 12px 12px 44px",border:"2px solid var(--border-primary, #e5e7eb)",borderRadius:"12px",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",background:"var(--bg-primary, #fff)",color:"var(--text-primary, #000)"},onFocus:C=>C.target.style.borderColor="#3b82f6",onBlur:C=>C.target.style.borderColor="var(--border-primary, #e5e7eb)"})),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(i1,{color:"var(--text-secondary, #6b7280)",size:18}),o.createElement("select",{value:v,onChange:C=>y(C.target.value),style:{padding:"12px 16px",border:"2px solid var(--border-primary, #e5e7eb)",borderRadius:"12px",fontSize:"1rem",outline:"none",background:"var(--bg-primary, #fff)",color:"var(--text-primary, #000)",cursor:"pointer",minWidth:"160px"}},o.createElement("option",{value:"all"},"All Roles"),Ks.map(C=>o.createElement("option",{key:C,value:C},R(C))))))),o.createElement("div",{style:{padding:"32px"}},k()===0?o.createElement("div",{style:{textAlign:"center",padding:"60px 20px",background:"var(--bg-primary, #fff)",borderRadius:"16px",boxShadow:"0 4px 6px var(--shadow, rgba(0,0,0,0.05))",border:"1px solid var(--border-primary, #f3f4f6)"}},o.createElement(Vl,{size:48,color:"var(--text-tertiary, #d1d5db)",style:{marginBottom:"16px"}}),o.createElement("h3",{style:{color:"var(--text-secondary, #6b7280)",fontSize:"1.25rem",margin:"0 0 8px 0"}},p||v!=="all"?"No matching accounts found":"No accounts found"),o.createElement("p",{style:{color:"var(--text-tertiary, #9ca3af)",margin:0}},p||v!=="all"?"Try adjusting your search or filter criteria":"Accounts will appear here once they are created")):Ks.map(C=>{const T=E(e[C]);return T.length>0&&o.createElement("div",{key:C,style:{marginBottom:"40px",background:"var(--bg-primary, #fff)",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 6px var(--shadow, rgba(0,0,0,0.05))",border:"1px solid var(--border-primary, #f3f4f6)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid var(--border-primary, #f3f4f6)"}},o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",margin:0}},R(C)),o.createElement("span",{style:{background:"#dbeafe",color:"#1e40af",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"}},T.length," account",T.length!==1?"s":"")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},T.map(N=>o.createElement(cb,{key:N.key,account:N,onDelete:()=>b(C,N.key),onModify:()=>h(N),isApproved:!0}))))})),i&&o.createElement(Po,{message:s,type:s.includes("successfully")?"success":"error",onClose:()=>a(!1)}),o.createElement(oR,{user:u,isOpen:c,onClose:()=>{d(!1),f(null)},onSave:g}))},sR=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0);m.useEffect(()=>{i()},[]);const i=async()=>{try{r(!0);const l=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/posted")).json();l.status==="success"&&t(l.data||[])}catch(s){console.error("❌ Error fetching posted contents:",s),t([])}finally{r(!1)}},a=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return n?o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Posted Contents")),o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"}},"Loading posted contents...")):o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Posted Contents"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"All content that has been posted (",e.length," items)")),e.length===0?o.createElement("div",{style:{background:"#ffffff",borderRadius:"16px",padding:"60px 40px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"}},o.createElement("p",null,"No posted contents found.")):o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},e.map(s=>{var d,u,f,p,x;const l=(d=s.contentCreator)==null?void 0:d.content,c=((u=s.graphicDesigner)==null?void 0:u.designUrl)||((p=(f=s.graphicDesigner)==null?void 0:f.designs)==null?void 0:p.designUrl);return o.createElement("div",{key:s.id,style:{background:"#ffffff",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 8px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700"}},s.objectives),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("span",{style:{background:"#dcfce7",color:"#166534",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"}},"Posted"),o.createElement("span",{style:{color:"#6b7280",fontSize:"14px"}},"Posted: ",a((x=s.finalApproval)==null?void 0:x.approvedAt))))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"20px",alignItems:"start"}},o.createElement("div",null,o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("span",{style:{fontWeight:"600",color:"#374151",marginRight:"8px"}},"Headline:"),o.createElement("span",{style:{color:"#6b7280"}},(l==null?void 0:l.headline)||"N/A")),o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("span",{style:{fontWeight:"600",color:"#374151",marginRight:"8px"}},"Caption:"),o.createElement("span",{style:{color:"#6b7280"}},(l==null?void 0:l.caption)||"N/A")),o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("span",{style:{fontWeight:"600",color:"#374151",marginRight:"8px"}},"Hashtags:"),o.createElement("span",{style:{color:"#6b7280"}},(l==null?void 0:l.hashtag)||"N/A"))),c&&o.createElement("div",{style:{width:"120px"}},o.createElement("img",{src:c,alt:"Design",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}))))})))};function lR(e){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"},child:[]},{tag:"path",attr:{d:"M9 17v1a3 3 0 0 0 6 0v-1"},child:[]},{tag:"path",attr:{d:"M21 6.727a11.05 11.05 0 0 0 -2.794 -3.727"},child:[]},{tag:"path",attr:{d:"M3 6.727a11.05 11.05 0 0 1 2.792 -3.727"},child:[]}]})(e)}const od=({role:e})=>{const{user:t}=Rn(),[n,r]=m.useState([]),[i,a]=m.useState(!1),s=et();m.useEffect(()=>{const f=(e||(t==null?void 0:t.role)||"Admin").toLowerCase().replace(/\s+/g,""),p=we(Ce,`notification/${f}`),x=_s(p,v=>{const y=v.val()||{},b=Object.entries(y).map(([h,g])=>({id:h,...g}));r(b.reverse())});return()=>x()},[e,t==null?void 0:t.role]);const l=n.filter(u=>!u.read).length,c=()=>{a(u=>!u)},d=u=>{const p=(e||(t==null?void 0:t.role)||"Admin").toLowerCase().replace(/\s+/g,"");if(!u.read){const y=we(Ce,`notification/${p}/${u.id}`);kh(y,{read:!0})}const v={admin:{approval_needed:"/admin/approval",user_management:"/admin/manage",system_alert:"/admin"},marketinglead:{content_approval:"/marketing/approval",task_assignment:"/marketing/ongoing-task",content_ready:"/marketing/approved"},contentcreator:{task_assigned:"/content/task",content_feedback:"/content/output",deadline_reminder:"/content/dashboard"},graphicdesigner:{design_task:"/graphic/task",design_feedback:"/graphic/creation",asset_request:"/graphic/dashboard"}}[p];v&&v[u.type]&&s(v[u.type])};return o.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},o.createElement("button",{className:"notification-bell",onClick:c,style:{fontSize:"28px",position:"relative",background:"none",border:"none",cursor:"pointer",marginRight:"20px",display:"flex",alignItems:"center",justifyContent:"center",height:"auto",width:"auto",boxShadow:"none",borderRadius:0,padding:0},"aria-label":"Notifications"},o.createElement(lR,{className:l>0?"bell-animate":"",color:"#F6C544",size:28}),l>0&&o.createElement("span",{className:"notification-badge"},l)),i&&o.createElement("div",{style:{position:"absolute",right:0,top:"40px",background:"white",border:"1px solid #ccc",borderRadius:"4px",width:"320px",zIndex:100,maxHeight:"350px",overflowY:"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}},o.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},n.length===0&&o.createElement("li",{style:{padding:"16px",textAlign:"center",color:"#888"}},"No notifications"),n.map(u=>o.createElement("li",{key:u.id,onClick:()=>d(u),style:{padding:"12px 16px",background:u.read?"#f9f9f9":"#e6f7ff",borderBottom:"1px solid #eee",fontSize:"15px",cursor:"pointer",fontWeight:u.read?"normal":"bold",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("div",null,o.createElement("div",null,u.message),o.createElement("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"}},u.timestamp?new Date(u.timestamp).toLocaleString():"")),o.createElement("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"}},u.read?"Read":o.createElement("span",{style:{color:"#f44336"}},"Unread")))))))},cR=({isOpen:e,onClose:t})=>{if(!e)return null;const{user:n,setUser:r}=Rn(),[i,a]=m.useState("profile"),[s,l]=m.useState({firstName:"",lastName:"",profilePicture:null,minPasswordLength:8,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!1,passwordExpiry:90,maxLoginAttempts:5,lockoutDuration:30,enableAccountLockout:!0}),[c,d]=m.useState(!1),[u,f]=m.useState({text:"",type:""});m.useEffect(()=>{n&&(console.log("Current user data:",n),l(b=>{var h,g;return{...b,firstName:n.firstName||((h=n.name)==null?void 0:h.split(" ")[0])||"",lastName:n.lastName||((g=n.name)==null?void 0:g.split(" ")[1])||"",profilePicture:n.profilePicture||null}}))},[n,e]),m.useEffect(()=>{(async()=>{if(e)try{const{ref:E,get:S}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:k}=await Me(()=>Promise.resolve().then(()=>or),void 0),R=E(k,"systemSettings/passwordPolicies"),C=await S(R);if(C.exists()){const I=C.val();l(w=>({...w,minPasswordLength:I.minPasswordLength||8,requireUppercase:I.requireUppercase??!0,requireLowercase:I.requireLowercase??!0,requireNumbers:I.requireNumbers??!0,requireSpecialChars:I.requireSpecialChars??!1,passwordExpiry:I.passwordExpiry||90}))}const T=E(k,"systemSettings/loginSecurity"),N=await S(T);if(N.exists()){const I=N.val();l(w=>({...w,enableAccountLockout:I.enableAccountLockout??!0,maxLoginAttempts:I.maxLoginAttempts||5,lockoutDuration:I.lockoutDuration||30}))}}catch(E){console.error("Error loading settings:",E)}const h=localStorage.getItem("adminSettings");if(h){const E=JSON.parse(h),{firstName:S,lastName:k,profilePicture:R,...C}=E;l(T=>({...T,...C}))}const g=localStorage.getItem("darkMode")==="true";l(E=>({...E,darkMode:g}))})()},[e]);const p=(b,h)=>{l(g=>({...g,[b]:h}))},x=async b=>{const h=b.target.files[0];if(h){d(!0);try{const E=await(await Me(()=>Promise.resolve().then(()=>ld),void 0)).default.uploadProfilePicture(h);l(k=>({...k,profilePicture:E.url}));const S={...n,profilePicture:E.url};r(S),localStorage.setItem("user",JSON.stringify(S)),f({text:"Profile picture uploaded successfully!",type:"success"}),setTimeout(()=>f({text:"",type:""}),3e3)}catch{f({text:"Failed to upload image",type:"error"}),setTimeout(()=>f({text:"",type:""}),3e3)}finally{d(!1)}}},v=async()=>{d(!0);try{if(i==="profile"){const{ref:b,update:h}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:g}=await Me(()=>Promise.resolve().then(()=>or),void 0),E=b(g,`${n.role}/${n.username.toLowerCase()}`);await h(E,{firstName:s.firstName,lastName:s.lastName,profilePicture:s.profilePicture});const S={...n,firstName:s.firstName,lastName:s.lastName,profilePicture:s.profilePicture};r(S),localStorage.setItem("user",JSON.stringify(S)),l(k=>({...k,firstName:s.firstName,lastName:s.lastName,profilePicture:s.profilePicture}))}else if(i==="password"){const{ref:b,set:h}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:g}=await Me(()=>Promise.resolve().then(()=>or),void 0),E=b(g,"systemSettings/passwordPolicies");await h(E,{minPasswordLength:s.minPasswordLength,requireUppercase:s.requireUppercase,requireLowercase:s.requireLowercase,requireNumbers:s.requireNumbers,requireSpecialChars:s.requireSpecialChars,passwordExpiry:s.passwordExpiry,updatedAt:new Date().toISOString(),updatedBy:(n==null?void 0:n.username)||"Admin"})}else if(i==="security"){const{ref:b,set:h}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:g}=await Me(()=>Promise.resolve().then(()=>or),void 0),E=b(g,"systemSettings/loginSecurity");await h(E,{enableAccountLockout:s.enableAccountLockout,maxLoginAttempts:s.maxLoginAttempts,lockoutDuration:s.lockoutDuration,updatedAt:new Date().toISOString(),updatedBy:(n==null?void 0:n.username)||"Admin"})}else localStorage.setItem("adminSettings",JSON.stringify(s));f({text:"Settings saved successfully!",type:"success"}),setTimeout(()=>{f({text:"",type:""}),i==="profile"&&t()},1500)}catch(b){console.error("Error saving settings:",b),f({text:"Failed to save settings",type:"error"})}finally{d(!1)}},y=[{id:"profile",label:"Profile",icon:vt},{id:"password",label:"Password Policies",icon:Fp},{id:"security",label:"Login Security",icon:l1}];return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{style:{background:"#f8fafc",borderRadius:16,width:"90vw",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"}},o.createElement("div",{style:{padding:"32px"}},o.createElement("div",{style:{marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("div",null,o.createElement("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"}},"Settings"),o.createElement("p",{style:{color:"#6b7280",margin:0}},"Manage your system preferences and security settings")),o.createElement("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"#6b7280"}},"✕")),o.createElement("div",{style:{display:"flex",gap:"24px"}},o.createElement("div",{style:{width:"240px",background:"#fff",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb",height:"fit-content"}},y.map(b=>{const h=b.icon;return o.createElement("button",{key:b.id,onClick:()=>a(b.id),style:{width:"100%",padding:"12px 16px",border:"none",background:i===b.id?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",color:i===b.id?"#ffffff":"#6b7280",borderRadius:"8px",cursor:"pointer",marginBottom:"4px",display:"flex",alignItems:"center",gap:"12px",fontSize:"0.875rem",fontWeight:"500",textAlign:"left",boxShadow:i===b.id?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",transition:"all 0.2s ease"}},o.createElement(h,{size:16}),b.label)})),o.createElement("div",{style:{flex:1,background:"#fff",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"}},i==="profile"&&o.createElement("div",null,o.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 24px 0"}},"Profile Settings"),o.createElement("div",{style:{marginBottom:"24px",textAlign:"center"}},o.createElement("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:s.profilePicture?`url(${s.profilePicture})`:"#e5e7eb",backgroundSize:"cover",backgroundPosition:"center",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #f3f4f6"}},!s.profilePicture&&o.createElement(vt,{size:48,color:"#9ca3af"})),o.createElement("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",color:"#374151"}},o.createElement(Ac,{size:16}),"Change Picture",o.createElement("input",{type:"file",accept:"image/*",onChange:x,style:{display:"none"}}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"First Name"),o.createElement("input",{type:"text",value:s.firstName||(n==null?void 0:n.firstName)||"",onChange:b=>p("firstName",b.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}})),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Last Name"),o.createElement("input",{type:"text",value:s.lastName||(n==null?void 0:n.lastName)||"",onChange:b=>p("lastName",b.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}})))),i==="password"&&o.createElement("div",null,o.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 24px 0"}},"Password Policies"),o.createElement("div",{style:{display:"grid",gap:"24px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Minimum Password Length"),o.createElement("input",{type:"number",min:"6",max:"20",value:s.minPasswordLength,onChange:b=>p("minPasswordLength",parseInt(b.target.value)),style:{width:"120px",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}})),o.createElement("div",null,o.createElement("h3",{style:{fontSize:"1rem",fontWeight:"500",color:"#374151",margin:"0 0 16px 0"}},"Password Requirements"),o.createElement("div",{style:{display:"grid",gap:"12px"}},[{key:"requireUppercase",label:"Require uppercase letters (A-Z)"},{key:"requireLowercase",label:"Require lowercase letters (a-z)"},{key:"requireNumbers",label:"Require numbers (0-9)"},{key:"requireSpecialChars",label:"Require special characters (!@#$%)"}].map(({key:b,label:h})=>o.createElement("label",{key:b,style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"}},o.createElement("input",{type:"checkbox",checked:s[b],onChange:g=>p(b,g.target.checked),style:{width:"16px",height:"16px"}}),o.createElement("span",{style:{fontSize:"0.875rem",color:"#374151"}},h))))),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Password Expiry (days)"),o.createElement("input",{type:"number",min:"30",max:"365",value:s.passwordExpiry,onChange:b=>p("passwordExpiry",parseInt(b.target.value)),style:{width:"120px",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}}),o.createElement("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"4px 0 0 0"}},"Users will be required to change passwords after this period")))),i==="security"&&o.createElement("div",null,o.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 24px 0"}},"Login Security"),o.createElement("div",{style:{display:"grid",gap:"24px"}},o.createElement("div",null,o.createElement("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"}},o.createElement("input",{type:"checkbox",checked:s.enableAccountLockout,onChange:b=>p("enableAccountLockout",b.target.checked),style:{width:"16px",height:"16px"}}),o.createElement("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"}},"Enable Account Lockout"))),s.enableAccountLockout&&o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Maximum Login Attempts"),o.createElement("input",{type:"number",min:"3",max:"10",value:s.maxLoginAttempts,onChange:b=>p("maxLoginAttempts",parseInt(b.target.value)),style:{width:"120px",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}}),o.createElement("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"4px 0 0 0"}},"Account will be locked after this many failed attempts")),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Lockout Duration (minutes)"),o.createElement("input",{type:"number",min:"5",max:"120",value:s.lockoutDuration,onChange:b=>p("lockoutDuration",parseInt(b.target.value)),style:{width:"120px",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}}),o.createElement("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"4px 0 0 0"}},"How long the account remains locked"))))),o.createElement("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},u.text&&o.createElement("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",background:u.type==="success"?"#f0fdf4":"#fef2f2",color:u.type==="success"?"#059669":"#dc2626",border:`1px solid ${u.type==="success"?"#bbf7d0":"#fecaca"}`}},u.text),o.createElement("button",{onClick:v,disabled:c,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"500",cursor:c?"not-allowed":"pointer",opacity:c?.7:1,boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",transition:"all 0.2s ease"}},o.createElement(Oc,{size:16}),c?"Saving...":"Save Settings")))))))},dR=m.createContext(),db=({children:e,module:t="admin"})=>{const[n,r]=m.useState(!1),[i,a]=m.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null});m.useEffect(()=>{(async()=>{if(i!=null&&i.username)try{const{ref:c,get:d}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:u}=await Me(()=>Promise.resolve().then(()=>or),void 0),f=i.username.toLowerCase().replace(/[^a-z0-9]/g,""),p=c(u,`userPreferences/${f}/darkMode_${t}`),x=await d(p);x.exists()&&r(x.val())}catch(c){console.error("Error loading dark mode preference:",c)}})()},[i,t]),m.useEffect(()=>{const l=`dark-${t}`;n?(document.documentElement.classList.add(l),document.body.classList.add(l)):(document.documentElement.classList.remove(l),document.body.classList.remove(l))},[n,t]);const s=async()=>{const l=!n;if(r(l),i!=null&&i.username)try{const{ref:c,set:d}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:u}=await Me(()=>Promise.resolve().then(()=>or),void 0),f=i.username.toLowerCase().replace(/[^a-z0-9]/g,""),p=c(u,`userPreferences/${f}/darkMode_${t}`);await d(p,l)}catch(c){console.error("Error saving dark mode preference:",c)}};return o.createElement(dR.Provider,{value:{darkMode:n,toggleDarkMode:s}},e)},ia=()=>window.innerWidth<=768,ue={padding:(e,t=e)=>ia()?e:t,fontSize:(e,t=e)=>ia()?e:t,size:(e,t=e)=>ia()?e:t,gridCols:(e,t=e)=>ia()?e:t,gap:(e,t=e)=>ia()?e:t},uR=()=>{const{user:e,setUser:t}=Rn(),[n,r]=m.useState(!1),[i,a]=m.useState(!1),[s,l]=m.useState(!1),c=m.useRef(null),d=m.useRef(null),u=Dt();m.useEffect(()=>{function v(y){c.current&&!c.current.contains(y.target)&&r(!1),d.current&&!d.current.contains(y.target)&&a(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const f=()=>{t(null),localStorage.removeItem("user"),console.log("User after logout (context):",e),console.log("User in localStorage after logout:",localStorage.getItem("user")),window.location.replace("/login")},[p,x]=m.useState(window.innerWidth<=768);return o.createElement(db,{module:"admin"},o.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},o.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:ue.size(56,64),background:"#fff",borderBottom:"1px solid #ececec",padding:ue.padding("0 16px","0 32px"),position:"relative",flexShrink:0,borderRadius:0,width:"100vw",boxSizing:"border-box"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},o.createElement("img",{src:"/assets/infinitylogo.png",alt:"infinitysalon",style:{height:ue.size("32px","40px"),width:"auto"}}),o.createElement("button",{onClick:()=>x(!p),style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:v=>v.target.style.background="#f0f0f0",onMouseLeave:v=>v.target.style.background="none"},o.createElement(Lc,{size:20,color:"#666"}))),o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement(od,{role:"Admin",style:{marginRight:"20px"}}),o.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:d},o.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>a(v=>!v)},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:40,height:40,borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:24,color:"#fff"}))),i&&o.createElement("div",{style:{position:"absolute",right:0,top:44,background:"#fff",border:"1px solid #ececec",borderRadius:10,minWidth:200,zIndex:10,boxShadow:"none",padding:"12px 0"}},o.createElement("div",{style:{padding:"0 16px 10px 16px",borderBottom:"1px solid #f0f0f0",marginBottom:8}},o.createElement("div",{style:{fontWeight:700,color:"#222",fontSize:16}},e==null?void 0:e.firstName," ",e==null?void 0:e.lastName),o.createElement("div",{style:{fontSize:13,color:"#6b7280",fontWeight:500,marginTop:2}},(e==null?void 0:e.role)||"Admin")),o.createElement("button",{onClick:()=>{l(!0),a(!1)},style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},o.createElement(Mc,{style:{marginRight:8}})," Settings"),o.createElement("button",{onClick:f,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},o.createElement(zc,{style:{marginRight:8}})," Logout"))))),o.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},!p&&o.createElement("div",{className:"sidebar",style:{width:window.innerWidth<=768?"100%":"220px",background:"#ffffff",borderRight:window.innerWidth<=768?"none":"1px solid #ececec",padding:ue.padding("16px 0","32px 0 24px 0"),borderRadius:0,minWidth:window.innerWidth<=768?"auto":"180px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"stretch",boxShadow:window.innerWidth<=768?"0 2px 10px rgba(0,0,0,0.1)":"none",margin:0,minHeight:0,overflowY:"auto",maxHeight:window.innerWidth<=768?"calc(100vh - 56px)":"calc(100vh - 124px)",position:window.innerWidth<=768?"fixed":"static",top:window.innerWidth<=768?"56px":"auto",left:window.innerWidth<=768?0:"auto",zIndex:window.innerWidth<=768?1e3:"auto"}},o.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:ue.size(16,32),padding:"0 12px"}},o.createElement("div",{className:"user-profile",style:{display:"flex",alignItems:"center",gap:ue.gap(12,16),padding:ue.padding("16px","20px 16px"),background:"#f8fafc",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:ue.size(40,48),height:ue.size(40,48),borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:ue.size(40,48),height:ue.size(40,48),borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:ue.size(20,28),color:"#fff"})),o.createElement("div",{className:"user-info",style:{display:"flex",flexDirection:"column",justifyContent:"center",minWidth:0}},o.createElement("div",{className:"user-name",style:{fontWeight:700,fontSize:ue.fontSize(16,18),color:"#111827",lineHeight:"1.2",whiteSpace:"normal",maxHeight:"2.4em",overflow:"hidden"}},e==null?void 0:e.firstName," ",e==null?void 0:e.lastName),o.createElement("div",{className:"user-role",style:{fontSize:ue.fontSize(12,13),color:"#6b7280",fontWeight:500,marginTop:2}},(e==null?void 0:e.role)||"Admin")))),o.createElement("nav",{className:"navigation",style:{display:"flex",flexDirection:"column",gap:8,marginTop:10,minHeight:0,padding:"0 12px"}},o.createElement(Wn,{to:"/admin",className:`nav-item${u.pathname==="/admin"?" active":""}`,style:{padding:ue.padding("12px 16px","14px 20px"),fontWeight:600,borderRadius:12,color:u.pathname==="/admin"?"#fff":"#374151",background:u.pathname==="/admin"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:u.pathname==="/admin"?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:ue.fontSize(14,15)}},o.createElement(Dc,{size:ue.size(18,20),style:{marginRight:ue.gap(10,14)}}),"Dashboard"),o.createElement(Wn,{to:"/admin/approval",className:`nav-item${u.pathname==="/admin/approval"?" active":""}`,style:{padding:ue.padding("12px 16px","14px 20px"),fontWeight:600,borderRadius:12,color:u.pathname==="/admin/approval"?"#fff":"#374151",background:u.pathname==="/admin/approval"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:u.pathname==="/admin/approval"?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:ue.fontSize(14,15)}},o.createElement(Hn,{size:ue.size(18,20),style:{marginRight:ue.gap(10,14)}}),"Approval of Accounts"),o.createElement(Wn,{to:"/admin/manage",className:`nav-item${u.pathname==="/admin/manage"?" active":""}`,style:{padding:ue.padding("12px 16px","14px 20px"),fontWeight:600,borderRadius:12,color:u.pathname==="/admin/manage"?"#fff":"#374151",background:u.pathname==="/admin/manage"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:u.pathname==="/admin/manage"?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:ue.fontSize(14,15)}},o.createElement(Vl,{size:ue.size(18,20),style:{marginRight:ue.gap(10,14)}}),"Manage Accounts"),o.createElement(Wn,{to:"/admin/socials",className:`nav-item${u.pathname==="/admin/socials"?" active":""}`,style:{padding:ue.padding("12px 16px","14px 20px"),fontWeight:600,borderRadius:12,color:u.pathname==="/admin/socials"?"#fff":"#374151",background:u.pathname==="/admin/socials"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:u.pathname==="/admin/socials"?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:ue.fontSize(14,15)}},o.createElement(ow,{size:ue.size(18,20),style:{marginRight:ue.gap(10,14)}}),"Socials & Insights"),o.createElement(Wn,{to:"/admin/posted-contents",className:`nav-item${u.pathname==="/admin/posted-contents"?" active":""}`,style:{padding:ue.padding("12px 16px","14px 20px"),fontWeight:600,borderRadius:12,color:u.pathname==="/admin/posted-contents"?"#fff":"#374151",background:u.pathname==="/admin/posted-contents"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:u.pathname==="/admin/posted-contents"?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:ue.fontSize(14,15)}},o.createElement(Wc,{size:ue.size(18,20),style:{marginRight:ue.gap(10,14)}}),"Posted Contents"))),o.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column",background:"#fff",borderRadius:0,margin:0,boxShadow:"none",padding:"0 0 0 0"}},o.createElement("div",{className:"content-area",style:{flex:1,padding:ue.padding("16px","24px"),overflowY:"auto"}},o.createElement(cs,null)))),o.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},o.createElement("div",{className:"admin-dashboard-footer-container"},o.createElement("div",{className:"admin-dashboard-footer-left"},o.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})))),o.createElement(cR,{isOpen:s,onClose:()=>l(!1)})))};const fR=({isOpen:e,onClose:t})=>{if(!e)return null;const{user:n,setUser:r}=Rn(),[i,a]=m.useState("profile"),[s,l]=m.useState({firstName:"",lastName:"",profilePicture:null}),[c,d]=m.useState(!1),[u,f]=m.useState({text:"",type:""});m.useEffect(()=>{n&&l(b=>({...b,firstName:n.firstName||"",lastName:n.lastName||"",profilePicture:n.profilePicture||null}))},[n,e]);const p=(b,h)=>{l(g=>({...g,[b]:h}))},x=async b=>{const h=b.target.files[0];if(h){d(!0);try{const E=await(await Me(()=>Promise.resolve().then(()=>ld),void 0)).default.uploadProfilePicture(h);l(k=>({...k,profilePicture:E.url}));const S={...n,profilePicture:E.url};r(S),localStorage.setItem("user",JSON.stringify(S)),f({text:"Profile picture uploaded successfully!",type:"success"}),setTimeout(()=>f({text:"",type:""}),3e3)}catch{f({text:"Failed to upload image",type:"error"}),setTimeout(()=>f({text:"",type:""}),3e3)}finally{d(!1)}}},v=async()=>{d(!0);try{if(i==="profile"){const{ref:b,update:h}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:g}=await Me(()=>Promise.resolve().then(()=>or),void 0),E=b(g,`${n.role}/${n.username.toLowerCase()}`);await h(E,{firstName:s.firstName,lastName:s.lastName,profilePicture:s.profilePicture});const S={...n,firstName:s.firstName,lastName:s.lastName,profilePicture:s.profilePicture};r(S)}f({text:"Settings saved successfully!",type:"success"}),setTimeout(()=>{f({text:"",type:""}),i==="profile"&&t()},1500)}catch(b){console.error("Error saving settings:",b),f({text:"Failed to save settings",type:"error"})}finally{d(!1)}},y=[{id:"profile",label:"Profile",icon:vt}];return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{style:{background:"#f8fafc",borderRadius:16,width:"90vw",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"}},o.createElement("div",{style:{padding:"32px"}},o.createElement("div",{style:{marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("div",null,o.createElement("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"}},"Settings"),o.createElement("p",{style:{color:"#6b7280",margin:0}},"Manage your profile and preferences")),o.createElement("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"#6b7280"}},"✕")),o.createElement("div",{style:{display:"flex",gap:"24px"}},o.createElement("div",{style:{width:"240px",background:"#fff",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb",height:"fit-content"}},y.map(b=>{const h=b.icon;return o.createElement("button",{key:b.id,onClick:()=>a(b.id),style:{width:"100%",padding:"12px 16px",border:"none",background:i===b.id?"#2563eb":"transparent",color:i===b.id?"#ffffff":"#6b7280",borderRadius:"8px",cursor:"pointer",marginBottom:"4px",display:"flex",alignItems:"center",gap:"12px",fontSize:"0.875rem",fontWeight:"500",textAlign:"left"}},o.createElement(h,{size:16}),b.label)})),o.createElement("div",{style:{flex:1,background:"#fff",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"}},i==="profile"&&o.createElement("div",null,o.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 24px 0"}},"Profile Settings"),o.createElement("div",{style:{marginBottom:"24px",textAlign:"center"}},o.createElement("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:s.profilePicture?`url(${s.profilePicture})`:"#e5e7eb",backgroundSize:"cover",backgroundPosition:"center",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #f3f4f6"}},!s.profilePicture&&o.createElement(vt,{size:48,color:"#9ca3af"})),o.createElement("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",color:"#374151"}},o.createElement(Ac,{size:16}),"Change Picture",o.createElement("input",{type:"file",accept:"image/*",onChange:x,style:{display:"none"}}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"First Name"),o.createElement("input",{type:"text",value:s.firstName||(n==null?void 0:n.firstName)||"",onChange:b=>p("firstName",b.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}})),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Last Name"),o.createElement("input",{type:"text",value:s.lastName||(n==null?void 0:n.lastName)||"",onChange:b=>p("lastName",b.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}})))),o.createElement("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},u.text&&o.createElement("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",background:u.type==="success"?"#f0fdf4":"#fef2f2",color:u.type==="success"?"#059669":"#dc2626",border:`1px solid ${u.type==="success"?"#bbf7d0":"#fecaca"}`}},u.text),o.createElement("button",{onClick:v,disabled:c,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"500",cursor:c?"not-allowed":"pointer",opacity:c?.7:1}},o.createElement(Oc,{size:16}),c?"Saving...":"Save Settings")))))))},pR=[{label:"Dashboard",path:"/marketing/dashboard",icon:Dc},{label:"Content Calendar",path:"/marketing/content-calendar",icon:ds},{label:"Set Task",hasDropdown:!0,icon:Pc,subItems:[{label:"Content Creator",path:"/marketing/set-task",icon:lw},{label:"Graphic Designer",path:"/marketing/set-task-graphic-designer",icon:uw}]},{label:"Ongoing Task",path:"/marketing/ongoing-task",icon:us},{label:"Approval of Contents",path:"/marketing/approval",icon:Hn},{label:"Approved Contents",path:"/marketing/approved",icon:fw},{label:"Posting",path:"/marketing/posting",icon:jt},{label:"Posted Contents",path:"/marketing/posted-contents",icon:Wc}];function hR(){const{user:e,setUser:t}=Rn(),[n,r]=m.useState(!1),[i,a]=m.useState(!1),[s,l]=m.useState(!1),[c,d]=m.useState(!1),u=m.useRef(null),f=m.useRef(null),p=Dt(),x=et();m.useEffect(()=>{function y(b){u.current&&!u.current.contains(b.target)&&r(!1),f.current&&!f.current.contains(b.target)&&a(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const v=()=>{t(null),localStorage.removeItem("user"),window.location.replace("/login")};return o.createElement(db,{module:"marketing"},o.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},o.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:64,background:"#fff",borderBottom:"1px solid #ececec",padding:"0 32px",position:"relative",flexShrink:0,borderRadius:0,width:"100vw",boxSizing:"border-box"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},o.createElement("img",{src:"/assets/infinitylogo.png",alt:"infinitysalon",style:{height:"40px",width:"auto"}}),o.createElement("button",{onClick:()=>l(!s),style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:y=>y.target.style.background="#f0f0f0",onMouseLeave:y=>y.target.style.background="none"},o.createElement(Lc,{size:20,color:"#666"}))),o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement(od,{role:"MarketingLead",style:{marginRight:"20px"}}),o.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:u},o.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>r(y=>!y)},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:40,height:40,borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:24,color:"#fff"}))),n&&o.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",borderRadius:8,minWidth:200,zIndex:10,padding:"12px 0"}},o.createElement("div",{style:{padding:"0 16px 10px 16px",borderBottom:"1px solid #f0f0f0",marginBottom:8}},o.createElement("div",{style:{fontWeight:700,color:"#222",fontSize:16}},(e==null?void 0:e.firstName)||"Marketing"," ",(e==null?void 0:e.lastName)||"Lead"),o.createElement("div",{style:{fontSize:13,color:"#6b7280",fontWeight:500,marginTop:2}},(e==null?void 0:e.role)||"Marketing Lead")),o.createElement("button",{onClick:()=>{d(!0),r(!1)},style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},o.createElement(Mc,{style:{marginRight:8}})," Settings"),o.createElement("button",{onClick:v,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},o.createElement(zc,{style:{marginRight:8}})," Logout"))))),o.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},!s&&o.createElement("div",{className:"sidebar",style:{width:"220px",background:"#ffffff",borderRight:"1px solid #ececec",padding:"32px 0 24px 0",borderRadius:0,minWidth:"180px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"stretch",boxShadow:"none",margin:0,minHeight:0,overflowY:"auto",maxHeight:"calc(100vh - 124px)"}},o.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:32,padding:"0 12px"}},o.createElement("div",{className:"user-profile",style:{display:"flex",alignItems:"center",gap:16,padding:"20px 16px",background:"#f8fafc",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:48,height:48,borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:48,height:48,borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:28,color:"#fff"})),o.createElement("div",{className:"user-info",style:{display:"flex",flexDirection:"column",justifyContent:"center",minWidth:0}},o.createElement("div",{className:"user-name",style:{fontWeight:700,fontSize:17,color:"#222",lineHeight:"1.2",whiteSpace:"normal",maxHeight:"2.4em",overflow:"hidden"}},(e==null?void 0:e.firstName)||"Marketing"," ",(e==null?void 0:e.lastName)||"Lead"),o.createElement("div",{className:"user-role",style:{fontSize:13,color:"#6b7280",fontWeight:500,marginTop:2}},(e==null?void 0:e.role)||"Marketing Lead")))),o.createElement("nav",{className:"navigation",style:{display:"flex",flexDirection:"column",gap:8,marginTop:10,minHeight:0,padding:"0 12px"}},pR.map((y,b)=>o.createElement("div",{key:y.path||b,style:{position:"relative"}},y.hasDropdown?o.createElement("div",{ref:f},o.createElement("button",{onClick:()=>a(!i),className:`nav-item${p.pathname==="/marketing/set-task"||p.pathname==="/marketing/set-task-graphic-designer"?" active":""}`,style:{width:"100%",padding:"12px 24px",fontWeight:600,borderRadius:8,color:p.pathname==="/marketing/set-task"||p.pathname==="/marketing/set-task-graphic-designer"?"#fff":"#222",background:p.pathname==="/marketing/set-task"||p.pathname==="/marketing/set-task-graphic-designer"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"none",marginBottom:4,textDecoration:"none",transition:"background 0.2s, color 0.2s",display:"flex",alignItems:"center",justifyContent:"space-between",border:"none",cursor:"pointer",boxShadow:p.pathname==="/marketing/set-task"||p.pathname==="/marketing/set-task-graphic-designer"?"0 4px 12px rgba(245, 158, 11, 0.3)":"none"}},o.createElement(y.icon,{size:18,style:{marginRight:12}}),y.label,o.createElement(sw,{size:16,style:{transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease",marginLeft:"auto"}})),i&&o.createElement("div",{style:{background:"#f8fafc",borderRadius:8,marginTop:8,marginBottom:8}},y.subItems.map(h=>o.createElement("button",{key:h.path,onClick:()=>{x(h.path)},style:{width:"100%",padding:"10px 20px",border:"none",background:p.pathname===h.path?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",color:p.pathname===h.path?"#fff":"#6b7280",textAlign:"left",cursor:"pointer",fontSize:14,fontWeight:500,display:"flex",alignItems:"center",gap:8,transition:"all 0.2s ease",borderRadius:6,margin:"4px 8px",boxShadow:p.pathname===h.path?"0 2px 6px rgba(245, 158, 11, 0.2)":"none"}},o.createElement(h.icon,{size:16}),h.label)))):o.createElement(Wn,{to:y.path,onClick:()=>a(!1),className:`nav-item${p.pathname===y.path?" active":""}`,style:{padding:"14px 20px",fontWeight:600,borderRadius:12,color:p.pathname===y.path?"#fff":"#374151",background:p.pathname===y.path?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:p.pathname===y.path?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:15}},o.createElement(y.icon,{size:18,style:{marginRight:12}}),y.label))))),o.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column",background:"#fff",borderRadius:0,margin:0,boxShadow:"none",padding:"0 0 0 0"}},o.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},o.createElement(cs,null)))),o.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},o.createElement("div",{className:"admin-dashboard-footer-container"},o.createElement("div",{className:"admin-dashboard-footer-left"},o.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})))),o.createElement(fR,{isOpen:c,onClose:()=>d(!1)})))}const l0=()=>{const[e,t]=m.useState({pendingContent:0,approvedContent:0,ongoingTasks:0,postedContent:0,recentActivity:[]}),[n,r]=m.useState(!0);m.useEffect(()=>{i()},[]);const i=async()=>{var s,l;try{const d=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/stage/marketinglead")).json();let u=0,f=0,p=0;if(d.status==="success"){const R=d.data||[];u=R.filter(C=>C.status==="content_approval").length,f=R.filter(C=>C.status==="ready_for_design_assignment").length,p=R.filter(C=>C.status==="posted").length}const[x,v]=await Promise.all([fetch("http://localhost:3000/api/v1/tasks/marketing/content-creator/task"),fetch("http://localhost:3000/api/v1/tasks/marketing/graphic-designer/task")]),y=await x.json(),b=await v.json(),h=(((s=y.data)==null?void 0:s.length)||0)+(((l=b.data)==null?void 0:l.length)||0),g=we(Ce,"notification/marketing"),S=(await an(g)).val(),k=S?Object.values(S).sort((R,C)=>new Date(C.timestamp)-new Date(R.timestamp)).slice(0,5):[];t({pendingContent:u,approvedContent:f,ongoingTasks:h,postedContent:p,recentActivity:k})}catch(c){console.error("Error fetching dashboard data:",c)}finally{r(!1)}};if(n)return o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",null,"Loading dashboard..."));const a=({icon:s,title:l,value:c,badge:d,color:u="blue"})=>o.createElement("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-2px)",f.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:u==="blue"?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":u==="green"?"linear-gradient(135deg, #10b981 0%, #059669 100%)":u==="orange"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},o.createElement(s,{size:28})),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"500",color:"#6b7280",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"}},l))),o.createElement("span",{style:{background:u==="blue"?"#dbeafe":u==="green"?"#d1fae5":u==="orange"?"#fed7aa":"#e0e7ff",color:u==="blue"?"#1e40af":u==="green"?"#065f46":u==="orange"?"#9a3412":"#5b21b6",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"}},d)),o.createElement("div",{style:{fontSize:"36px",fontWeight:"800",color:"#111827",marginBottom:"8px",lineHeight:"1"}},c));return o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Marketing Lead Dashboard"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Overview of your content management and marketing activities")),o.createElement("div",{style:Xe.statsGrid},o.createElement(a,{icon:jt,title:"Pending Content",value:e.pendingContent,badge:"PENDING",color:"orange"}),o.createElement(a,{icon:Hn,title:"Approved Content",value:e.approvedContent,badge:"APPROVED",color:"green"}),o.createElement(a,{icon:Hl,title:"Ongoing Tasks",value:e.ongoingTasks,badge:"ACTIVE",color:"blue"}),o.createElement(a,{icon:jp,title:"Posted Content",value:e.postedContent,badge:"POSTED",color:"purple"})),o.createElement("div",{style:Xe.twoColumnGrid},o.createElement("div",{style:Xe.card},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"}},"Content Overview"),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"}},"Content Awaiting Approval"),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},"Needs review")),o.createElement("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#f59e0b",minWidth:"40px",textAlign:"right"}},e.pendingContent)),o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"}},"Tasks in Progress"),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},"Currently active")),o.createElement("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#3b82f6",minWidth:"40px",textAlign:"right"}},e.ongoingTasks)),o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"}},"Content Published"),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},"Live content")),o.createElement("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#10b981",minWidth:"40px",textAlign:"right"}},e.postedContent)))),o.createElement("div",{style:Xe.card},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"}},"Recent Activity"),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},e.recentActivity.length>0?e.recentActivity.map((s,l)=>o.createElement("div",{key:l,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:s.read?"#6b7280":"#3b82f6"}}),o.createElement("div",{style:{flex:1}},o.createElement("div",{style:{fontSize:"0.875rem",color:"#374151",fontWeight:"500"}},s.message),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},new Date(s.timestamp).toLocaleString())))):o.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#9ca3af",fontSize:"14px"}},"No recent activity")))))};function gR(){const e=et(),[t,n]=m.useState(null),[r,i]=m.useState(new Date().getMonth()),[a,s]=m.useState(new Date().getFullYear()),[l,c]=m.useState(null),[d,u]=m.useState({x:0,y:0}),[f,p]=m.useState({}),[x,v]=m.useState(!0);m.useEffect(()=>{const w=async()=>{try{const _={},P=we(Ce,"workflows"),B=await an(P);B.exists()&&Object.entries(B.val()).forEach(([ce,H])=>{if(H.status==="content_creation"||H.status==="design_creation"){const J=H.deadline||H.createdAt,V=y(J);_[V]||(_[V]=[]),_[V].push({id:ce,type:"ongoing",title:H.objectives||"Content Task",status:H.status,description:`Target: ${H.gender||"All"}, Age: ${H.minAge||0}-${H.maxAge||100}`,deadline:H.deadline})}});const M=we(Ce,"workflows"),A=await an(M);A.exists()&&Object.entries(A.val()).forEach(([ce,H])=>{if(H.status==="content_approval"||H.status==="design_approval"){const J=H.deadline||H.updatedAt,V=y(J);_[V]||(_[V]=[]),_[V].push({id:ce,type:"approval",title:H.objectives||"Pending Approval",status:"pending",description:`Awaiting ${H.status==="content_approval"?"content":"design"} approval`,submittedBy:H.contentCreator?"Content Creator":"Graphic Designer"})}});const O=we(Ce,"workflows"),F=await an(O);F.exists()&&Object.entries(F.val()).forEach(([ce,H])=>{var J,V,re;if(H.status==="ready_for_design_assignment"){const he=H.deadline||((J=H.marketingApproval)==null?void 0:J.approvedAt)||H.updatedAt,xe=y(he);_[xe]||(_[xe]=[]),_[xe].push({id:ce,type:"approved",title:H.objectives||"Approved Content",status:"ready",description:`Approved by ${((V=H.marketingApproval)==null?void 0:V.approvedBy)||"Marketing Lead"}`,approvedAt:(re=H.marketingApproval)==null?void 0:re.approvedAt})}});const Y=we(Ce,"workflows"),ee=await an(Y);ee.exists()&&Object.entries(ee.val()).forEach(([ce,H])=>{var J,V;if(H.status==="posted"){const re=((J=H.finalApproval)==null?void 0:J.postedAt)||H.updatedAt,he=y(re);_[he]||(_[he]=[]),_[he].push({id:ce,type:"scheduled",title:H.objectives||"Posted Content",status:"published",time:new Date(re).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),description:`Published at ${new Date(re).toLocaleTimeString()}`,publishedBy:((V=H.finalApproval)==null?void 0:V.approvedBy)||"System"})}}),p(_)}catch(_){console.error("Error fetching calendar data:",_)}finally{v(!1)}};w();const D=we(Ce,"workflows"),W=_s(D,()=>{w()});return()=>W()},[]);const y=w=>{const D=new Date(w);return`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}-${String(D.getDate()).padStart(2,"0")}`},b=["January","February","March","April","May","June","July","August","September","October","November","December"],h=(w,D)=>new Date(D,w+1,0).getDate(),g=(w,D)=>new Date(D,w,1).getDay(),E=w=>`${a}-${String(r+1).padStart(2,"0")}-${String(w).padStart(2,"0")}`,S=w=>{const D=E(w);return(f[D]||[]).slice(0,3).map(_=>o.createElement("div",{key:_.id,style:{fontSize:"10px",fontWeight:"600",padding:"2px 6px",borderRadius:"4px",marginBottom:"2px",textAlign:"center",background:_.type==="ongoing"?"#fef3c7":_.type==="approval"?"#dbeafe":_.type==="approved"?"#d1fae5":_.type==="rejected"?"#fee2e2":_.type==="scheduled"?"#e9d5ff":"#f3f4f6"}},_.type==="ongoing"?"IN PROGRESS":_.type==="approval"?"PENDING":_.type==="approved"?"APPROVED":_.type==="rejected"?"REJECTED":_.type==="scheduled"?"POSTED":_.type.toUpperCase()))},k=w=>{const D=E(w);n(D)},R=()=>{n(null)},C=w=>{w==="prev"?r===0?(i(11),s(a-1)):i(r-1):r===11?(i(0),s(a+1)):i(r+1)},T=()=>{const w=h(r,a),D=g(r,a),W=new Date,_=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`,P=[];for(let B=0;B<D;B++)P.push(o.createElement("div",{key:`empty-${B}`,style:{minHeight:"120px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"}}));for(let B=1;B<=w;B++){const M=E(B),A=f[M]&&f[M].length>0,O=M<_;P.push(o.createElement("div",{key:B,style:{minHeight:"120px",padding:"8px",background:O?"#f9fafb":A?"#f0f9ff":"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:O?"not-allowed":"pointer",transition:"all 0.2s ease",position:"relative",opacity:O?.5:1},onClick:()=>!O&&k(B),onMouseEnter:F=>{if(!O){if(A){const Y=F.target.getBoundingClientRect();u({x:Y.left+Y.width/2,y:Y.top}),c(M)}F.target.style.background=A?"#dbeafe":"#f8fafc",F.target.style.transform="translateY(-1px)",F.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}},onMouseLeave:F=>{O||(c(null),F.target.style.background=A?"#f0f9ff":"#fff",F.target.style.transform="translateY(0)",F.target.style.boxShadow="none")}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:O?"#9ca3af":"#374151"}},B),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"2px",marginTop:"4px",maxHeight:"80px",overflow:"hidden"}},S(B))))}return P},N=()=>t?f[t]||[]:[],I=()=>{const w=new Date;return`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`};return x?o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",null,"Loading calendar...")):o.createElement("div",{className:"content-calendar"},o.createElement("div",{className:"calendar-header"},o.createElement("h2",null,"Content Calendar"),o.createElement("div",{className:"month-navigation"},o.createElement("button",{onClick:()=>C("prev")},"<"),o.createElement("div",{className:"date-selectors"},o.createElement("select",{value:r,onChange:w=>i(parseInt(w.target.value)),className:"month-selector"},b.map((w,D)=>o.createElement("option",{key:D,value:D},w))),o.createElement("select",{value:a,onChange:w=>s(parseInt(w.target.value)),className:"year-selector"},Array.from({length:10},(w,D)=>a-5+D).map(w=>o.createElement("option",{key:w,value:w},w)))),o.createElement("button",{onClick:()=>C("next")},">"))),o.createElement("div",{className:"legend"},o.createElement("div",{className:"legend-item"},o.createElement("span",{className:"indicator ongoing"}),o.createElement("span",null,"Ongoing Tasks")),o.createElement("div",{className:"legend-item"},o.createElement("span",{className:"indicator approval"}),o.createElement("span",null,"Pending Approval")),o.createElement("div",{className:"legend-item"},o.createElement("span",{className:"indicator approved"}),o.createElement("span",null,"Approved Content")),o.createElement("div",{className:"legend-item"},o.createElement("span",{className:"indicator rejected"}),o.createElement("span",null,"Rejected Content")),o.createElement("div",{className:"legend-item"},o.createElement("span",{className:"indicator scheduled"}),o.createElement("span",null,"Scheduled Posts"))),o.createElement("div",{className:"calendar-weekdays"},o.createElement("div",null,"Sun"),o.createElement("div",null,"Mon"),o.createElement("div",null,"Tue"),o.createElement("div",null,"Wed"),o.createElement("div",null,"Thu"),o.createElement("div",null,"Fri"),o.createElement("div",null,"Sat")),o.createElement("div",{className:"calendar-grid"},T()),l&&o.createElement("div",{style:{position:"fixed",left:d.x-150,top:d.y-10,width:"300px",background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 25px rgba(0,0,0,0.15)",zIndex:1e3,padding:"12px",transform:"translateY(-100%)"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",color:"#374151"}},l),(f[l]||[]).map(w=>o.createElement("div",{key:w.id,style:{padding:"6px 0",borderBottom:"1px solid #f3f4f6",fontSize:"12px"}},o.createElement("div",{style:{fontWeight:"500",color:"#111827"}},w.title),o.createElement("div",{style:{color:"#6b7280",marginTop:"2px"}},w.description),o.createElement("div",{style:{display:"inline-block",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"500",marginTop:"4px",background:w.type==="ongoing"?"#fef3c7":w.type==="approval"?"#dbeafe":w.type==="approved"?"#d1fae5":w.type==="rejected"?"#fee2e2":w.type==="scheduled"?"#e9d5ff":"#f3f4f6",color:w.type==="ongoing"?"#92400e":w.type==="approval"?"#1e40af":w.type==="approved"?"#065f46":w.type==="rejected"?"#991b1b":w.type==="scheduled"?"#5b21b6":"#374151"}},w.type==="ongoing"?"In Progress":w.type==="approval"?"Pending Review":w.type==="approved"?"Approved":w.type==="rejected"?"Rejected":w.type==="scheduled"?"Published":w.type)))),t&&o.createElement("div",{className:"modal-overlay",onClick:R,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{className:"date-modal",onClick:w=>w.stopPropagation(),style:{background:"#ffffff",borderRadius:"16px",padding:0,maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)",border:"1px solid #e5e7eb",fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',display:"flex",flexDirection:"column"}},o.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"24px 32px",display:"flex",alignItems:"center",justifyContent:"space-between",color:"#fff",borderRadius:"16px 16px 0 0"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},o.createElement("div",{style:{width:48,height:48,borderRadius:"12px",background:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"}},"📅"),o.createElement("div",null,o.createElement("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:600}},"Content for ",t),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",opacity:.9}},"Scheduled content and tasks"))),o.createElement("button",{onClick:R,style:{background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"12px",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff",fontSize:"18px"}},"×")),o.createElement("div",{style:{padding:"24px",overflowY:"auto",flex:1,background:"#fafbfc"}},N().length>0?o.createElement("div",{style:{display:"grid",gap:"16px"}},N().map(w=>o.createElement("div",{key:w.id,className:"text-bg",style:{display:"flex",alignItems:"center",padding:"18px 20px",background:"#ffffff",borderRadius:"12px",border:"1px solid #e5e7eb",gap:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.04)",transition:"all 0.2s ease"}},o.createElement("div",{style:{width:40,height:40,borderRadius:"10px",background:w.type==="ongoing"?"#fef3c7":w.type==="approval"?"#dbeafe":w.type==="approved"?"#d1fae5":w.type==="rejected"?"#fee2e2":w.type==="scheduled"?"#e9d5ff":"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"}},w.type==="ongoing"?"⏳":w.type==="approval"?"👀":w.type==="approved"?"✅":w.type==="rejected"?"❌":w.type==="scheduled"?"🚀":"📋"),o.createElement("div",{className:"text-bg",style:{flex:1}},o.createElement("div",{className:"text-bg",style:{fontSize:"0.8rem",color:"#8b9dc3",fontWeight:500,marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"}},w.type.replace("-"," ")),o.createElement("div",{className:"text-bg",style:{fontSize:"1rem",color:"#2d3748",fontWeight:600,marginBottom:"2px"}},w.title),w.description&&o.createElement("div",{className:"text-bg",style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:1.4}},w.description),w.time&&o.createElement("div",{className:"text-bg",style:{fontSize:"0.75rem",color:"#667eea",fontWeight:500,marginTop:"4px"}},"📅 ",w.time))))):o.createElement("div",{style:{textAlign:"center",padding:"40px 20px",background:"#ffffff",borderRadius:"12px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"📅"),o.createElement("h4",{className:"text-bg",style:{color:"#6b7280",fontSize:"1.125rem",margin:"0 0 8px 0",fontWeight:500}},"No content scheduled"),o.createElement("p",{className:"text-bg",style:{color:"#9ca3af",margin:"0 0 20px 0",fontSize:"0.875rem"}},"No tasks or content found for this date"),t>=I()&&o.createElement("button",{onClick:()=>{e(`/marketing/set-task?date=${t}`),R()},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",padding:"12px 24px",borderRadius:"12px",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},onMouseEnter:w=>w.target.style.transform="translateY(-1px)",onMouseLeave:w=>w.target.style.transform="translateY(0)"},"📝 Set Task"),t<I()&&o.createElement("div",{style:{padding:"12px 24px",background:"#f3f4f6",color:"#6b7280",borderRadius:"12px",fontSize:"14px",fontWeight:600,textAlign:"center"}},"⏰ Cannot create tasks for past dates"))))))}const qn=Object.create(null);qn.open="0";qn.close="1";qn.ping="2";qn.pong="3";qn.message="4";qn.upgrade="5";qn.noop="6";const pl=Object.create(null);Object.keys(qn).forEach(e=>{pl[qn[e]]=e});const If={type:"error",data:"parser error"},ub=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fb=typeof ArrayBuffer=="function",pb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Rh=({type:e,data:t},n,r)=>ub&&t instanceof Blob?n?r(t):c0(t,r):fb&&(t instanceof ArrayBuffer||pb(t))?n?r(t):c0(new Blob([t]),r):r(qn[e]+(t||"")),c0=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function d0(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Jd;function mR(e,t){if(ub&&e.data instanceof Blob)return e.data.arrayBuffer().then(d0).then(t);if(fb&&(e.data instanceof ArrayBuffer||pb(e.data)))return t(d0(e.data));Rh(e,!1,n=>{Jd||(Jd=new TextEncoder),t(Jd.encode(n))})}const u0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",da=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<u0.length;e++)da[u0.charCodeAt(e)]=e;const yR=e=>{let t=e.length*.75,n=e.length,r,i=0,a,s,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(r=0;r<n;r+=4)a=da[e.charCodeAt(r)],s=da[e.charCodeAt(r+1)],l=da[e.charCodeAt(r+2)],c=da[e.charCodeAt(r+3)],u[i++]=a<<2|s>>4,u[i++]=(s&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},xR=typeof ArrayBuffer=="function",Th=(e,t)=>{if(typeof e!="string")return{type:"message",data:hb(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:vR(e.substring(1),t)}:pl[n]?e.length>1?{type:pl[n],data:e.substring(1)}:{type:pl[n]}:If},vR=(e,t)=>{if(xR){const n=yR(e);return hb(n,t)}else return{base64:!0,data:e}},hb=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},gb=String.fromCharCode(30),bR=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((a,s)=>{Rh(a,!1,l=>{r[s]=l,++i===n&&t(r.join(gb))})})},ER=(e,t)=>{const n=e.split(gb),r=[];for(let i=0;i<n.length;i++){const a=Th(n[i],t);if(r.push(a),a.type==="error")break}return r};function SR(){return new TransformStream({transform(e,t){mR(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Xd;function Qs(e){return e.reduce((t,n)=>t+n.length,0)}function Js(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function _R(e,t){Xd||(Xd=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(s,l){for(n.push(s);;){if(r===0){if(Qs(n)<1)break;const c=Js(n,1);a=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Qs(n)<2)break;const c=Js(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Qs(n)<8)break;const c=Js(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,53-32)-1){l.enqueue(If);break}i=u*Math.pow(2,32)+d.getUint32(4),r=3}else{if(Qs(n)<i)break;const c=Js(n,i);l.enqueue(Th(a?c:Xd.decode(c),t)),r=0}if(i===0||i>e){l.enqueue(If);break}}}})}const mb=4;function Ze(e){if(e)return wR(e)}function wR(e){for(var t in Ze.prototype)e[t]=Ze.prototype[t];return e}Ze.prototype.on=Ze.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ze.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ze.prototype.off=Ze.prototype.removeListener=Ze.prototype.removeAllListeners=Ze.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ze.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};Ze.prototype.emitReserved=Ze.prototype.emit;Ze.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ze.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ad=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),tn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),CR="arraybuffer";function yb(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const kR=tn.setTimeout,RR=tn.clearTimeout;function sd(e,t){t.useNativeTimers?(e.setTimeoutFn=kR.bind(tn),e.clearTimeoutFn=RR.bind(tn)):(e.setTimeoutFn=tn.setTimeout.bind(tn),e.clearTimeoutFn=tn.clearTimeout.bind(tn))}const TR=1.33;function IR(e){return typeof e=="string"?NR(e):Math.ceil((e.byteLength||e.size)*TR)}function NR(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function xb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function AR(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function PR(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class DR extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ih extends Ze{constructor(t){super(),this.writable=!1,sd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new DR(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Th(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=AR(t);return n.length?"?"+n:""}}class zR extends Ih{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ER(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,bR(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=xb()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let vb=!1;try{vb=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const LR=vb;function OR(){}class WR extends zR{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class $n extends Ze{constructor(t,n,r){super(),this.createRequest=t,sd(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=yb(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=$n.requestsCount++,$n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=OR,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$n.requestsCount=0;$n.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",f0);else if(typeof addEventListener=="function"){const e="onpagehide"in tn?"pagehide":"unload";addEventListener(e,f0,!1)}}function f0(){for(let e in $n.requests)$n.requests.hasOwnProperty(e)&&$n.requests[e].abort()}const MR=function(){const e=bb({xdomain:!1});return e&&e.responseType!==null}();class BR extends WR{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=MR&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new $n(bb,this.uri(),t)}}function bb(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||LR))return new XMLHttpRequest}catch{}if(!t)try{return new tn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Eb=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class FR extends Ih{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Eb?{}:yb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Rh(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&ad(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=xb()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Zd=tn.WebSocket||tn.MozWebSocket;class jR extends FR{createSocket(t,n,r){return Eb?new Zd(t,n,r):n?new Zd(t,n):new Zd(t)}doWrite(t,n){this.ws.send(n)}}class $R extends Ih{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=_R(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=SR();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&ad(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const UR={websocket:jR,webtransport:$R,polling:BR},HR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,VR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nf(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=HR.exec(e||""),a={},s=14;for(;s--;)a[VR[s]]=i[s]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=YR(a,a.path),a.queryKey=GR(a,a.query),a}function YR(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function GR(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}const Af=typeof addEventListener=="function"&&typeof removeEventListener=="function",hl=[];Af&&addEventListener("offline",()=>{hl.forEach(e=>e())},!1);class Ur extends Ze{constructor(t,n){if(super(),this.binaryType=CR,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Nf(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Nf(n.host).host);sd(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=PR(this.opts.query)),Af&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},hl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=mb,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ur.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ur.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=IR(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ad(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ur.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Af&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=hl.indexOf(this._offlineEventListener);r!==-1&&hl.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ur.protocol=mb;class qR extends Ur{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Ur.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ur.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function a(){r||(r=!0,u(),n.close(),n=null)}const s=f=>{const p=new Error("probe error: "+f);p.transport=n.name,a(),this.emitReserved("upgradeError",p)};function l(){s("transport closed")}function c(){s("socket closed")}function d(f){n&&f.name!==n.name&&a()}const u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",i),n.once("error",s),n.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let KR=class extends qR{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>UR[i]).filter(i=>!!i)),super(t,r)}};function QR(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Nf(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const JR=typeof ArrayBuffer=="function",XR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Sb=Object.prototype.toString,ZR=typeof Blob=="function"||typeof Blob<"u"&&Sb.call(Blob)==="[object BlobConstructor]",e8=typeof File=="function"||typeof File<"u"&&Sb.call(File)==="[object FileConstructor]";function Nh(e){return JR&&(e instanceof ArrayBuffer||XR(e))||ZR&&e instanceof Blob||e8&&e instanceof File}function gl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(gl(e[n]))return!0;return!1}if(Nh(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return gl(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&gl(e[n]))return!0;return!1}function t8(e){const t=[],n=e.data,r=e;return r.data=Pf(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Pf(e,t){if(!e)return e;if(Nh(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Pf(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Pf(e[r],t));return n}return e}function n8(e,t){return e.data=Df(e.data,t),delete e.attachments,e}function Df(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Df(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Df(e[n],t));return e}const r8=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],i8=5;var fe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class o8{constructor(t){this.replacer=t}encode(t){return(t.type===fe.EVENT||t.type===fe.ACK)&&gl(t)?this.encodeAsBinary({type:t.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===fe.BINARY_EVENT||t.type===fe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=t8(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function p0(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ah extends Ze{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===fe.BINARY_EVENT;r||n.type===fe.BINARY_ACK?(n.type=r?fe.EVENT:fe.ACK,this.reconstructor=new a8(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Nh(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(a,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Ah.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case fe.CONNECT:return p0(n);case fe.DISCONNECT:return n===void 0;case fe.CONNECT_ERROR:return typeof n=="string"||p0(n);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&r8.indexOf(n[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class a8{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=n8(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const s8=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ah,Encoder:o8,get PacketType(){return fe},protocol:i8},Symbol.toStringTag,{value:"Module"}));function xn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const l8=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _b extends Ze{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[xn(t,"open",this.onopen.bind(this)),xn(t,"packet",this.onpacket.bind(this)),xn(t,"error",this.onerror.bind(this)),xn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,a;if(l8.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:fe.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,f=n.pop();this._registerAckCallback(u,f),s.id=u}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),s=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,i)=>{const a=(s,l)=>s?i(s):r(l);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case fe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(t);break;case fe.ACK:case fe.BINARY_ACK:this.onack(t);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:fe.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Fo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Fo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Fo.prototype.reset=function(){this.attempts=0};Fo.prototype.setMin=function(e){this.ms=e};Fo.prototype.setMax=function(e){this.max=e};Fo.prototype.setJitter=function(e){this.jitter=e};class zf extends Ze{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,sd(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Fo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||s8;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new KR(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=xn(n,"open",function(){r.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},s=xn(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(xn(t,"ping",this.onping.bind(this)),xn(t,"data",this.ondata.bind(this)),xn(t,"error",this.onerror.bind(this)),xn(t,"close",this.onclose.bind(this)),xn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ad(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new _b(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const oa={};function Un(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=QR(e,t.path||"/socket.io"),r=n.source,i=n.id,a=n.path,s=oa[i]&&a in oa[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let c;return l?c=new zf(r,t):(oa[i]||(oa[i]=new zf(r,t)),c=oa[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Un,{Manager:zf,Socket:_b,io:Un,connect:Un});const eu=({score:e,label:t,width:n="100%"})=>{const r=i=>i>=85?"#10b981":i>=75?"#f59e0b":"#ef4444";return o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},t),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:r(e)}},e,"/100")),o.createElement("div",{style:{width:n,height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${e}%`,height:"100%",backgroundColor:r(e),borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))},h0=({workflow:e,onApprove:t,onReject:n})=>{var d,u,f,p,x,v,y,b,h,g,E,S,k,R,C,T,N,I;const[r,i]=m.useState(!1),[a,s]=m.useState(!1),l=e.status==="design_approval",c=w=>new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.3s ease"},onMouseEnter:w=>{w.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",w.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:w=>{w.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",w.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #ff9a56 0%, #ff6b35 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"20px",fontWeight:"600",overflow:"hidden"}},"📝"),o.createElement("div",{style:{background:"#fff"}},o.createElement("h3",{style:{margin:"0 0 4px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700",letterSpacing:"-0.025em",background:"#fff"}},e.objectives),o.createElement("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontWeight:"500",background:"#fff"}},l?`Design submitted ${c((d=e.graphicDesigner)==null?void 0:d.submittedAt)}`:`Submitted ${c((u=e.contentCreator)==null?void 0:u.submittedAt)}`))),o.createElement("span",{style:{background:"#fed7aa",color:"#9a3412",padding:"6px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",border:"1px solid transparent"}},"PENDING APPROVAL")),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",background:"#fff"}},"🎯 Task Information"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",padding:"16px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📋 Objectives"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.objectives)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"👤 Target Gender"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.gender)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🎂 Age Range"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.minAge,"-",e.maxAge," years")),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📅 Deadline"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},c(e.deadline))),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🏢 Current Stage"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.currentStage==="contentcreator"?"Content Creator":e.currentStage==="marketinglead"?"Marketing Lead":e.currentStage==="graphicdesigner"?"Graphic Designer":e.currentStage)))),l&&o.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},o.createElement("button",{onClick:()=>s(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)",transition:"all 0.2s ease"},onMouseEnter:w=>{w.target.style.transform="translateY(-1px)",w.target.style.boxShadow="0 6px 16px rgba(139, 92, 246, 0.4)"},onMouseLeave:w=>{w.target.style.transform="translateY(0)",w.target.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"}},"🖼️ View Design")),((f=e.contentCreator)==null?void 0:f.content)&&o.createElement("div",{style:{background:"transparent",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"18px"}},"✨"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#0c4a6e !important",background:"transparent !important"}},l?"Content Used for Design":"Submitted Content")),o.createElement("button",{onClick:()=>i(!r),style:{background:"none",border:"none",color:"#0ea5e9",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",fontWeight:"600"}},o.createElement(pr,{size:14}),r?"Hide":"View"," Details")),r&&o.createElement("div",{style:{marginTop:"0px",padding:"0px",background:"transparent",borderRadius:"0px",border:"none"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:"24px",paddingBottom:"12px",borderBottom:"1px solid #e5e7eb"}},o.createElement("h4",{style:{margin:0,color:"#374151",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},"📝 Content Analysis")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📰 Headline"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.4}},e.contentCreator.content.headline)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(eu,{score:((v=(x=(p=e.contentCreator)==null?void 0:p.content)==null?void 0:x.seoAnalysis)==null?void 0:v.headlineScore)||0,label:"Headline SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📝 Caption"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},e.contentCreator.content.caption)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(eu,{score:((h=(b=(y=e.contentCreator)==null?void 0:y.content)==null?void 0:b.seoAnalysis)==null?void 0:h.captionScore)||0,label:"Caption SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"🏷️ Hashtags"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},e.contentCreator.content.hashtag)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(eu,{score:((S=(E=(g=e.contentCreator)==null?void 0:g.content)==null?void 0:E.seoAnalysis)==null?void 0:S.overallScore)||0,label:"Overall SEO Score"})))))),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"}},o.createElement("button",{onClick:()=>n(e.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.3)"},onMouseEnter:w=>{w.target.style.transform="translateY(-1px)",w.target.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.4)"},onMouseLeave:w=>{w.target.style.transform="translateY(0)",w.target.style.boxShadow="0 2px 8px rgba(239, 68, 68, 0.3)"}},o.createElement("span",{style:{fontSize:"16px"}},"❌"),"Reject Content"),o.createElement("button",{onClick:()=>t(e.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)"},onMouseEnter:w=>{w.target.style.transform="translateY(-1px)",w.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.4)"},onMouseLeave:w=>{w.target.style.transform="translateY(0)",w.target.style.boxShadow="0 2px 8px rgba(16, 185, 129, 0.3)"}},o.createElement("span",{style:{fontSize:"16px"}},"✅"),l?"Approve Design":"Approve Content")),a&&l&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",position:"relative"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}},o.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700"}},"Submitted Design"),o.createElement("button",{onClick:()=>s(!1),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},"✕ Close")),(k=e.graphicDesigner)!=null&&k.designUrl||(C=(R=e.graphicDesigner)==null?void 0:R.designs)!=null&&C.designUrl?o.createElement("img",{src:((T=e.graphicDesigner)==null?void 0:T.designUrl)||((I=(N=e.graphicDesigner)==null?void 0:N.designs)==null?void 0:I.designUrl),alt:"Submitted Design",style:{maxWidth:"100%",maxHeight:"70vh",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",border:"1px solid #e5e7eb"}}):o.createElement("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",fontSize:"16px"}},"No design image available"))))};function c8(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),i=m.useRef(!1);m.useEffect(()=>{if(i.current)return;i.current=!0,a();const x=Un("http://localhost:3000",{withCredentials:!0});return x.on("workflowUpdated",v=>{v.status==="content_approval"||v.status==="design_approval"?t(y=>y.find(h=>h.id===v.id)?y.map(h=>h.id===v.id?v:h):[v,...y]):t(y=>y.filter(b=>b.id!==v.id))}),()=>x.disconnect()},[]);const a=async()=>{try{const x=await fetch("http://localhost:3000/api/v1/tasks/workflows/stage/marketinglead");if(x.status===429){console.log("Rate limited, skipping fetch");return}const v=await x.json();if(v.status==="success"){const y=v.data.filter(b=>b.status==="content_approval"||b.status==="design_approval");t(y)}}catch(x){console.error("Error fetching approvals:",x)}finally{r(!1)}},s=async x=>{try{const v=e.find(g=>g.id===x),b=(v==null?void 0:v.status)==="design_approval"?"approve-design":"approve-content";(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${x}/${b}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approvedBy:"Marketing Lead"})})).ok&&(window.location.href="/marketing/approved")}catch(v){console.error("Error approving:",v)}},[l,c]=m.useState({show:!1,workflowId:null}),[d,u]=m.useState(""),f=x=>{c({show:!0,workflowId:x}),u("")},p=async()=>{if(d.trim())try{(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${l.workflowId}/reject-content`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectedBy:"Marketing Lead",feedback:d})})).ok&&(t(v=>v.filter(y=>y.id!==l.workflowId)),c({show:!1,workflowId:null}))}catch(x){console.error("Error rejecting content:",x)}};return n?o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.createElement("p",{style:{color:"#64748b",fontSize:"16px"}},"Loading content approvals..."))):o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Approval of Contents"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"Review and approve submissions from content creators and graphics designers")),o.createElement("div",{style:{marginBottom:"40px"}},o.createElement("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"}},"Content Creator Approvals"),e.filter(x=>x.status==="content_approval").length===0?o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#9ca3af",fontSize:"14px"}},"No content pending approval."):e.filter(x=>x.status==="content_approval").map(x=>o.createElement(h0,{key:x.id,workflow:x,onApprove:s,onReject:f})))),o.createElement("div",null,o.createElement("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"}},"Graphics Designer Approvals"),e.filter(x=>x.status==="design_approval").length===0?o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#9ca3af",fontSize:"14px"}},"No designs pending approval."):e.filter(x=>x.status==="design_approval").map(x=>o.createElement(h0,{key:x.id,workflow:x,onApprove:s,onReject:f})))),l.show&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"32px",width:"500px",maxWidth:"90vw"}},o.createElement("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",fontWeight:"700"}},"Reject Content"),o.createElement("textarea",{value:d,onChange:x=>u(x.target.value),placeholder:"Please provide feedback for rejection...",style:{width:"100%",height:"120px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",resize:"vertical"}}),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"20px"}},o.createElement("button",{onClick:()=>c({show:!1,workflowId:null}),style:{padding:"8px 16px",background:"#f3f4f6",border:"none",borderRadius:"8px",cursor:"pointer"}},"Cancel"),o.createElement("button",{onClick:p,disabled:!d.trim(),style:{padding:"8px 16px",background:d.trim()?"#ef4444":"#d1d5db",color:"#fff",border:"none",borderRadius:"8px",cursor:d.trim()?"pointer":"not-allowed"}},"Reject")))),o.createElement("style",null,`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `))}const ai={pageContainer:{padding:"0",maxWidth:"100%",fontFamily:"Inter, system-ui, -apple-system, sans-serif"},pageHeader:{marginBottom:"32px"},pageTitle:{fontSize:"2rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},pageSubtitle:{color:"#6b7280",margin:0},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},loadingSpinner:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},emptyState:{background:"#ffffff",borderRadius:"16px",padding:"60px 40px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"},emptyStateIcon:{width:"80px",height:"80px",background:"#f1f5f9",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",fontSize:"32px"},emptyStateTitle:{fontSize:"20px",fontWeight:"600",color:"#1e293b",margin:"0 0 8px 0"},emptyStateText:{color:"#64748b",fontSize:"16px",margin:0},button:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"14px",transition:"all 0.2s ease",fontFamily:"inherit"},buttonPrimary:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#ffffff",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"}},tu=({score:e,label:t,width:n="100%"})=>{const r=i=>i>=85?"#10b981":i>=75?"#f59e0b":"#ef4444";return o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},t),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:r(e)}},e,"/100")),o.createElement("div",{style:{width:n,height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${e}%`,height:"100%",backgroundColor:r(e),borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))},d8=({workflow:e,onSetTask:t})=>{var c,d,u,f,p,x,v,y,b,h,g,E,S,k,R,C,T,N;const[n,r]=m.useState(!1),[i,a]=m.useState(!1),s=e.status==="design_approved",l=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.createElement("div",{style:{background:"#ffffff",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.2s ease"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"20px",fontWeight:"600",overflow:"hidden"}},"✓"),o.createElement("div",{style:{background:"#fff"}},o.createElement("h3",{style:{margin:"0 0 4px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700",letterSpacing:"-0.025em",background:"#fff"}},e.objectives),o.createElement("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontWeight:"500",background:"#fff"}},s?`Design approved ${l((c=e.finalApproval)==null?void 0:c.approvedAt)}`:`Content approved ${l((d=e.marketingApproval)==null?void 0:d.approvedAt)}`))),o.createElement("span",{style:{background:"#dcfce7",color:"#166534",padding:"6px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",border:"1px solid transparent"}},s?"DESIGN APPROVED":"CONTENT APPROVED")),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",background:"#fff"}},"🎯 Task Information"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",padding:"16px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📋 Objectives"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.objectives)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"👤 Target Gender"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.gender)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🎂 Age Range"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.minAge,"-",e.maxAge," years")),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📅 Deadline"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},l(e.deadline))),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🏢 Current Stage"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.currentStage==="contentcreator"?"Content Creator":e.currentStage==="marketinglead"?"Marketing Lead":e.currentStage==="graphicdesigner"?"Graphic Designer":e.currentStage)))),s&&o.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},o.createElement("button",{onClick:()=>a(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)",transition:"all 0.2s ease"},onMouseEnter:I=>{I.target.style.transform="translateY(-1px)",I.target.style.boxShadow="0 6px 16px rgba(139, 92, 246, 0.4)"},onMouseLeave:I=>{I.target.style.transform="translateY(0)",I.target.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"}},"🖼️ View Approved Design")),((u=e.contentCreator)==null?void 0:u.content)&&o.createElement("div",{style:{background:"transparent",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"18px"}},"✨"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#0c4a6e !important",background:"transparent !important"}},s?"Content Used for Design":"Approved Content")),o.createElement("button",{onClick:()=>r(!n),style:{background:"none",border:"none",color:"#0ea5e9",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",fontWeight:"600"}},o.createElement(pr,{size:14}),n?"Hide":"View"," Details")),n&&o.createElement("div",{style:{marginTop:"0px",padding:"0px",background:"transparent",borderRadius:"0px",border:"none"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:"24px",paddingBottom:"12px",borderBottom:"1px solid #e5e7eb"}},o.createElement("h4",{style:{margin:0,color:"#374151",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},"📝 Content Analysis")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📰 Headline"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.4}},e.contentCreator.content.headline)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(tu,{score:((x=(p=(f=e.contentCreator)==null?void 0:f.content)==null?void 0:p.seoAnalysis)==null?void 0:x.headlineScore)||0,label:"Headline SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📝 Caption"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},e.contentCreator.content.caption)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(tu,{score:((b=(y=(v=e.contentCreator)==null?void 0:v.content)==null?void 0:y.seoAnalysis)==null?void 0:b.captionScore)||0,label:"Caption SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"🏷️ Hashtags"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},e.contentCreator.content.hashtag)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(tu,{score:((E=(g=(h=e.contentCreator)==null?void 0:h.content)==null?void 0:g.seoAnalysis)==null?void 0:E.overallScore)||0,label:"Overall SEO Score"})))))),!s&&o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"24px"}},o.createElement("button",{onClick:()=>t(e.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.3)"},onMouseEnter:I=>{I.target.style.transform="translateY(-1px)",I.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.4)"},onMouseLeave:I=>{I.target.style.transform="translateY(0)",I.target.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.3)"}},o.createElement("span",{style:{fontSize:"16px"}},"⚙️"),"Set Task for Graphics Designer")),i&&s&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",position:"relative"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}},o.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700"}},"Approved Design"),o.createElement("button",{onClick:()=>a(!1),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},"✕ Close")),(S=e.graphicDesigner)!=null&&S.designUrl||(R=(k=e.graphicDesigner)==null?void 0:k.designs)!=null&&R.designUrl?o.createElement("img",{src:((C=e.graphicDesigner)==null?void 0:C.designUrl)||((N=(T=e.graphicDesigner)==null?void 0:T.designs)==null?void 0:N.designUrl),alt:"Approved Design",style:{maxWidth:"100%",maxHeight:"70vh",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",border:"1px solid #e5e7eb"}}):o.createElement("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",fontSize:"16px"}},"No design image available"))))};function u8(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),i=m.useRef(!1);m.useEffect(()=>{if(i.current)return;i.current=!0,a();const l=Un("http://localhost:3000",{withCredentials:!0});return l.on("workflowUpdated",c=>{c.status==="ready_for_design_assignment"||c.status==="design_approved"?t(d=>d.find(f=>f.id===c.id)?d.map(f=>f.id===c.id?c:f):[c,...d]):(c.status==="design_creation"||c.status==="posted")&&t(d=>d.filter(u=>u.id!==c.id))}),()=>l.disconnect()},[]);const a=async()=>{try{const l=await fetch("http://localhost:3000/api/v1/tasks/workflows/approved");if(l.status===429){console.log("Rate limited, skipping fetch");return}const c=await l.json();console.log("🔍 ApprovedContents - Approved workflows:",c),c.status==="success"&&t(c.data||[])}catch(l){console.error("Error fetching approved contents:",l)}finally{r(!1)}},s=l=>{window.location.href=`/marketing/set-task-graphic-designer?workflowId=${l}`};return n?o.createElement("div",{style:ai.loadingContainer},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:ai.loadingSpinner}),o.createElement("p",{style:{color:"#64748b",fontSize:"16px"}},"Loading approved contents..."))):o.createElement("div",{style:ai.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Approved Contents"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"Content approved but not yet posted (",e.length," items)")),e.length===0?o.createElement("div",{style:ai.emptyState},o.createElement("div",{style:ai.emptyStateIcon},"✅"),o.createElement("h3",{style:ai.emptyStateTitle},"No Approved Content"),o.createElement("p",{style:ai.emptyStateText},"Approved content will appear here, ready for graphic designer assignment.")):o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"0"}},e.map(l=>o.createElement(d8,{key:l.id,workflow:l,onSetTask:s}))),o.createElement("style",null,`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `))}function Xr(e){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(e)}function f8(e,t){if(Xr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8(e){var t=f8(e,"string");return Xr(t)=="symbol"?t:t+""}function sn(e,t,n){return(t=p8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g0(Object(n),!0).forEach(function(r){sn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h8(e){if(Array.isArray(e))return Lf(e)}function g8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wb(e,t){if(e){if(typeof e=="string")return Lf(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lf(e,t):void 0}}function m8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(e){return h8(e)||g8(e)||wb(e)||m8()}function y8(e){if(Array.isArray(e))return e}function x8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function v8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,t){return y8(e)||x8(e,t)||wb(e,t)||v8()}var Cb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var l in a)t.call(a,l)&&a[l]&&(s=i(s,l));return s}function i(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Cb);var b8=Cb.exports;const Ii=T0(b8);function so(e){var t=m.useRef();t.current=e;var n=m.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(a))},[]);return n}function E8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var m0=E8()?m.useLayoutEffect:m.useEffect,kb=function(t,n){var r=m.useRef(!0);m0(function(){return t(r.current)},n),m0(function(){return r.current=!1,function(){r.current=!0}},[])},y0=function(t,n){kb(function(r){if(!r)return t()},n)};function x0(e){var t=m.useRef(!1),n=m.useState(e),r=mt(n,2),i=r[0],a=r[1];m.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function s(l,c){c&&t.current||a(l)}return[i,s]}function nu(e){return e!==void 0}function S8(e,t){var n=t||{},r=n.defaultValue,i=n.value,a=n.onChange,s=n.postState,l=x0(function(){return nu(i)?i:nu(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),c=mt(l,2),d=c[0],u=c[1],f=i!==void 0?i:d,p=s?s(f):f,x=so(a),v=x0([f]),y=mt(v,2),b=y[0],h=y[1];y0(function(){var E=b[0];d!==E&&x(d,E)},[b]),y0(function(){nu(i)||u(i)},[i]);var g=so(function(E,S){u(E,S),h([f],S)});return[p,g]}var Of={},_8=function(t){};function w8(e,t){}function C8(e,t){}function k8(){Of={}}function Rb(e,t,n){!t&&!Of[n]&&(e(!1,n),Of[n]=!0)}function wo(e,t){Rb(w8,e,t)}function R8(e,t){Rb(C8,e,t)}wo.preMessage=_8;wo.resetWarned=k8;wo.noteOnce=R8;function T8(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=r.has(a);if(wo(!c,"Warning: There may be circular references"),c)return!1;if(a===s)return!0;if(n&&l>1)return!1;r.add(a);var d=l+1;if(Array.isArray(a)){if(!Array.isArray(s)||a.length!==s.length)return!1;for(var u=0;u<a.length;u++)if(!i(a[u],s[u],d))return!1;return!0}if(a&&s&&Xr(a)==="object"&&Xr(s)==="object"){var f=Object.keys(a);return f.length!==Object.keys(s).length?!1:f.every(function(p){return i(a[p],s[p],d)})}return!1}return i(e,t)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(null,arguments)}function I8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tb(e,t){if(e==null)return{};var n,r,i=I8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wf(e,t,n){return(e-t)/(n-t)}function Ph(e,t,n,r){var i=Wf(t,n,r),a={};switch(e){case"rtl":a.right="".concat(i*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(i*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(i*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(i*100,"%"),a.transform="translateX(-50%)";break}return a}function ui(e,t){return Array.isArray(e)?e[t]:e}var j={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var n=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||n>=j.F1&&n<=j.F12)return!1;switch(n){case j.ALT:case j.CAPS_LOCK:case j.CONTEXT_MENU:case j.CTRL:case j.DOWN:case j.END:case j.ESC:case j.HOME:case j.INSERT:case j.LEFT:case j.MAC_FF_META:case j.META:case j.NUMLOCK:case j.NUM_CENTER:case j.PAGE_DOWN:case j.PAGE_UP:case j.PAUSE:case j.PRINT_SCREEN:case j.RIGHT:case j.SHIFT:case j.UP:case j.WIN_KEY:case j.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=j.ZERO&&t<=j.NINE||t>=j.NUM_ZERO&&t<=j.NUM_MULTIPLY||t>=j.A&&t<=j.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case j.SPACE:case j.QUESTION_MARK:case j.NUM_PLUS:case j.NUM_MINUS:case j.NUM_PERIOD:case j.NUM_DIVISION:case j.SEMICOLON:case j.DASH:case j.EQUALS:case j.COMMA:case j.PERIOD:case j.SLASH:case j.APOSTROPHE:case j.SINGLE_QUOTE:case j.OPEN_SQUARE_BRACKET:case j.BACKSLASH:case j.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Li=m.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),N8=m.createContext({}),A8=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],v0=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,i=e.valueIndex,a=e.onStartMove,s=e.onDelete,l=e.style,c=e.render,d=e.dragging,u=e.draggingDelete,f=e.onOffsetChange,p=e.onChangeComplete,x=e.onFocus,v=e.onMouseEnter,y=Tb(e,A8),b=m.useContext(Li),h=b.min,g=b.max,E=b.direction,S=b.disabled,k=b.keyboard,R=b.range,C=b.tabIndex,T=b.ariaLabelForHandle,N=b.ariaLabelledByForHandle,I=b.ariaRequired,w=b.ariaValueTextFormatterForHandle,D=b.styles,W=b.classNames,_="".concat(n,"-handle"),P=function(J){S||a(J,i)},B=function(J){x==null||x(J,i)},M=function(J){v(J,i)},A=function(J){if(!S&&k){var V=null;switch(J.which||J.keyCode){case j.LEFT:V=E==="ltr"||E==="btt"?-1:1;break;case j.RIGHT:V=E==="ltr"||E==="btt"?1:-1;break;case j.UP:V=E!=="ttb"?1:-1;break;case j.DOWN:V=E!=="ttb"?-1:1;break;case j.HOME:V="min";break;case j.END:V="max";break;case j.PAGE_UP:V=2;break;case j.PAGE_DOWN:V=-2;break;case j.BACKSPACE:case j.DELETE:s(i);break}V!==null&&(J.preventDefault(),f(V,i))}},O=function(J){switch(J.which||J.keyCode){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:case j.HOME:case j.END:case j.PAGE_UP:case j.PAGE_DOWN:p==null||p();break}},F=Ph(E,r,h,g),Y={};if(i!==null){var ee;Y={tabIndex:S?null:ui(C,i),role:"slider","aria-valuemin":h,"aria-valuemax":g,"aria-valuenow":r,"aria-disabled":S,"aria-label":ui(T,i),"aria-labelledby":ui(N,i),"aria-required":ui(I,i),"aria-valuetext":(ee=ui(w,i))===null||ee===void 0?void 0:ee(r),"aria-orientation":E==="ltr"||E==="rtl"?"horizontal":"vertical",onMouseDown:P,onTouchStart:P,onFocus:B,onMouseEnter:M,onKeyDown:A,onKeyUp:O}}var ce=m.createElement("div",ts({ref:t,className:Ii(_,sn(sn(sn({},"".concat(_,"-").concat(i+1),i!==null&&R),"".concat(_,"-dragging"),d),"".concat(_,"-dragging-delete"),u),W.handle),style:wt(wt(wt({},F),l),D.handle)},Y,y));return c&&(ce=c(ce,{index:i,prefixCls:n,value:r,dragging:d,draggingDelete:u})),ce}),P8=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],D8=m.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.onStartMove,a=e.onOffsetChange,s=e.values,l=e.handleRender,c=e.activeHandleRender,d=e.draggingIndex,u=e.draggingDelete,f=e.onFocus,p=Tb(e,P8),x=m.useRef({}),v=m.useState(!1),y=mt(v,2),b=y[0],h=y[1],g=m.useState(-1),E=mt(g,2),S=E[0],k=E[1],R=function(w){k(w),h(!0)},C=function(w,D){R(D),f==null||f(w)},T=function(w,D){R(D)};m.useImperativeHandle(t,function(){return{focus:function(w){var D;(D=x.current[w])===null||D===void 0||D.focus()},hideHelp:function(){Bx.flushSync(function(){h(!1)})}}});var N=wt({prefixCls:n,onStartMove:i,onOffsetChange:a,render:l,onFocus:C,onMouseEnter:T},p);return m.createElement(m.Fragment,null,s.map(function(I,w){var D=d===w;return m.createElement(v0,ts({ref:function(_){_?x.current[w]=_:delete x.current[w]},dragging:D,draggingDelete:D&&u,style:ui(r,w),key:w,value:I,valueIndex:w},N))}),c&&b&&m.createElement(v0,ts({key:"a11y"},N,{value:s[S],valueIndex:null,dragging:d!==-1,draggingDelete:u,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),z8=function(t){var n=t.prefixCls,r=t.style,i=t.children,a=t.value,s=t.onClick,l=m.useContext(Li),c=l.min,d=l.max,u=l.direction,f=l.includedStart,p=l.includedEnd,x=l.included,v="".concat(n,"-text"),y=Ph(u,a,c,d);return m.createElement("span",{className:Ii(v,sn({},"".concat(v,"-active"),x&&f<=a&&a<=p)),style:wt(wt({},y),r),onMouseDown:function(h){h.stopPropagation()},onClick:function(){s(a)}},i)},L8=function(t){var n=t.prefixCls,r=t.marks,i=t.onClick,a="".concat(n,"-mark");return r.length?m.createElement("div",{className:a},r.map(function(s){var l=s.value,c=s.style,d=s.label;return m.createElement(z8,{key:l,prefixCls:a,style:c,value:l,onClick:i},d)})):null},O8=function(t){var n=t.prefixCls,r=t.value,i=t.style,a=t.activeStyle,s=m.useContext(Li),l=s.min,c=s.max,d=s.direction,u=s.included,f=s.includedStart,p=s.includedEnd,x="".concat(n,"-dot"),v=u&&f<=r&&r<=p,y=wt(wt({},Ph(d,r,l,c)),typeof i=="function"?i(r):i);return v&&(y=wt(wt({},y),typeof a=="function"?a(r):a)),m.createElement("span",{className:Ii(x,sn({},"".concat(x,"-active"),v)),style:y})},W8=function(t){var n=t.prefixCls,r=t.marks,i=t.dots,a=t.style,s=t.activeStyle,l=m.useContext(Li),c=l.min,d=l.max,u=l.step,f=m.useMemo(function(){var p=new Set;if(r.forEach(function(v){p.add(v.value)}),i&&u!==null)for(var x=c;x<=d;)p.add(x),x+=u;return Array.from(p)},[c,d,u,i,r]);return m.createElement("div",{className:"".concat(n,"-step")},f.map(function(p){return m.createElement(O8,{prefixCls:n,key:p,value:p,style:a,activeStyle:s})}))},b0=function(t){var n=t.prefixCls,r=t.style,i=t.start,a=t.end,s=t.index,l=t.onStartMove,c=t.replaceCls,d=m.useContext(Li),u=d.direction,f=d.min,p=d.max,x=d.disabled,v=d.range,y=d.classNames,b="".concat(n,"-track"),h=Wf(i,f,p),g=Wf(a,f,p),E=function(C){!x&&l&&l(C,-1)},S={};switch(u){case"rtl":S.right="".concat(h*100,"%"),S.width="".concat(g*100-h*100,"%");break;case"btt":S.bottom="".concat(h*100,"%"),S.height="".concat(g*100-h*100,"%");break;case"ttb":S.top="".concat(h*100,"%"),S.height="".concat(g*100-h*100,"%");break;default:S.left="".concat(h*100,"%"),S.width="".concat(g*100-h*100,"%")}var k=c||Ii(b,sn(sn({},"".concat(b,"-").concat(s+1),s!==null&&v),"".concat(n,"-track-draggable"),l),y.track);return m.createElement("div",{className:k,style:wt(wt({},S),r),onMouseDown:E,onTouchStart:E})},M8=function(t){var n=t.prefixCls,r=t.style,i=t.values,a=t.startPoint,s=t.onStartMove,l=m.useContext(Li),c=l.included,d=l.range,u=l.min,f=l.styles,p=l.classNames,x=m.useMemo(function(){if(!d){if(i.length===0)return[];var y=a??u,b=i[0];return[{start:Math.min(y,b),end:Math.max(y,b)}]}for(var h=[],g=0;g<i.length-1;g+=1)h.push({start:i[g],end:i[g+1]});return h},[i,d,a,u]);if(!c)return null;var v=x!=null&&x.length&&(p.tracks||f.tracks)?m.createElement(b0,{index:null,prefixCls:n,start:x[0].start,end:x[x.length-1].end,replaceCls:Ii(p.tracks,"".concat(n,"-tracks")),style:f.tracks}):null;return m.createElement(m.Fragment,null,v,x.map(function(y,b){var h=y.start,g=y.end;return m.createElement(b0,{index:b,prefixCls:n,style:wt(wt({},ui(r,b)),f.track),start:h,end:g,key:b,onStartMove:s})}))},B8=130;function E0(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function F8(e,t,n,r,i,a,s,l,c,d,u){var f=m.useState(null),p=mt(f,2),x=p[0],v=p[1],y=m.useState(-1),b=mt(y,2),h=b[0],g=b[1],E=m.useState(!1),S=mt(E,2),k=S[0],R=S[1],C=m.useState(n),T=mt(C,2),N=T[0],I=T[1],w=m.useState(n),D=mt(w,2),W=D[0],_=D[1],P=m.useRef(null),B=m.useRef(null),M=m.useRef(null),A=m.useContext(N8),O=A.onDragStart,F=A.onDragChange;kb(function(){h===-1&&I(n)},[n,h]),m.useEffect(function(){return function(){document.removeEventListener("mousemove",P.current),document.removeEventListener("mouseup",B.current),M.current&&(M.current.removeEventListener("touchmove",P.current),M.current.removeEventListener("touchend",B.current))}},[]);var Y=function(V,re,he){re!==void 0&&v(re),I(V);var xe=V;he&&(xe=V.filter(function(me,Ne){return Ne!==h})),s(xe),F&&F({rawValues:V,deleteIndex:he?h:-1,draggingIndex:h,draggingValue:re})},ee=so(function(J,V,re){if(J===-1){var he=W[0],xe=W[W.length-1],me=r-he,Ne=i-xe,Ue=V*(i-r);Ue=Math.max(Ue,me),Ue=Math.min(Ue,Ne);var ft=a(he+Ue);Ue=ft-he;var Ge=W.map(function(ie){return ie+Ue});Y(Ge)}else{var qe=(i-r)*V,Ve=tr(N);Ve[J]=W[J];var Ke=c(Ve,qe,J,"dist");Y(Ke.values,Ke.value,re)}}),ce=function(V,re,he){V.stopPropagation();var xe=he||n,me=xe[re];g(re),v(me),_(xe),I(xe),R(!1);var Ne=E0(V),Ue=Ne.pageX,ft=Ne.pageY,Ge=!1;O&&O({rawValues:xe,draggingIndex:re,draggingValue:me});var qe=function(ie){ie.preventDefault();var G=E0(ie),q=G.pageX,X=G.pageY,Ae=q-Ue,tt=X-ft,Qe=e.current.getBoundingClientRect(),bt=Qe.width,Rt=Qe.height,pt,ht;switch(t){case"btt":pt=-tt/Rt,ht=Ae;break;case"ttb":pt=tt/Rt,ht=Ae;break;case"rtl":pt=-Ae/bt,ht=tt;break;default:pt=Ae/bt,ht=tt}Ge=d?Math.abs(ht)>B8&&u<N.length:!1,R(Ge),ee(re,pt,Ge)},Ve=function Ke(ie){ie.preventDefault(),document.removeEventListener("mouseup",Ke),document.removeEventListener("mousemove",qe),M.current&&(M.current.removeEventListener("touchmove",P.current),M.current.removeEventListener("touchend",B.current)),P.current=null,B.current=null,M.current=null,l(Ge),g(-1),R(!1)};document.addEventListener("mouseup",Ve),document.addEventListener("mousemove",qe),V.currentTarget.addEventListener("touchend",Ve),V.currentTarget.addEventListener("touchmove",qe),P.current=qe,B.current=Ve,M.current=V.currentTarget},H=m.useMemo(function(){var J=tr(n).sort(function(me,Ne){return me-Ne}),V=tr(N).sort(function(me,Ne){return me-Ne}),re={};V.forEach(function(me){re[me]=(re[me]||0)+1}),J.forEach(function(me){re[me]=(re[me]||0)-1});var he=d?1:0,xe=Object.values(re).reduce(function(me,Ne){return me+Math.abs(Ne)},0);return xe<=he?N:n},[n,N,d]);return[h,x,k,H,ce]}function j8(e,t,n,r,i,a){var s=m.useCallback(function(x){return Math.max(e,Math.min(t,x))},[e,t]),l=m.useCallback(function(x){if(n!==null){var v=e+Math.round((s(x)-e)/n)*n,y=function(E){return(String(E).split(".")[1]||"").length},b=Math.max(y(n),y(t),y(e)),h=Number(v.toFixed(b));return e<=h&&h<=t?h:null}return null},[n,e,t,s]),c=m.useCallback(function(x){var v=s(x),y=r.map(function(g){return g.value});n!==null&&y.push(l(x)),y.push(e,t);var b=y[0],h=t-e;return y.forEach(function(g){var E=Math.abs(v-g);E<=h&&(b=g,h=E)}),b},[e,t,r,n,s,l]),d=function x(v,y,b){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof y=="number"){var g,E=v[b],S=E+y,k=[];r.forEach(function(I){k.push(I.value)}),k.push(e,t),k.push(l(E));var R=y>0?1:-1;h==="unit"?k.push(l(E+R*n)):k.push(l(S)),k=k.filter(function(I){return I!==null}).filter(function(I){return y<0?I<=E:I>=E}),h==="unit"&&(k=k.filter(function(I){return I!==E}));var C=h==="unit"?E:S;g=k[0];var T=Math.abs(g-C);if(k.forEach(function(I){var w=Math.abs(I-C);w<T&&(g=I,T=w)}),g===void 0)return y<0?e:t;if(h==="dist")return g;if(Math.abs(y)>1){var N=tr(v);return N[b]=g,x(N,y-R,b,h)}return g}else{if(y==="min")return e;if(y==="max")return t}},u=function(v,y,b){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",g=v[b],E=d(v,y,b,h);return{value:E,changed:E!==g}},f=function(v){return a===null&&v===0||typeof a=="number"&&v<a},p=function(v,y,b){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",g=v.map(c),E=g[b],S=d(g,y,b,h);if(g[b]=S,i===!1){var k=a||0;b>0&&g[b-1]!==E&&(g[b]=Math.max(g[b],g[b-1]+k)),b<g.length-1&&g[b+1]!==E&&(g[b]=Math.min(g[b],g[b+1]-k))}else if(typeof a=="number"||a===null){for(var R=b+1;R<g.length;R+=1)for(var C=!0;f(g[R]-g[R-1])&&C;){var T=u(g,1,R);g[R]=T.value,C=T.changed}for(var N=b;N>0;N-=1)for(var I=!0;f(g[N]-g[N-1])&&I;){var w=u(g,-1,N-1);g[N-1]=w.value,I=w.changed}for(var D=g.length-1;D>0;D-=1)for(var W=!0;f(g[D]-g[D-1])&&W;){var _=u(g,-1,D-1);g[D-1]=_.value,W=_.changed}for(var P=0;P<g.length-1;P+=1)for(var B=!0;f(g[P+1]-g[P])&&B;){var M=u(g,1,P+1);g[P+1]=M.value,B=M.changed}}return{value:g[b],values:g}};return[c,p]}function $8(e){return m.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,i=e.maxCount;return[!0,t,!t&&n,r||0,i]},[e])}var U8=m.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,i=e.className,a=e.style,s=e.classNames,l=e.styles,c=e.id,d=e.disabled,u=d===void 0?!1:d,f=e.keyboard,p=f===void 0?!0:f,x=e.autoFocus,v=e.onFocus,y=e.onBlur,b=e.min,h=b===void 0?0:b,g=e.max,E=g===void 0?100:g,S=e.step,k=S===void 0?1:S,R=e.value,C=e.defaultValue,T=e.range,N=e.count,I=e.onChange,w=e.onBeforeChange,D=e.onAfterChange,W=e.onChangeComplete,_=e.allowCross,P=_===void 0?!0:_,B=e.pushable,M=B===void 0?!1:B,A=e.reverse,O=e.vertical,F=e.included,Y=F===void 0?!0:F,ee=e.startPoint,ce=e.trackStyle,H=e.handleStyle,J=e.railStyle,V=e.dotStyle,re=e.activeDotStyle,he=e.marks,xe=e.dots,me=e.handleRender,Ne=e.activeHandleRender,Ue=e.track,ft=e.tabIndex,Ge=ft===void 0?0:ft,qe=e.ariaLabelForHandle,Ve=e.ariaLabelledByForHandle,Ke=e.ariaRequired,ie=e.ariaValueTextFormatterForHandle,G=m.useRef(null),q=m.useRef(null),X=m.useMemo(function(){return O?A?"ttb":"btt":A?"rtl":"ltr"},[A,O]),Ae=$8(T),tt=mt(Ae,5),Qe=tt[0],bt=tt[1],Rt=tt[2],pt=tt[3],ht=tt[4],ne=m.useMemo(function(){return isFinite(h)?h:0},[h]),Xt=m.useMemo(function(){return isFinite(E)?E:100},[E]),$t=m.useMemo(function(){return k!==null&&k<=0?1:k},[k]),ri=m.useMemo(function(){return typeof M=="boolean"?M?$t:!1:M>=0?M:!1},[M,$t]),An=m.useMemo(function(){return Object.keys(he||{}).map(function(ve){var Q=he[ve],Se={value:Number(ve)};return Q&&Xr(Q)==="object"&&!m.isValidElement(Q)&&("label"in Q||"style"in Q)?(Se.style=Q.style,Se.label=Q.label):Se.label=Q,Se}).filter(function(ve){var Q=ve.label;return Q||typeof Q=="number"}).sort(function(ve,Q){return ve.value-Q.value})},[he]),ii=j8(ne,Xt,$t,An,P,ri),yr=mt(ii,2),Pn=yr[0],Ee=yr[1],ws=S8(C,{value:R}),jo=mt(ws,2),hn=jo[0],Cs=jo[1],de=m.useMemo(function(){var ve=hn==null?[]:Array.isArray(hn)?hn:[hn],Q=mt(ve,1),Se=Q[0],We=Se===void 0?ne:Se,ot=hn===null?[]:[We];if(Qe){if(ot=tr(ve),N||hn===void 0){var xr=N>=0?N+1:2;for(ot=ot.slice(0,xr);ot.length<xr;){var Qn;ot.push((Qn=ot[ot.length-1])!==null&&Qn!==void 0?Qn:ne)}}ot.sort(function(Jn,Xn){return Jn-Xn})}return ot.forEach(function(Jn,Xn){ot[Xn]=Pn(Jn)}),ot},[hn,Qe,ne,N,Pn]),Dn=function(Q){return Qe?Q:Q[0]},Oi=so(function(ve){var Q=tr(ve).sort(function(Se,We){return Se-We});I&&!T8(Q,de,!0)&&I(Dn(Q)),Cs(Q)}),$o=so(function(ve){ve&&G.current.hideHelp();var Q=Dn(de);D==null||D(Q),wo(!D,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),W==null||W(Q)}),Db=function(Q){if(!(u||!bt||de.length<=pt)){var Se=tr(de);Se.splice(Q,1),w==null||w(Dn(Se)),Oi(Se);var We=Math.max(0,Q-1);G.current.hideHelp(),G.current.focus(We)}},zb=F8(q,X,de,ne,Xt,Pn,Oi,$o,Ee,bt,pt),Uo=mt(zb,5),Lh=Uo[0],Lb=Uo[1],Ob=Uo[2],cd=Uo[3],Oh=Uo[4],Wh=function(Q,Se){if(!u){var We=tr(de),ot=0,xr=0,Qn=Xt-ne;de.forEach(function(vr,ks){var Vh=Math.abs(Q-vr);Vh<=Qn&&(Qn=Vh,ot=ks),vr<Q&&(xr=ks)});var Jn=ot;bt&&Qn!==0&&(!ht||de.length<ht)?(We.splice(xr+1,0,Q),Jn=xr+1):We[ot]=Q,Qe&&!de.length&&N===void 0&&We.push(Q);var Xn=Dn(We);if(w==null||w(Xn),Oi(We),Se){var oi,Wi;(oi=document.activeElement)===null||oi===void 0||(Wi=oi.blur)===null||Wi===void 0||Wi.call(oi),G.current.focus(Jn),Oh(Se,Jn,We)}else D==null||D(Xn),wo(!D,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),W==null||W(Xn)}},Wb=function(Q){Q.preventDefault();var Se=q.current.getBoundingClientRect(),We=Se.width,ot=Se.height,xr=Se.left,Qn=Se.top,Jn=Se.bottom,Xn=Se.right,oi=Q.clientX,Wi=Q.clientY,vr;switch(X){case"btt":vr=(Jn-Wi)/ot;break;case"ttb":vr=(Wi-Qn)/ot;break;case"rtl":vr=(Xn-oi)/We;break;default:vr=(oi-xr)/We}var ks=ne+vr*(Xt-ne);Wh(Pn(ks),Q)},Mb=m.useState(null),Mh=mt(Mb,2),dd=Mh[0],Bh=Mh[1],Bb=function(Q,Se){if(!u){var We=Ee(de,Q,Se);w==null||w(Dn(de)),Oi(We.values),Bh(We.value)}};m.useEffect(function(){if(dd!==null){var ve=de.indexOf(dd);ve>=0&&G.current.focus(ve)}Bh(null)},[dd]);var Fb=m.useMemo(function(){return Rt&&$t===null?!1:Rt},[Rt,$t]),Fh=so(function(ve,Q){Oh(ve,Q),w==null||w(Dn(de))}),jh=Lh!==-1;m.useEffect(function(){if(!jh){var ve=de.lastIndexOf(Lb);G.current.focus(ve)}},[jh]);var Ho=m.useMemo(function(){return tr(cd).sort(function(ve,Q){return ve-Q})},[cd]),jb=m.useMemo(function(){return Qe?[Ho[0],Ho[Ho.length-1]]:[ne,Ho[0]]},[Ho,Qe,ne]),$h=mt(jb,2),Uh=$h[0],Hh=$h[1];m.useImperativeHandle(t,function(){return{focus:function(){G.current.focus(0)},blur:function(){var Q,Se=document,We=Se.activeElement;(Q=q.current)!==null&&Q!==void 0&&Q.contains(We)&&(We==null||We.blur())}}}),m.useEffect(function(){x&&G.current.focus(0)},[]);var $b=m.useMemo(function(){return{min:ne,max:Xt,direction:X,disabled:u,keyboard:p,step:$t,included:Y,includedStart:Uh,includedEnd:Hh,range:Qe,tabIndex:Ge,ariaLabelForHandle:qe,ariaLabelledByForHandle:Ve,ariaRequired:Ke,ariaValueTextFormatterForHandle:ie,styles:l||{},classNames:s||{}}},[ne,Xt,X,u,p,$t,Y,Uh,Hh,Qe,Ge,qe,Ve,Ke,ie,l,s]);return m.createElement(Li.Provider,{value:$b},m.createElement("div",{ref:q,className:Ii(r,i,sn(sn(sn(sn({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),O),"".concat(r,"-horizontal"),!O),"".concat(r,"-with-marks"),An.length)),style:a,onMouseDown:Wb,id:c},m.createElement("div",{className:Ii("".concat(r,"-rail"),s==null?void 0:s.rail),style:wt(wt({},J),l==null?void 0:l.rail)}),Ue!==!1&&m.createElement(M8,{prefixCls:r,style:ce,values:de,startPoint:ee,onStartMove:Fb?Fh:void 0}),m.createElement(W8,{prefixCls:r,marks:An,dots:xe,style:V,activeStyle:re}),m.createElement(D8,{ref:G,prefixCls:r,style:H,values:cd,draggingIndex:Lh,draggingDelete:Ob,onStartMove:Fh,onOffsetChange:Bb,onFocus:v,onBlur:y,handleRender:me,activeHandleRender:Ne,onChangeComplete:$o,onDelete:bt?Db:void 0}),m.createElement(L8,{prefixCls:r,marks:An,onClick:Wh})))});const H8=({selectedPlatforms:e,onPlatformChange:t,size:n="large"})=>{const r=[{id:"facebook",name:"Facebook",logo:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg",color:"#1877f2"},{id:"instagram",name:"Instagram",logo:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg",color:"#e4405f"},{id:"twitter",name:"Twitter",logo:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/x.svg",color:"#000000"}],i=n==="small"?"16px":"24px",a=n==="small"?"32px":"48px";return o.createElement("div",{style:{display:"flex",gap:"12px",alignItems:"center"}},r.map(s=>o.createElement("div",{key:s.id,onClick:()=>t(s.id),style:{width:a,height:a,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:e.includes(s.id)?`2px solid ${s.color}`:"2px solid #e5e7eb",background:e.includes(s.id)?`${s.color}15`:"#fff",transition:"all 0.2s ease",fontFamily:s.id==="facebook"?"Arial Black, sans-serif":"inherit",fontWeight:s.id==="facebook"?"900":"normal"}},o.createElement("img",{src:s.logo,alt:s.name,style:{width:i,height:i,filter:e.includes(s.id)?`brightness(0) saturate(100%) invert(${s.id==="twitter"?"0%":"27%"}) sepia(${s.id==="facebook"?"99%":s.id==="instagram"?"95%":"0%"}) saturate(${s.id==="facebook"?"1934%":s.id==="instagram"?"7500%":"0%"}) hue-rotate(${s.id==="facebook"?"213deg":s.id==="instagram"?"325deg":"0deg"}) brightness(${s.id==="facebook"?"0.9":s.id==="instagram"?"0.8":"1"}) contrast(${s.id==="facebook"?"1.1":s.id==="instagram"?"1.15":"1"})`:"brightness(0) saturate(100%) invert(60%)",transition:"all 0.2s ease"}}))))};function Ib(){const[e]=Ao(),t=et(),[n,r]=m.useState(""),[i,a]=m.useState(""),[s,l]=m.useState(()=>{const _=e.get("date");return _||new Date().toISOString().split("T")[0]}),[c,d]=m.useState("12:00");m.useState(!1);const[u,f]=m.useState([20,40]),[p,x]=m.useState([]),[v,y]=m.useState(!1),[b,h]=m.useState(null),[g,E]=m.useState(null);m.useEffect(()=>{const _=e.get("date");_&&l(_)},[e]);const S=[{min:3,max:6,label:"Toddlers"},{min:7,max:12,label:"Kids"},{min:13,max:19,label:"Teens"},{min:20,max:35,label:"Adult"},{min:36,max:100,label:"Oldies"}],k=([_,P])=>S.filter(B=>B.max>=_&&B.min<=P).map(B=>B.label),R=new Date,C=R.getFullYear(),T=String(R.getMonth()+1).padStart(2,"0"),N=String(R.getDate()).padStart(2,"0"),I=`${C}-${T}-${N}`,w=`${C+3}-${T}-${N}`,D=_=>{x(P=>P.includes(_)?P.filter(B=>B!==_):[...P,_])},W=_=>{if(_.preventDefault(),y(!0),h(null),p.length===0){E({message:"Please select at least one social media platform",type:"error"}),y(!1);return}const P={objectives:n,gender:i,minAge:u[0],maxAge:u[1],deadline:`${s}T${c}:00`,selectedPlatforms:p};fetch("http://localhost:3000/api/v1/tasks/content-creator/task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}).then(async B=>{const M=await B.json();if(!B.ok&&M.status!=="success"){const A=M.message||"Failed to submit task";throw new Error(A)}return M}).then(()=>{E({message:"Task submitted successfully!",type:"success"}),r(""),a(""),f([20,40]),l(""),d("12:00"),x([]),setTimeout(()=>{t("/marketing/ongoing-task")},1500)}).catch(B=>{E({message:B.message||"Submission failed",type:"error"})}).finally(()=>y(!1))};return o.createElement("div",{style:{padding:"0",maxWidth:"100%"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Set Task - Content Creator"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Create and assign tasks to content creators with detailed specifications")),o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",width:"100%"}},o.createElement("form",{onSubmit:W,style:{display:"flex",flexDirection:"column",gap:"32px"}},o.createElement("div",null,o.createElement("label",{htmlFor:"objective",style:{fontWeight:"700",display:"block",marginBottom:"12px",color:"#1f2937",fontSize:"16px",letterSpacing:"-0.025em"}},"Task Objective"),o.createElement("textarea",{id:"objective",value:n,onChange:_=>r(_.target.value),placeholder:"Describe the task objectives and requirements in detail...",rows:4,style:{width:"100%",height:"120px",padding:"16px 20px",borderRadius:"12px",border:"2px solid #e5e7eb",fontSize:"15px",background:"#fafbfc",resize:"none",outline:"none",boxSizing:"border-box",fontFamily:"inherit",lineHeight:1.6,transition:"all 0.2s ease",overflowY:"auto"},onFocus:_=>{_.target.style.borderColor="#f59e0b",_.target.style.background="#fff",_.target.style.boxShadow="0 0 0 3px rgba(245, 158, 11, 0.1)"},onBlur:_=>{_.target.style.borderColor="#e5e7eb",_.target.style.background="#fafbfc",_.target.style.boxShadow="none"},required:!0})),o.createElement("div",null,o.createElement("label",{style:{fontWeight:"700",display:"block",marginBottom:"12px",color:"#1f2937",fontSize:"16px",letterSpacing:"-0.025em"}},"Target Gender"),o.createElement("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"}},["Male","Female"].map(_=>o.createElement("label",{key:_,style:{display:"flex",alignItems:"center",gap:"8px",padding:"16px 24px",borderRadius:"12px",border:`2px solid ${i===_?"#f59e0b":"#e5e7eb"}`,background:i===_?"#fef3c7":"#fafbfc",cursor:"pointer",transition:"all 0.2s ease",fontWeight:"600",fontSize:"15px",color:i===_?"#d97706":"#6b7280",minWidth:"120px",justifyContent:"center",boxShadow:i===_?"0 0 0 3px rgba(245, 158, 11, 0.1)":"none"}},o.createElement("input",{type:"radio",name:"gender",value:_,checked:i===_,onChange:P=>a(P.target.value),required:!0,style:{display:"none"}}),_)))),o.createElement("div",null,o.createElement("label",{style:{fontWeight:"700",display:"block",marginBottom:"16px",color:"#1f2937",fontSize:"16px",letterSpacing:"-0.025em"}},"Target Age Range"),o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",marginBottom:"24px"}},o.createElement("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#ffffff",padding:"12px 20px",borderRadius:"12px",fontSize:"18px",fontWeight:"700",minWidth:"60px",textAlign:"center",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"}},u[0]),o.createElement("span",{style:{color:"#374151",fontSize:"16px",fontWeight:"600"}},"to"),o.createElement("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#ffffff",padding:"12px 20px",borderRadius:"12px",fontSize:"18px",fontWeight:"700",minWidth:"60px",textAlign:"center",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"}},u[1])),o.createElement("div",{style:{padding:"32px 24px",background:"#ffffff",borderRadius:"16px",border:"1px solid #e5e7eb",boxShadow:"0 4px 16px rgba(0,0,0,0.08)"}},o.createElement(U8,{range:!0,min:3,max:60,value:u,onChange:f,allowCross:!1,trackStyle:[{backgroundColor:"#f59e0b",height:8,borderRadius:4}],handleStyle:[{backgroundColor:"#ffffff",borderColor:"#f59e0b",borderWidth:3,height:24,width:24,marginTop:-8,borderRadius:"50%",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.4)",cursor:"pointer"},{backgroundColor:"#ffffff",borderColor:"#f59e0b",borderWidth:3,height:24,width:24,marginTop:-8,borderRadius:"50%",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.4)",cursor:"pointer"}],railStyle:{backgroundColor:"#e5e7eb",height:8,borderRadius:4},step:1}),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px",fontSize:"14px",color:"#6b7280",fontWeight:"600"}},o.createElement("span",null,"3"),o.createElement("span",null,"15"),o.createElement("span",null,"30"),o.createElement("span",null,"45"),o.createElement("span",null,"60+")),o.createElement("div",{style:{marginTop:"20px",display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"center"}},k(u).map(_=>o.createElement("span",{key:_,style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#ffffff",borderRadius:"20px",padding:"8px 16px",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 8px rgba(245, 158, 11, 0.2)"}},_))))),o.createElement("div",null,o.createElement("label",{style:{fontWeight:"700",display:"block",marginBottom:"12px",color:"#1f2937",fontSize:"16px",letterSpacing:"-0.025em"}},"Target Social Media Platforms"),o.createElement("div",{style:{padding:"24px",background:"#fafbfc",borderRadius:"12px",border:"2px solid #e5e7eb"}},o.createElement(H8,{selectedPlatforms:p,onPlatformChange:D}),o.createElement("p",{style:{fontSize:"14px",color:"#6b7280",margin:"12px 0 0 0",fontWeight:"500"}},"Select platforms where content will be automatically posted"))),o.createElement("div",null,o.createElement("label",{style:{fontWeight:"700",display:"block",marginBottom:"12px",color:"#1f2937",fontSize:"16px",letterSpacing:"-0.025em"}},"Posting Date & Time"),o.createElement("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"}},o.createElement("div",null,o.createElement("label",{htmlFor:"deadline",style:{fontSize:"14px",color:"#6b7280",fontWeight:"600",display:"block",marginBottom:"8px"}},"Date"),o.createElement("input",{type:"date",id:"deadline",value:s,min:I,max:w,onChange:_=>l(_.target.value),onFocus:_=>{_.target.style.borderColor="#f59e0b",_.target.style.boxShadow="0 0 0 3px rgba(245, 158, 11, 0.1)"},onBlur:_=>{_.target.style.borderColor="#e5e7eb",_.target.style.boxShadow="none"},style:{padding:"16px 20px",borderRadius:"12px",border:"2px solid #e5e7eb",fontSize:"15px",background:"#fafbfc",outline:"none",width:"200px",fontFamily:"inherit",transition:"all 0.2s ease"},required:!0})),o.createElement("div",null,o.createElement("label",{htmlFor:"deadlineTime",style:{fontSize:"14px",color:"#6b7280",fontWeight:"600",display:"block",marginBottom:"8px"}},"Time"),o.createElement("input",{type:"time",id:"deadlineTime",value:c,onChange:_=>d(_.target.value),onFocus:_=>{_.target.style.borderColor="#f59e0b",_.target.style.boxShadow="0 0 0 3px rgba(245, 158, 11, 0.1)"},onBlur:_=>{_.target.style.borderColor="#e5e7eb",_.target.style.boxShadow="none"},style:{padding:"16px 20px",borderRadius:"12px",border:"2px solid #e5e7eb",fontSize:"15px",background:"#fafbfc",outline:"none",width:"160px",fontFamily:"inherit",transition:"all 0.2s ease"},required:!0}))),o.createElement("p",{style:{fontSize:"14px",color:"#6b7280",margin:"8px 0 0 0",fontWeight:"500"}},"Content will be automatically posted at the specified date and time")),o.createElement("button",{type:"submit",disabled:v,style:{background:v?"#9ca3af":"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#ffffff",border:"none",padding:"16px 32px",borderRadius:"12px",fontSize:"16px",fontWeight:"700",cursor:v?"not-allowed":"pointer",transition:"all 0.2s ease",boxShadow:v?"none":"0 4px 12px rgba(16, 185, 129, 0.3)",marginTop:"24px",alignSelf:"flex-start"},onMouseEnter:_=>{v||(_.target.style.background="linear-gradient(135deg, #059669 0%, #047857 100%)",_.target.style.transform="translateY(-2px)",_.target.style.boxShadow="0 8px 20px rgba(16, 185, 129, 0.4)")},onMouseLeave:_=>{v||(_.target.style.background="linear-gradient(135deg, #10b981 0%, #059669 100%)",_.target.style.transform="translateY(0)",_.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)")}},o.createElement(Wc,{size:16}),v?"Submitting Task...":"Submit Task"))),g&&o.createElement(Po,{message:g.message,type:g.type,onClose:()=>E(null)}))}const Xs=new Map,S0=async(e,t={})=>{const n=`${t.method||"GET"}_${e}`;if(Xs.has(n))return Xs.get(n);const r=fetch(e,t).then(i=>i.status===429?(console.log("Rate limited, using empty response"),{json:()=>({data:[]})}):i).finally(()=>{Xs.delete(n)});return Xs.set(n,r),r},Dh=({platforms:e,size:t="small"})=>{const n={facebook:{logo:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg",color:"#1877f2",name:"Facebook"},instagram:{logo:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg",color:"#e4405f",name:"Instagram"},twitter:{logo:"https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/x.svg",color:"#000000",name:"Twitter"}},r=t==="small"?"14px":"18px",i=t==="small"?"24px":"32px";return!e||e.length===0?o.createElement("div",{style:{fontSize:"12px",color:"#9ca3af"}},"No platforms selected"):o.createElement("div",{style:{display:"flex",gap:"6px",alignItems:"center"}},e.map(a=>{const s=n[a];return s?o.createElement("div",{key:a,title:s.name,style:{width:i,height:i,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",background:`${s.color}15`,border:`1px solid ${s.color}30`,fontFamily:a==="facebook"?"Arial Black, sans-serif":"inherit"}},o.createElement("img",{src:s.logo,alt:s.name,style:{width:r,height:r,filter:`brightness(0) saturate(100%) invert(${a==="twitter"?"0%":"27%"}) sepia(${a==="facebook"?"99%":a==="instagram"?"95%":"0%"}) saturate(${a==="facebook"?"1934%":a==="instagram"?"7500%":"0%"}) hue-rotate(${a==="facebook"?"213deg":a==="instagram"?"325deg":"0deg"}) brightness(${a==="facebook"?"0.9":a==="instagram"?"0.8":"1"}) contrast(${a==="facebook"?"1.1":a==="instagram"?"1.15":"1"})`,transition:"all 0.2s ease"}})):null}))},V8=({task:e,type:t,onClose:n,onSave:r})=>{const i=l=>l?new Date(l).toISOString().slice(0,16):"",[a,s]=m.useState({objectives:e.objectives||"",gender:e.gender||"",minAge:e.minAge||"",maxAge:e.maxAge||"",deadline:i(e.deadline),numContent:e.numContent||""});return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"16px",width:"600px",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.15)"}},o.createElement("h3",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1f2937",margin:"0 0 24px 0"}},"Edit ",t," Task"),o.createElement("form",{onSubmit:l=>{l.preventDefault(),r(a)},style:{display:"flex",flexDirection:"column",gap:"20px"}},o.createElement("div",null,o.createElement("label",{style:{fontWeight:"600",display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px"}},"Objectives:"),o.createElement("textarea",{value:a.objectives,onChange:l=>s({...a,objectives:l.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",fontFamily:"inherit",resize:"vertical",minHeight:"80px",outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>l.target.style.borderColor="#3b82f6",onBlur:l=>l.target.style.borderColor="#d1d5db",rows:"3"})),o.createElement("div",null,o.createElement("label",{style:{fontWeight:"600",display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px"}},"Gender:"),o.createElement("select",{value:a.gender,onChange:l=>s({...a,gender:l.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>l.target.style.borderColor="#3b82f6",onBlur:l=>l.target.style.borderColor="#d1d5db"},o.createElement("option",{value:"Male"},"Male"),o.createElement("option",{value:"Female"},"Female"),o.createElement("option",{value:"Both"},"Both"))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"}},o.createElement("div",null,o.createElement("label",{style:{fontWeight:"600",display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px"}},"Min Age:"),o.createElement("input",{type:"number",value:a.minAge,onChange:l=>s({...a,minAge:l.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>l.target.style.borderColor="#3b82f6",onBlur:l=>l.target.style.borderColor="#d1d5db"})),o.createElement("div",null,o.createElement("label",{style:{fontWeight:"600",display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px"}},"Max Age:"),o.createElement("input",{type:"number",value:a.maxAge,onChange:l=>s({...a,maxAge:l.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>l.target.style.borderColor="#3b82f6",onBlur:l=>l.target.style.borderColor="#d1d5db"}))),t==="Graphic Designer"&&o.createElement("div",null,o.createElement("label",{style:{fontWeight:"600",display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px"}},"Number of Content:"),o.createElement("input",{type:"number",value:a.numContent,onChange:l=>s({...a,numContent:l.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>l.target.style.borderColor="#3b82f6",onBlur:l=>l.target.style.borderColor="#d1d5db"})),o.createElement("div",null,o.createElement("label",{style:{fontWeight:"600",display:"block",marginBottom:"8px",color:"#374151",fontSize:"14px"}},"Deadline:"),o.createElement("input",{type:"datetime-local",value:a.deadline,onChange:l=>s({...a,deadline:l.target.value}),style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #d1d5db",fontSize:"14px",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease"},onFocus:l=>l.target.style.borderColor="#3b82f6",onBlur:l=>l.target.style.borderColor="#d1d5db"})),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"8px"}},o.createElement("button",{type:"button",onClick:n,style:{padding:"12px 24px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:l=>l.target.style.backgroundColor="#4b5563",onMouseLeave:l=>l.target.style.backgroundColor="#6b7280"},"Cancel"),o.createElement("button",{type:"submit",style:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:l=>l.target.style.backgroundColor="#2563eb",onMouseLeave:l=>l.target.style.backgroundColor="#3b82f6"},"Save Changes")))))},Y8=({isOpen:e,onConfirm:t,onCancel:n,taskTitle:r,taskType:i})=>e?o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"100px"}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"32px",maxWidth:"400px",width:"90%",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",transform:e?"translateY(0)":"translateY(-20px)",transition:"all 0.3s ease",fontFamily:"Inter, sans-serif"}},o.createElement("div",{style:{textAlign:"center",marginBottom:"24px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#fef2f2",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement(Do,{size:20,color:"#dc2626"})),o.createElement("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"}},"Delete Task"),o.createElement("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0 0 16px 0",lineHeight:"1.5"}},"Are you sure you want to delete this ",i," task?"),o.createElement("div",{style:{background:"#f9fafb",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("p",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",margin:0,wordBreak:"break-word"}},'"',r,'"'))),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"}},o.createElement("button",{onClick:n,style:{padding:"12px 24px",background:"#6b7280",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:a=>a.target.style.backgroundColor="#4b5563",onMouseLeave:a=>a.target.style.backgroundColor="#6b7280"},"Cancel"),o.createElement("button",{onClick:t,style:{padding:"12px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:a=>a.target.style.backgroundColor="#b91c1c",onMouseLeave:a=>a.target.style.backgroundColor="#dc2626"},"Delete Task")))):null,_0=({task:e,type:t,onEdit:n,onDelete:r})=>{var u,f,p,x,v,y,b,h,g,E,S,k,R,C,T,N,I,w,D,W,_,P,B,M,A,O,F,Y,ee,ce,H,J,V,re,he,xe,me,Ne,Ue,ft,Ge,qe,Ve,Ke,ie,G,q,X,Ae,tt,Qe,bt,Rt,pt,ht;const[i,a]=m.useState(!1);console.log("TaskCard render - contentExpanded:",i,"task.content:",!!e.content,"type:",t),console.log("Full task object:",e);const s=ne=>{switch(ne){case"content_creation":return"#f59e0b";case"content_approval":return"#f59e0b";case"ready_for_design_assignment":return"#10b981";case"design_creation":return"#3b82f6";case"design_approval":return"#f59e0b";case"posted":return"#10b981";default:return"#6b7280"}},l=ne=>{switch(ne){case"content_creation":return"Content Creation";case"content_approval":return"Pending Approval";case"ready_for_design_assignment":return"Ready for Design";case"design_creation":return"Design Creation";case"design_approval":return"Design Approval";case"posted":return"Posted";default:return"In Progress"}},c=ne=>new Date(ne).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=()=>e.status==="content_approval"?o.createElement(mo,{size:20,color:"#fff"}):e.status==="ready_for_design_assignment"?o.createElement(Hn,{size:20,color:"#fff"}):e.status==="design_creation"?o.createElement(Ua,{size:20,color:"#fff"}):e.status==="design_approval"?o.createElement(pr,{size:20,color:"#fff"}):e.status==="posted"?o.createElement(Wc,{size:20,color:"#fff"}):o.createElement(us,{size:20,color:"#fff"});return o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.3s ease"},onMouseEnter:ne=>{ne.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",ne.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:ne=>{ne.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",ne.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #ff9a56 0%, #ff6b35 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"}},d()),o.createElement("div",{style:{background:"#fff"}},o.createElement("h3",{style:{margin:"0 0 4px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700",letterSpacing:"-0.025em",background:"#fff"}},e.status==="content_approval"?"Content Approval Required":e.status==="ready_for_design_assignment"?"Ready for Design Assignment":e.status==="design_creation"?"Design Creation in Progress":e.status==="design_approval"?"Design Approval Required":e.status==="posted"?"Content Posted Successfully":`${t} Task`),o.createElement("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontWeight:"500",background:"#fff"}},e.createdAt?`Created ${c(e.createdAt)}`:"Recently created"))),o.createElement("div",{style:{background:s(e.status),color:"#fff",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px"}},o.createElement(jt,{size:12})," ",l(e.status))),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",background:"#fff"}},o.createElement(yo,{size:16,color:"#3b82f6"})," Task Objectives"),o.createElement("div",{style:{fontSize:"16px",color:"#1f2937",lineHeight:"1.6",fontWeight:"500",background:"#fff"}},e.objectives)),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(vt,{size:16,color:"#3b82f6"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Target Gender"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},e.gender))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(ds,{size:16,color:"#10b981"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Age Range"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},e.minAge,"-",e.maxAge," years"))),e.numContent&&o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(aw,{size:16,color:"#f59e0b"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Content Count"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},e.numContent))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(jt,{size:16,color:"#ef4444"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Deadline"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},c(e.deadline)))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(c1,{size:16,color:"#8b5cf6"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Target Platforms"),o.createElement(Dh,{platforms:e.selectedPlatforms||[],size:"small"})))),((u=e.contentCreator)==null?void 0:u.content)&&o.createElement("div",{style:{background:"transparent",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"18px"}},"✨"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#0c4a6e !important",background:"transparent !important"}},"Submitted Content")),o.createElement("button",{onClick:()=>a(!i),style:{background:"none",border:"none",color:"#0ea5e9",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",fontWeight:"600"}},o.createElement(pr,{size:14}),i?"Hide":"View"," Details")),i&&o.createElement("div",{style:{marginTop:"0px",padding:"0px",background:"transparent",borderRadius:"0px",border:"none"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:"24px",paddingBottom:"12px",borderBottom:"1px solid #e5e7eb"}},o.createElement("h4",{style:{margin:0,color:"#374151",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},"📝 Content Analysis")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📰 Headline"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.4}},e.contentCreator.content.headline)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Headline SEO"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((x=(p=(f=e.contentCreator)==null?void 0:f.content)==null?void 0:p.seoAnalysis)==null?void 0:x.headlineScore)||0)>=85?"#10b981":(((b=(y=(v=e.contentCreator)==null?void 0:v.content)==null?void 0:y.seoAnalysis)==null?void 0:b.headlineScore)||0)>=75?"#f59e0b":"#ef4444"}},((E=(g=(h=e.contentCreator)==null?void 0:h.content)==null?void 0:g.seoAnalysis)==null?void 0:E.headlineScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((R=(k=(S=e.contentCreator)==null?void 0:S.content)==null?void 0:k.seoAnalysis)==null?void 0:R.headlineScore)||0}%`,height:"100%",backgroundColor:(((N=(T=(C=e.contentCreator)==null?void 0:C.content)==null?void 0:T.seoAnalysis)==null?void 0:N.headlineScore)||0)>=85?"#10b981":(((D=(w=(I=e.contentCreator)==null?void 0:I.content)==null?void 0:w.seoAnalysis)==null?void 0:D.headlineScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}}))))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📝 Caption"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},e.contentCreator.content.caption)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Caption SEO"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((P=(_=(W=e.contentCreator)==null?void 0:W.content)==null?void 0:_.seoAnalysis)==null?void 0:P.captionScore)||0)>=85?"#10b981":(((A=(M=(B=e.contentCreator)==null?void 0:B.content)==null?void 0:M.seoAnalysis)==null?void 0:A.captionScore)||0)>=75?"#f59e0b":"#ef4444"}},((Y=(F=(O=e.contentCreator)==null?void 0:O.content)==null?void 0:F.seoAnalysis)==null?void 0:Y.captionScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((H=(ce=(ee=e.contentCreator)==null?void 0:ee.content)==null?void 0:ce.seoAnalysis)==null?void 0:H.captionScore)||0}%`,height:"100%",backgroundColor:(((re=(V=(J=e.contentCreator)==null?void 0:J.content)==null?void 0:V.seoAnalysis)==null?void 0:re.captionScore)||0)>=85?"#10b981":(((me=(xe=(he=e.contentCreator)==null?void 0:he.content)==null?void 0:xe.seoAnalysis)==null?void 0:me.captionScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}}))))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"🏷️ Hashtags"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},e.contentCreator.content.hashtag)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Overall SEO Score"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((ft=(Ue=(Ne=e.contentCreator)==null?void 0:Ne.content)==null?void 0:Ue.seoAnalysis)==null?void 0:ft.overallScore)||0)>=85?"#10b981":(((Ve=(qe=(Ge=e.contentCreator)==null?void 0:Ge.content)==null?void 0:qe.seoAnalysis)==null?void 0:Ve.overallScore)||0)>=75?"#f59e0b":"#ef4444"}},((G=(ie=(Ke=e.contentCreator)==null?void 0:Ke.content)==null?void 0:ie.seoAnalysis)==null?void 0:G.overallScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((Ae=(X=(q=e.contentCreator)==null?void 0:q.content)==null?void 0:X.seoAnalysis)==null?void 0:Ae.overallScore)||0}%`,height:"100%",backgroundColor:(((bt=(Qe=(tt=e.contentCreator)==null?void 0:tt.content)==null?void 0:Qe.seoAnalysis)==null?void 0:bt.overallScore)||0)>=85?"#10b981":(((ht=(pt=(Rt=e.contentCreator)==null?void 0:Rt.content)==null?void 0:pt.seoAnalysis)==null?void 0:ht.overallScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))))))),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"}},o.createElement("button",{onClick:()=>n(e),style:{padding:"12px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:ne=>{ne.target.style.transform="translateY(-1px)",ne.target.style.boxShadow="0 6px 16px rgba(102, 126, 234, 0.4)"},onMouseLeave:ne=>{ne.target.style.transform="translateY(0)",ne.target.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.3)"}},o.createElement(Ua,{size:14})," Edit Task"),o.createElement("button",{onClick:()=>r(e),style:{padding:"12px 24px",background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(255, 107, 107, 0.3)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:ne=>{ne.target.style.transform="translateY(-1px)",ne.target.style.boxShadow="0 6px 16px rgba(255, 107, 107, 0.4)"},onMouseLeave:ne=>{ne.target.style.transform="translateY(0)",ne.target.style.boxShadow="0 4px 12px rgba(255, 107, 107, 0.3)"}},o.createElement(Do,{size:14})," Delete")))};function G8(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,a]=m.useState(!0),[s,l]=m.useState(null),[c,d]=m.useState(null),[u,f]=m.useState({isOpen:!1,task:null,type:null}),p=m.useRef(!1);m.useEffect(()=>{if(p.current)return;p.current=!0,a(!0),(async()=>{try{const S=await(await S0("http://localhost:3000/api/v1/tasks/marketing/content-creator/task")).json();console.log("Content Creator tasks API response:",S),t(Array.isArray(S.data)?S.data:[]);const R=await(await S0("http://localhost:3000/api/v1/tasks/marketing/graphic-designer/task")).json();console.log("Graphic Designer tasks API response:",R),r(Array.isArray(R.data)?R.data:[])}catch(E){console.error("Error fetching tasks:",E),t([]),r([])}finally{a(!1)}})();const g=Un("http://localhost:3000",{withCredentials:!0});return g.on("ongoingContentCreatorTask",E=>{t(S=>[E,...Array.isArray(S)?S:[]])}),g.on("ongoingGraphicDesignerTask",E=>{r(S=>[E,...Array.isArray(S)?S:[]])}),g.on("contentSubmittedForApproval",E=>{t(S=>S.map(k=>k.id===E.taskId?{...k,status:"pending_approval",content:E.content}:k))}),()=>g.disconnect()},[]);const x=(h,g)=>{l(h),d(g)},v=async h=>{console.log("Saving task with data:",h);try{const g=c==="Content Creator"?"contentcreator":"graphicdesigner",E=s.id||s._id;console.log("API call:",`http://localhost:3000/api/v1/tasks/task/${g}/${E}`);const S=await fetch(`http://localhost:3000/api/v1/tasks/task/${g}/${encodeURIComponent(E)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,minAge:parseInt(h.minAge),maxAge:parseInt(h.maxAge),numContent:h.numContent?parseInt(h.numContent):void 0})});if(console.log("Response status:",S.status),S.ok){const k={...h,minAge:parseInt(h.minAge),maxAge:parseInt(h.maxAge),numContent:h.numContent?parseInt(h.numContent):void 0};c==="Content Creator"?t(R=>R.map(C=>(C.id||C._id)===E?{...C,...k}:C)):r(R=>R.map(C=>(C.id||C._id)===E?{...C,...k}:C)),l(null),d(null),console.log("Task updated successfully")}else{const k=await S.text();console.error("Failed to update task:",k),alert("Failed to update task: "+k)}}catch(g){console.error("Error updating task:",g),alert("Error updating task: "+g.message)}},y=(h,g)=>{f({isOpen:!0,task:h,type:g,taskTitle:h.objectives||"Untitled Task"})},b=async()=>{const{task:h,type:g}=u;try{const E=h.id||h._id,S=await fetch(`http://localhost:3000/api/v1/tasks/workflow/${encodeURIComponent(E)}`,{method:"DELETE"});if(S.ok)g==="Content Creator"?t(k=>k.filter(R=>(R.id||R._id)!==E)):r(k=>k.filter(R=>(R.id||R._id)!==E)),console.log("Task deleted successfully");else{const k=await S.text();console.error("Failed to delete task:",k),alert("Failed to delete task")}}catch(E){console.error("Error deleting task:",E),alert("Error deleting task: "+E.message)}finally{f({isOpen:!1,task:null,type:null})}};return o.createElement("div",{style:{padding:"0",maxWidth:"100%"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Ongoing Tasks"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"Monitor and manage active tasks for content creators and graphic designers")),o.createElement("div",{style:{marginBottom:"40px"}},o.createElement("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"}},"Content Creator Tasks"),i?o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontSize:"14px"}},"Loading tasks..."):Array.isArray(e)&&e.length===0?o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#9ca3af",fontSize:"14px"}},"No ongoing tasks for content creators."):Array.isArray(e)?e.map(h=>o.createElement(_0,{key:h.id||h._id,task:h,type:"Content Creator",onEdit:g=>x(g,"Content Creator"),onDelete:g=>y(g,"Content Creator")})):o.createElement("div",{style:{color:"#ef4444",padding:"20px",textAlign:"center"}},"Error: Tasks data is not available."))),o.createElement("div",null,o.createElement("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"}},"Graphic Designer Tasks"),i?o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontSize:"14px"}},"Loading tasks..."):Array.isArray(n)&&n.length===0?o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#9ca3af",fontSize:"14px"}},"No ongoing tasks for graphic designers."):Array.isArray(n)?n.map(h=>o.createElement(_0,{key:h.id||h._id,task:h,type:"Graphic Designer",onEdit:g=>x(g,"Graphic Designer"),onDelete:g=>y(g,"Graphic Designer")})):o.createElement("div",{style:{color:"#ef4444",padding:"20px",textAlign:"center"}},"Error: Tasks data is not available."))),s&&o.createElement(V8,{task:s,type:c,onClose:()=>{l(null),d(null)},onSave:v}),u.isOpen&&o.createElement(Y8,{isOpen:u.isOpen,onConfirm:b,onCancel:()=>f({isOpen:!1,task:null,type:null}),taskTitle:u.taskTitle,taskType:u.type}))}function q8(){return o.createElement("div",null,o.createElement("h2",null,"Set Schedule"),o.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function K8(){return o.createElement("div",null,o.createElement("h2",null,"Ongoing Schedule"),o.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function Q8(){return o.createElement("div",null,o.createElement("h2",null,"Posted Content"),o.createElement("div",{style:{marginTop:24}},"Pending Content..."))}const J8=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,a]=m.useState({}),[s,l]=m.useState(null),[c,d]=m.useState(!1);m.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const b=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/posted")).json();console.log("🔍 PostedContents - Posted workflows:",b),b.status==="success"&&t(b.data||[])}catch(y){console.error("❌ Error fetching posted contents:",y),t([])}finally{r(!1)}},f=y=>{a(b=>({...b,[y]:!b[y]}))},p=y=>{var h,g,E;const b=((h=y.graphicDesigner)==null?void 0:h.designUrl)||((E=(g=y.graphicDesigner)==null?void 0:g.designs)==null?void 0:E.designUrl);b&&(l({url:b,title:y.objectives}),d(!0))},x=()=>{d(!1),l(null)},v=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return n?o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Posted Contents")),o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"}},"Loading posted contents...")):o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Posted Contents"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"Content that has been posted after deadline (",e.length," items)")),e.length===0?o.createElement("div",{style:{background:"#ffffff",borderRadius:"16px",padding:"60px 40px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"}},o.createElement("p",null,"No posted contents found.")):o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},e.map(y=>{var S,k,R,C,T;const b=i[y.id],h=(S=y.contentCreator)==null?void 0:S.content,g=h==null?void 0:h.seoAnalysis,E=((k=y.graphicDesigner)==null?void 0:k.designUrl)||((C=(R=y.graphicDesigner)==null?void 0:R.designs)==null?void 0:C.designUrl);return o.createElement("div",{key:y.id,style:{background:"#ffffff",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 8px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700"}},y.objectives),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("span",{style:{background:"#dcfce7",color:"#166534",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"}},"Posted"),o.createElement("span",{style:{color:"#6b7280",fontSize:"14px"}},"Posted: ",v((T=y.finalApproval)==null?void 0:T.approvedAt)))),o.createElement("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",fontWeight:"bold",color:"#6b7280"},onClick:()=>f(y.id)},b?"−":"+")),o.createElement("div",null,o.createElement("div",null,o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{flex:1}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("span",{style:{fontWeight:"600",color:"#374151",marginRight:"8px"}},"Headline:"),o.createElement("span",{style:{color:"#6b7280"}},(h==null?void 0:h.headline)||"N/A")),o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("span",{style:{fontWeight:"600",color:"#374151",marginRight:"8px"}},"Caption:"),o.createElement("span",{style:{color:"#6b7280"}},(h==null?void 0:h.caption)||"N/A")),o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("span",{style:{fontWeight:"600",color:"#374151",marginRight:"8px"}},"Hashtags:"),o.createElement("span",{style:{color:"#6b7280"}},(h==null?void 0:h.hashtag)||"N/A"))),g&&o.createElement("div",{style:{width:"280px"}},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},o.createElement("div",null,o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600"}},"Headline"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700"}},g.headlineScore||0,"%")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px"}},o.createElement("div",{style:{width:`${g.headlineScore||0}%`,height:"100%",backgroundColor:"#10b981",borderRadius:"4px"}}))),o.createElement("div",null,o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600"}},"Caption"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700"}},g.captionScore||0,"%")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px"}},o.createElement("div",{style:{width:`${g.captionScore||0}%`,height:"100%",backgroundColor:"#10b981",borderRadius:"4px"}}))),o.createElement("div",null,o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600"}},"Overall"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700"}},g.overallScore||0,"%")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px"}},o.createElement("div",{style:{width:`${g.overallScore||0}%`,height:"100%",backgroundColor:"#10b981",borderRadius:"4px"}})))))),b&&o.createElement("div",{style:{marginTop:"20px",padding:"20px",background:"#f8fafc",borderRadius:"12px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"}},o.createElement("div",null,o.createElement("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",color:"#374151"}},"Campaign Details"),o.createElement("p",{style:{margin:"4px 0",fontSize:"14px",color:"#6b7280"}},o.createElement("strong",null,"Target Audience:")," ",y.gender,", Ages ",y.minAge,"-",y.maxAge),o.createElement("p",{style:{margin:"4px 0",fontSize:"14px",color:"#6b7280"}},o.createElement("strong",null,"Deadline:")," ",v(y.deadline)),o.createElement("p",{style:{margin:"4px 0",fontSize:"14px",color:"#6b7280"}},o.createElement("strong",null,"Created:")," ",v(y.createdAt))),y.finalApproval&&o.createElement("div",null,o.createElement("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",color:"#374151"}},"Approval Details"),o.createElement("p",{style:{margin:"4px 0",fontSize:"14px",color:"#6b7280"}},o.createElement("strong",null,"Approved By:")," ",y.finalApproval.approvedBy),o.createElement("p",{style:{margin:"4px 0",fontSize:"14px",color:"#6b7280"}},o.createElement("strong",null,"Approved At:")," ",v(y.finalApproval.approvedAt))),E&&o.createElement("div",null,o.createElement("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",color:"#374151"}},"Design"),o.createElement("button",{style:{padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},onClick:()=>p(y)},"View Design")))))))})),c&&s&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:x},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto"},onClick:y=>y.stopPropagation()},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}},o.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700"}},s.title),o.createElement("button",{style:{background:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",fontSize:"16px"},onClick:x},"×")),o.createElement("div",null,o.createElement("img",{src:s.url,alt:"Design",style:{maxWidth:"100%",maxHeight:"70vh",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}})))))},X8=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,a]=m.useState({});m.useEffect(()=>{s()},[]);const s=async()=>{try{r(!0);const u=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/approved")).json();u.status==="success"&&t(u.data||[])}catch(d){console.error("❌ Error fetching pending posts:",d),t([])}finally{r(!1)}},l=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",c=async d=>{try{a(p=>({...p,[d]:!0}));const f=await(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${d}/post-now`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();f.status==="success"?(t(p=>p.filter(x=>x.id!==d)),alert("Content posted successfully!")):alert("Failed to post content: "+f.message)}catch(u){console.error("Error posting content:",u),alert("Error posting content")}finally{a(u=>({...u,[d]:!1}))}};return n?o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Posting")),o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"}},"Loading pending posts...")):o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Posting"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"Approved content pending for posting (",e.length," items)")),e.length===0?o.createElement("div",{style:{background:"#ffffff",borderRadius:"16px",padding:"60px 40px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"}},o.createElement("p",null,"No content pending for posting.")):o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},e.map(d=>o.createElement("div",{key:d.id,style:{background:"#ffffff",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",null,o.createElement("h3",{style:{margin:"0 0 8px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700"}},d.objectives),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("span",{style:{background:"#fef3c7",color:"#92400e",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"}},"Pending"),o.createElement("span",{style:{color:"#6b7280",fontSize:"14px"}},"Will post on: ",l(d.deadline)))),o.createElement("button",{onClick:()=>c(d.id),disabled:i[d.id],style:{padding:"8px 16px",background:i[d.id]?"#9ca3af":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"8px",cursor:i[d.id]?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",boxShadow:i[d.id]?"none":"0 2px 8px rgba(59, 130, 246, 0.3)"}},i[d.id]?"Posting...":"Post Now"))))))};function Nb(){var g,E,S,k,R,C,T,N,I,w,D,W,_,P,B,M,A,O,F,Y,ee,ce,H,J,V,re,he,xe,me,Ne,Ue,ft,Ge,qe,Ve,Ke,ie,G,q,X,Ae,tt,Qe,bt,Rt,pt,ht,ne,Xt,$t,ri,An,ii,yr,Pn,Ee,ws,jo,hn,Cs;const[e]=Ao(),t=et(),n=e.get("workflowId"),[r,i]=m.useState(null),[a,s]=m.useState(!0),[l,c]=m.useState(!1),[d,u]=m.useState(null),[f,p]=m.useState(!1),[x,v]=m.useState(null);m.useEffect(()=>{n?y():s(!1)},[n]),m.useEffect(()=>{if(!r&&!a)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}},[r,a]);const y=async()=>{try{s(!0);const Dn=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/stage/marketinglead")).json();if(Dn.status==="success"){const Oi=Dn.data.find($o=>$o.id===n&&$o.status==="ready_for_design_assignment");i(Oi)}}catch(de){console.error("Error fetching workflow:",de),u("Failed to load workflow data")}finally{s(!1)}},b=de=>new Date(de).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),h=async()=>{if(n){c(!0),u(null);try{(await(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${n}/assign-to-graphic-designer`,{method:"POST",headers:{"Content-Type":"application/json"}})).json()).status==="success"?(p(!0),v({message:"Task assigned successfully!",type:"success"}),setTimeout(()=>{t("/marketing/ongoing-task")},1500)):v({message:"Failed to assign task",type:"error"})}catch{v({message:"Failed to assign task",type:"error"})}finally{c(!1)}}};return a?o.createElement("div",{style:{padding:"40px",textAlign:"center"}},o.createElement("h2",null,"Loading workflow data...")):r?o.createElement("div",{style:{padding:"0",maxWidth:"100%"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Set Task - Graphic Designer"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Assign approved content to graphic designers for visual creation")),o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",width:"100%"}},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"32px"}},o.createElement("div",null,o.createElement("h3",{style:{fontWeight:"700",fontSize:"18px",color:"#1f2937",marginBottom:"16px",letterSpacing:"-0.025em"}},"Task Information"),o.createElement("div",{style:{padding:"24px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"16px",border:"2px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",marginBottom:"8px"}},"Task Objectives"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"600",color:"#374151",background:"#fff",padding:"12px 16px",borderRadius:"8px",lineHeight:"1.5"}},r.objectives)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",marginBottom:"8px"}},"Target Gender"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"600",color:"#374151",background:"#fff",padding:"12px 16px",borderRadius:"8px"}},r.gender)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",marginBottom:"8px"}},"Age Range"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"600",color:"#374151",background:"#fff",padding:"12px 16px",borderRadius:"8px"}},r.minAge,"-",r.maxAge," years")),o.createElement("div",null,o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",marginBottom:"8px"}},"Posting Date"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"600",color:"#374151",background:"#fff",padding:"12px 16px",borderRadius:"8px"}},b(r.deadline)))))),o.createElement("div",null,o.createElement("h3",{style:{fontWeight:"700",fontSize:"18px",color:"#1f2937",marginBottom:"16px",letterSpacing:"-0.025em"}},"Approved Content for Design"),o.createElement("div",{style:{background:"transparent",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"24px"}},o.createElement("span",{style:{fontSize:"18px"}},"✨"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#0c4a6e"}},"Content Analysis")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📰 Headline"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.4}},(E=(g=r.contentCreator)==null?void 0:g.content)==null?void 0:E.headline)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Headline SEO"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((R=(k=(S=r.contentCreator)==null?void 0:S.content)==null?void 0:k.seoAnalysis)==null?void 0:R.headlineScore)||0)>=85?"#10b981":(((N=(T=(C=r.contentCreator)==null?void 0:C.content)==null?void 0:T.seoAnalysis)==null?void 0:N.headlineScore)||0)>=75?"#f59e0b":"#ef4444"}},((D=(w=(I=r.contentCreator)==null?void 0:I.content)==null?void 0:w.seoAnalysis)==null?void 0:D.headlineScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((P=(_=(W=r.contentCreator)==null?void 0:W.content)==null?void 0:_.seoAnalysis)==null?void 0:P.headlineScore)||0}%`,height:"100%",backgroundColor:(((A=(M=(B=r.contentCreator)==null?void 0:B.content)==null?void 0:M.seoAnalysis)==null?void 0:A.headlineScore)||0)>=85?"#10b981":(((Y=(F=(O=r.contentCreator)==null?void 0:O.content)==null?void 0:F.seoAnalysis)==null?void 0:Y.headlineScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}}))))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📝 Caption"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},(ce=(ee=r.contentCreator)==null?void 0:ee.content)==null?void 0:ce.caption)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Caption SEO"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((V=(J=(H=r.contentCreator)==null?void 0:H.content)==null?void 0:J.seoAnalysis)==null?void 0:V.captionScore)||0)>=85?"#10b981":(((xe=(he=(re=r.contentCreator)==null?void 0:re.content)==null?void 0:he.seoAnalysis)==null?void 0:xe.captionScore)||0)>=75?"#f59e0b":"#ef4444"}},((Ue=(Ne=(me=r.contentCreator)==null?void 0:me.content)==null?void 0:Ne.seoAnalysis)==null?void 0:Ue.captionScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((qe=(Ge=(ft=r.contentCreator)==null?void 0:ft.content)==null?void 0:Ge.seoAnalysis)==null?void 0:qe.captionScore)||0}%`,height:"100%",backgroundColor:(((ie=(Ke=(Ve=r.contentCreator)==null?void 0:Ve.content)==null?void 0:Ke.seoAnalysis)==null?void 0:ie.captionScore)||0)>=85?"#10b981":(((X=(q=(G=r.contentCreator)==null?void 0:G.content)==null?void 0:q.seoAnalysis)==null?void 0:X.captionScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}}))))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"🏷️ Hashtags"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},(tt=(Ae=r.contentCreator)==null?void 0:Ae.content)==null?void 0:tt.hashtag)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Overall SEO Score"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((Rt=(bt=(Qe=r.contentCreator)==null?void 0:Qe.content)==null?void 0:bt.seoAnalysis)==null?void 0:Rt.overallScore)||0)>=85?"#10b981":(((ne=(ht=(pt=r.contentCreator)==null?void 0:pt.content)==null?void 0:ht.seoAnalysis)==null?void 0:ne.overallScore)||0)>=75?"#f59e0b":"#ef4444"}},((ri=($t=(Xt=r.contentCreator)==null?void 0:Xt.content)==null?void 0:$t.seoAnalysis)==null?void 0:ri.overallScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((yr=(ii=(An=r.contentCreator)==null?void 0:An.content)==null?void 0:ii.seoAnalysis)==null?void 0:yr.overallScore)||0}%`,height:"100%",backgroundColor:(((ws=(Ee=(Pn=r.contentCreator)==null?void 0:Pn.content)==null?void 0:Ee.seoAnalysis)==null?void 0:ws.overallScore)||0)>=85?"#10b981":(((Cs=(hn=(jo=r.contentCreator)==null?void 0:jo.content)==null?void 0:hn.seoAnalysis)==null?void 0:Cs.overallScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))))))),o.createElement("button",{onClick:h,disabled:l||f,style:{background:l||f?"#9ca3af":"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#ffffff",border:"none",borderRadius:"12px",padding:"16px 32px",fontWeight:"600",fontSize:"15px",cursor:l||f?"not-allowed":"pointer",boxShadow:l||f?"none":"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease",fontFamily:"inherit",alignSelf:"flex-start"},onMouseEnter:de=>{!l&&!f&&(de.target.style.background="linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",de.target.style.transform="translateY(-2px)",de.target.style.boxShadow="0 8px 20px rgba(59, 130, 246, 0.4)")},onMouseLeave:de=>{!l&&!f&&(de.target.style.background="linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",de.target.style.transform="translateY(0)",de.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)")}},l?"Assigning Task...":f?"Task Assigned!":"Assign to Graphic Designer"))),x&&o.createElement(Po,{message:x.message,type:x.type,onClose:()=>v(null)})):o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"60px 20px",minHeight:"calc(100vh - 200px)"}},o.createElement("div",{style:{maxWidth:480,textAlign:"center",background:"#ffffff",borderRadius:20,padding:"60px 40px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",border:"1px solid #f1f5f9"}},o.createElement("div",{style:{fontSize:"80px",marginBottom:"24px",filter:"grayscale(20%)"}},"🎨"),o.createElement("h2",{style:{color:"#1e293b",marginBottom:"12px",fontSize:"24px",fontWeight:"700",letterSpacing:"-0.025em"}},"No Content Ready"),o.createElement("p",{style:{color:"#64748b",marginBottom:"32px",fontSize:"16px",lineHeight:"1.6",maxWidth:"320px",margin:"0 auto 32px auto"}},"No approved content is available for design assignment. Create and approve content first."),o.createElement("button",{onClick:()=>window.history.back(),style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"#ffffff",border:"none",borderRadius:12,padding:"14px 28px",fontWeight:"600",fontSize:"15px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.4)"},onMouseEnter:de=>{de.target.style.transform="translateY(-2px)",de.target.style.boxShadow="0 8px 20px rgba(59, 130, 246, 0.4)"},onMouseLeave:de=>{de.target.style.transform="translateY(0)",de.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.4)"}},"← Go Back")))}function Z8(){const[e,t]=m.useState(null);return e==="content-creator"?o.createElement(Ib,null):e==="graphic-designer"?o.createElement(Nb,null):o.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #ffffff 0%, #fef7ed 100%)",padding:"40px 20px",fontFamily:"Inter, system-ui, -apple-system, sans-serif"}},o.createElement("div",{style:{maxWidth:600,margin:"0 auto",background:"#ffffff",borderRadius:24,boxShadow:"0 25px 50px -12px rgba(239, 68, 68, 0.15), 0 0 0 1px rgba(251, 191, 36, 0.1)",padding:"48px 40px",position:"relative",overflow:"hidden",border:"1px solid rgba(251, 191, 36, 0.2)"}},o.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,height:"6px",background:"linear-gradient(90deg, #ef4444, #fbbf24, #ef4444, #fbbf24)",borderRadius:"24px 24px 0 0"}}),o.createElement("div",{style:{textAlign:"center",marginBottom:40}},o.createElement("h1",{style:{fontWeight:800,fontSize:36,color:"#ef4444",margin:0,letterSpacing:"-0.8px"}},"Set Task"),o.createElement("p",{style:{color:"#6b7280",fontSize:17,margin:"8px 0 0 0",fontWeight:500}},"Choose the type of task you want to create")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:20}},o.createElement("button",{onClick:()=>t("content-creator"),style:{display:"flex",alignItems:"center",gap:"16px",padding:"24px 32px",borderRadius:16,border:"2px solid #e5e7eb",background:"#fafbfc",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"inherit",fontSize:16,fontWeight:600,color:"#1f2937",width:"100%",textAlign:"left"},onMouseEnter:n=>{n.target.style.borderColor="#ef4444",n.target.style.background="#fef2f2",n.target.style.transform="translateY(-2px)",n.target.style.boxShadow="0 8px 25px rgba(239, 68, 68, 0.15)"},onMouseLeave:n=>{n.target.style.borderColor="#e5e7eb",n.target.style.background="#fafbfc",n.target.style.transform="translateY(0)",n.target.style.boxShadow="none"}},o.createElement("span",{style:{fontSize:"32px"}},"👨💻"),o.createElement("div",null,o.createElement("div",{style:{fontSize:18,fontWeight:700,marginBottom:4}},"Content Creator"),o.createElement("div",{style:{fontSize:14,color:"#6b7280",fontWeight:500}},"Create tasks for content creation and writing"))),o.createElement("button",{onClick:()=>t("graphic-designer"),style:{display:"flex",alignItems:"center",gap:"16px",padding:"24px 32px",borderRadius:16,border:"2px solid #e5e7eb",background:"#fafbfc",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"inherit",fontSize:16,fontWeight:600,color:"#1f2937",width:"100%",textAlign:"left"},onMouseEnter:n=>{n.target.style.borderColor="#ef4444",n.target.style.background="#fef2f2",n.target.style.transform="translateY(-2px)",n.target.style.boxShadow="0 8px 25px rgba(239, 68, 68, 0.15)"},onMouseLeave:n=>{n.target.style.borderColor="#e5e7eb",n.target.style.background="#fafbfc",n.target.style.transform="translateY(0)",n.target.style.boxShadow="none"}},o.createElement("span",{style:{fontSize:"32px"}},"🎨"),o.createElement("div",null,o.createElement("div",{style:{fontSize:18,fontWeight:700,marginBottom:4}},"Graphic Designer"),o.createElement("div",{style:{fontSize:14,color:"#6b7280",fontWeight:500}},"Create tasks for design and visual content"))))))}const e3=({isOpen:e,onClose:t})=>{if(!e)return null;const{user:n,setUser:r}=Rn(),[i,a]=m.useState({firstName:"",lastName:"",profilePicture:null}),[s,l]=m.useState(!1),[c,d]=m.useState({text:"",type:""});m.useEffect(()=>{n&&a(x=>({...x,firstName:n.firstName||"",lastName:n.lastName||"",profilePicture:n.profilePicture||null}))},[n,e]);const u=(x,v)=>{a(y=>({...y,[x]:v}))},f=async x=>{const v=x.target.files[0];if(v){l(!0);try{const b=await(await Me(()=>Promise.resolve().then(()=>ld),void 0)).default.uploadProfilePicture(v);a(g=>({...g,profilePicture:b.url}));const h={...n,profilePicture:b.url};r(h),localStorage.setItem("user",JSON.stringify(h)),d({text:"Profile picture uploaded successfully!",type:"success"}),setTimeout(()=>d({text:"",type:""}),3e3)}catch{d({text:"Failed to upload image",type:"error"}),setTimeout(()=>d({text:"",type:""}),3e3)}finally{l(!1)}}},p=async()=>{l(!0);try{const{ref:x,update:v}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:y}=await Me(()=>Promise.resolve().then(()=>or),void 0),b=x(y,`${n.role}/${n.username.toLowerCase()}`);await v(b,{firstName:i.firstName,lastName:i.lastName,profilePicture:i.profilePicture});const h={...n,firstName:i.firstName,lastName:i.lastName,profilePicture:i.profilePicture};r(h),localStorage.setItem("user",JSON.stringify(h)),d({text:"Settings saved successfully!",type:"success"}),setTimeout(()=>{d({text:"",type:""}),t()},1500)}catch{d({text:"Failed to save settings",type:"error"})}finally{l(!1)}};return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{style:{background:"#f8fafc",borderRadius:16,width:"90vw",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"}},o.createElement("div",{style:{padding:"32px"}},o.createElement("div",{style:{marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("div",null,o.createElement("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"}},"Settings"),o.createElement("p",{style:{color:"#6b7280",margin:0}},"Manage your profile and preferences")),o.createElement("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"#6b7280"}},"✕")),o.createElement("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 24px 0"}},"Profile Settings"),o.createElement("div",{style:{marginBottom:"24px",textAlign:"center"}},o.createElement("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:i.profilePicture?`url(${i.profilePicture})`:"#e5e7eb",backgroundSize:"cover",backgroundPosition:"center",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #f3f4f6"}},!i.profilePicture&&o.createElement(vt,{size:48,color:"#9ca3af"})),o.createElement("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",color:"#374151"}},o.createElement(Ac,{size:16}),"Change Picture",o.createElement("input",{type:"file",accept:"image/*",onChange:f,style:{display:"none"}}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"First Name"),o.createElement("input",{type:"text",value:i.firstName,onChange:x=>u("firstName",x.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}})),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Last Name"),o.createElement("input",{type:"text",value:i.lastName,onChange:x=>u("lastName",x.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}}))),o.createElement("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},c.text&&o.createElement("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",background:c.type==="success"?"#f0fdf4":"#fef2f2",color:c.type==="success"?"#059669":"#dc2626",border:`1px solid ${c.type==="success"?"#bbf7d0":"#fecaca"}`}},c.text),o.createElement("button",{onClick:p,disabled:s,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"500",cursor:s?"not-allowed":"pointer",opacity:s?.7:1}},o.createElement(Oc,{size:16}),s?"Saving...":"Save Settings"))))))},t3=[{label:"Dashboard",path:"/content/dashboard",icon:Dc},{label:"Create Content",path:"/content/create",icon:Pc},{label:"Task",path:"/content/task",icon:us},{label:"Drafts",path:"/content/drafts",icon:mo},{label:"Ongoing Approval",path:"/content/approval",icon:jt}];function n3(){const{user:e,setUser:t}=Rn(),[n,r]=m.useState(!1),[i,a]=m.useState(!1),[s,l]=m.useState(!1),c=m.useRef(null),d=Dt();m.useEffect(()=>{function f(p){c.current&&!c.current.contains(p.target)&&r(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const u=()=>{t(null),localStorage.removeItem("user"),window.location.replace("/login")};return o.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},o.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:64,background:"#fff",borderBottom:"1px solid #ececec",padding:"0 32px",position:"relative",flexShrink:0,borderRadius:0,width:"100vw",boxSizing:"border-box"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},o.createElement("img",{src:"/assets/infinitylogo.png",alt:"infinitysalon",style:{height:"40px",width:"auto"}}),o.createElement("button",{onClick:()=>a(!i),style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:f=>f.target.style.background="#f0f0f0",onMouseLeave:f=>f.target.style.background="none"},o.createElement(Lc,{size:20,color:"#666"}))),o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement(od,{role:"ContentCreator",style:{marginRight:"20px"}}),o.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:c},o.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>r(f=>!f)},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:40,height:40,borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:24,color:"#fff"}))),n&&o.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",borderRadius:8,minWidth:200,zIndex:10,padding:"12px 0"}},o.createElement("div",{style:{padding:"0 16px 10px 16px",borderBottom:"1px solid #f0f0f0",marginBottom:8}},o.createElement("div",{style:{fontWeight:700,color:"#222",fontSize:16}},(e==null?void 0:e.firstName)||"Content"," ",(e==null?void 0:e.lastName)||"Creator"),o.createElement("div",{style:{fontSize:13,color:"#6b7280",fontWeight:500,marginTop:2}},(e==null?void 0:e.role)||"Content Creator")),o.createElement("button",{onClick:()=>{l(!0),r(!1)},style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},o.createElement(Mc,{style:{marginRight:8}})," Settings"),o.createElement("button",{onClick:u,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},o.createElement(zc,{style:{marginRight:8}})," Logout"))))),o.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},!i&&o.createElement("div",{className:"sidebar",style:{width:"220px",background:"#ffffff",borderRight:"1px solid #ececec",padding:"32px 0 24px 0",borderRadius:0,minWidth:"180px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"stretch",boxShadow:"none",margin:0,minHeight:0,overflowY:"auto",maxHeight:"calc(100vh - 124px)"}},o.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:32,padding:"0 12px"}},o.createElement("div",{className:"user-profile",style:{display:"flex",alignItems:"center",gap:16,padding:"20px 16px",background:"#f8fafc",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:48,height:48,borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:48,height:48,borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:28,color:"#fff"})),o.createElement("div",{className:"user-info",style:{display:"flex",flexDirection:"column",justifyContent:"center",minWidth:0}},o.createElement("div",{className:"user-name",style:{fontWeight:700,fontSize:17,color:"#222",lineHeight:"1.2",whiteSpace:"normal",maxHeight:"2.4em",overflow:"hidden"}},(e==null?void 0:e.firstName)||"Content"," ",(e==null?void 0:e.lastName)||"Creator"),o.createElement("div",{className:"user-role",style:{fontSize:13,color:"#6b7280",fontWeight:500,marginTop:2}},(e==null?void 0:e.role)||"Content Creator")))),o.createElement("nav",{className:"navigation",style:{display:"flex",flexDirection:"column",gap:8,marginTop:10,minHeight:0,padding:"0 12px"}},t3.map((f,p)=>o.createElement(Wn,{key:f.path,to:f.path,className:`nav-item${d.pathname===f.path?" active":""}`,style:{padding:"14px 20px",fontWeight:600,borderRadius:12,color:d.pathname===f.path?"#fff":"#374151",background:d.pathname===f.path?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:d.pathname===f.path?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:15}},o.createElement(f.icon,{size:20,style:{marginRight:14}}),f.label)))),o.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column",background:"#fff",borderRadius:0,margin:0,boxShadow:"none",padding:"0 0 0 0"}},o.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},o.createElement(cs,null)))),o.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},o.createElement("div",{className:"admin-dashboard-footer-container"},o.createElement("div",{className:"admin-dashboard-footer-left"},o.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})))),o.createElement(e3,{isOpen:s,onClose:()=>l(!1)}))}function w0(){const[e,t]=m.useState({assignedTasks:0,completedTasks:0,pendingSubmissions:0,approvedContent:0,recentTasks:[]}),[n,r]=m.useState(!0);if(m.useEffect(()=>{(async()=>{try{const s=we(Ce,"workflows"),l=await an(s);if(l.exists()){const c=l.val();let d=0,u=0,f=0,p=0;const x=[];Object.entries(c).forEach(([v,y])=>{y.currentStage==="contentcreator"&&y.status==="content_creation"&&(d++,x.push({id:v,title:y.objectives||"Content Task",status:"assigned",deadline:y.deadline,createdAt:y.createdAt})),y.status==="content_approval"&&y.contentCreator&&(u++,f++,x.push({id:v,title:y.objectives||"Content Task",status:"pending_approval",submittedAt:y.contentCreator.submittedAt})),y.marketingApproval&&y.contentCreator&&(p++,x.push({id:v,title:y.objectives||"Content Task",status:"approved",approvedAt:y.marketingApproval.approvedAt}))}),x.sort((v,y)=>{const b=new Date(v.createdAt||v.submittedAt||v.approvedAt);return new Date(y.createdAt||y.submittedAt||y.approvedAt)-b}),t({assignedTasks:d,completedTasks:u,pendingSubmissions:f,approvedContent:p,recentTasks:x.slice(0,5)})}}catch(s){console.error("Error fetching dashboard data:",s)}finally{r(!1)}})()},[]),n)return o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",null,"Loading dashboard..."));const i=({icon:a,title:s,value:l,badge:c,color:d="blue"})=>o.createElement("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:d==="blue"?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":d==="green"?"linear-gradient(135deg, #10b981 0%, #059669 100%)":d==="orange"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},o.createElement(a,{size:28})),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"500",color:"#6b7280",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"}},s))),o.createElement("span",{style:{background:d==="blue"?"#dbeafe":d==="green"?"#d1fae5":d==="orange"?"#fed7aa":"#e0e7ff",color:d==="blue"?"#1e40af":d==="green"?"#065f46":d==="orange"?"#9a3412":"#5b21b6",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"}},c)),o.createElement("div",{style:{fontSize:"36px",fontWeight:"800",color:"#111827",marginBottom:"8px",lineHeight:"1"}},l));return o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Content Creator Dashboard"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Manage your content creation tasks and track your progress")),o.createElement("div",{style:Xe.statsGrid},o.createElement(i,{icon:Ua,title:"Assigned Tasks",value:e.assignedTasks,badge:"TASKS",color:"blue"}),o.createElement(i,{icon:jt,title:"Pending Submissions",value:e.pendingSubmissions,badge:"PENDING",color:"orange"}),o.createElement(i,{icon:Hn,title:"Approved Content",value:e.approvedContent,badge:"APPROVED",color:"green"}),o.createElement(i,{icon:jp,title:"Total Completed",value:e.completedTasks,badge:"TOTAL",color:"purple"})),o.createElement("div",{style:Xe.card},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"}},"Recent Tasks"),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},e.recentTasks.length>0?e.recentTasks.map((a,s)=>o.createElement("div",{key:a.id,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{...Xe.statusDot,background:pc[a.status]||pc.inactive}}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"}},a.title),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},a.status==="assigned"?"Ready to work on":a.status==="pending_approval"?"Waiting for approval":a.status==="approved"?"Approved by Marketing Lead":a.status))),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},a.deadline&&new Date(a.deadline).toLocaleDateString()))):o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"}},o.createElement(ds,{size:48,style:{margin:"0 auto 16px",opacity:.5}}),o.createElement("p",null,"No recent tasks found")))))}const r3=(e,t)=>{var l,c,d,u,f;const n=[`🚀 Discover the Power of ${e.split(" ")[0]||"Innovation"}`,`✨ Transform Your Life with ${e.split(" ")[1]||"Amazing"} Solutions`,`🌟 The Ultimate Guide to ${e.split(" ")[0]||"Success"}`,`💡 Why ${e.split(" ")[0]||"Everyone"} is Talking About This`,`🔥 Unlock the Secret to ${e.split(" ")[1]||"Better"} Results`],r=[`Ready to take your ${e.toLowerCase()} to the next level? Our innovative approach combines cutting-edge technology with proven strategies to deliver exceptional results. Join thousands who have already transformed their experience!`,`Experience the difference with our premium ${e.toLowerCase()} solutions. From concept to execution, we're here to make your vision a reality. Don't just dream it - achieve it!`,`Looking for ${e.toLowerCase()} that actually works? You've found it! Our expert team has crafted the perfect solution that delivers real, measurable results every time.`,`Say goodbye to ordinary ${e.toLowerCase()} and hello to extraordinary outcomes! Our revolutionary approach is changing the game for businesses and individuals alike.`,`The future of ${e.toLowerCase()} is here, and it's more exciting than ever! Discover how our innovative solutions can transform your approach and deliver amazing results.`],i=[`#${((l=e.split(" ")[0])==null?void 0:l.toLowerCase())||"innovation"} #success #transformation #growth #excellence`,`#${((c=e.split(" ")[1])==null?void 0:c.toLowerCase())||"amazing"} #results #quality #premium #lifestyle`,`#${((d=e.split(" ")[0])==null?void 0:d.toLowerCase())||"future"} #technology #innovation #breakthrough #nextlevel`,`#${((u=e.split(" ")[1])==null?void 0:u.toLowerCase())||"expert"} #professional #trusted #reliable #proven`,`#${((f=e.split(" ")[0])==null?void 0:f.toLowerCase())||"revolutionary"} #gamechanging #cutting edge #modern #advanced`],a={headline:n[t%n.length],caption:r[t%r.length],hashtag:i[t%i.length]},s=i3(a);return{id:Date.now()+t,...a,seoAnalysis:s}},i3=e=>{const t=`${e.headline} ${e.caption}`,n=t.split(" ").length,r=t.length;return{overallScore:75+r%21,headlineScore:75+e.headline.length*3%21,captionScore:75+e.caption.length*2%21,hashtagScore:75+e.hashtag.length*5%21,wordCount:n,powerWords:{count:2+r%4,words:["innovative","amazing","revolutionary","exceptional"].slice(0,2+r%3)},emotionalWords:{count:1+r%3,words:["exciting","incredible","wonderful"].slice(0,1+r%2)},commonWords:{count:3+r%5,words:["the","and","with","for","your"].slice(0,3+r%3)},uncommonWords:{count:1+r%3,words:["revolutionary","cutting-edge","breakthrough"].slice(0,1+r%2)},sentiment:{tone:["Positive","Neutral","Negative"][r%3],polarity:(r%200/100-1).toFixed(2),confidence:70+r%30,words:["amazing","excellent","great"].slice(0,1+r%2)},readability:{gradeLevel:["6th Grade","7th Grade","8th Grade","9th Grade"][r%4],readingTime:Math.ceil(n/200),fleschScore:60+r%30,complexity:["Simple","Moderate","Complex"][r%3]},analyzedAt:new Date().toISOString()}};async function o3(e){const{input:t,numContents:n=1,taskId:r}=e;console.log("🔍 ContentService Debug - Received data:",{input:t,numContents:n,taskId:r}),console.log("🤖 Step 1: Generating content with Real AI...");const i=[];try{console.log("🤖 Calling AI service for base content...");const s=await(await fetch("http://localhost:3000/api/v1/tasks/generate-ai-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:t,numContents:n})})).json();if(s.status==="success")s.data.variations.forEach((l,c)=>{const d={id:l.id,headline:l.headline,caption:l.caption,hashtag:l.hashtag,seoAnalysis:{headlineScore:l.seoAnalysis.headlineScore,captionScore:l.seoAnalysis.captionScore,overallScore:l.seoAnalysis.overallScore,wordCount:l.caption.split(" ").length,powerWords:{count:2,words:["AI","automation"]},emotionalWords:{count:1,words:["transform"]},sentiment:{tone:"Positive",polarity:"0.8",confidence:85},readability:{complexity:"Simple",gradeLevel:"7th Grade"}}};i.push(d),console.log(`✅ Generated real AI variation ${c+1} with SEO analysis`)});else throw new Error("AI service failed")}catch(a){console.error("❌ Error calling AI service, using mock data:",a);for(let s=0;s<n;s++){const l=r3(t,s);i.push(l)}}return console.log("🎯 Content generation and SEO analysis completed"),{success:!0,message:`${n} content(s) created with SEO analysis!`,contents:i,taskId:r}}const a3=({task:e})=>{if(!e)return o.createElement("div",{style:{width:"320px",background:"#f8f9fa",borderRadius:"16px",padding:"24px",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280"}},"No task selected");const t=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.createElement("div",{style:{width:"320px",background:"#fff",borderRadius:"16px",padding:"24px",border:"1px solid #e5e7eb",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",height:"fit-content"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #e5e7eb"}},o.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #ff9a56 0%, #ff6b35 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"}},o.createElement(yo,{size:18,color:"#fff"})),o.createElement("div",null,o.createElement("h3",{style:{margin:0,fontSize:"16px",fontWeight:"700",color:"#1f2937"}},"Task Details"),o.createElement("p",{style:{margin:0,fontSize:"12px",color:"#6b7280"}},"Reference information"))),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"}},o.createElement(yo,{size:12,color:"#3b82f6"})," Objectives"),o.createElement("div",{style:{fontSize:"14px",color:"#1f2937",lineHeight:"1.5",background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},e.objectives)),o.createElement("div",{style:{display:"grid",gap:"16px",marginBottom:"20px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(vt,{size:14,color:"#3b82f6"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"2px"}},"Target Gender"),o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151"}},e.gender))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(ds,{size:14,color:"#10b981"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"2px"}},"Age Range"),o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151"}},e.minAge,"-",e.maxAge," years"))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(jt,{size:14,color:"#ef4444"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"2px"}},"Deadline"),o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151"}},t(e.deadline)))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement(c1,{size:14,color:"#8b5cf6"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"2px"}},"Platforms"),o.createElement(Dh,{platforms:e.selectedPlatforms||[],size:"small"})))))};function s3(){const[e,t]=m.useState(""),[n,r]=m.useState(3),[i,a]=m.useState(!1),[s,l]=m.useState(""),[c,d]=m.useState(null),[u]=Ao(),f=u.get("taskId"),p=u.get("workflowId"),x=et();m.useEffect(()=>{const y=p||f;y&&Promise.all([fetch("http://localhost:3000/api/v1/tasks/workflows/stage/contentcreator"),fetch("http://localhost:3000/api/v1/tasks/workflows/stage/marketinglead")]).then(b=>Promise.all(b.map(h=>h.json()))).then(([b,h])=>{let g=null;b.status==="success"&&(g=b.data.find(E=>E.id===y)),!g&&h.status==="success"&&(g=h.data.find(E=>E.id===y)),g&&d(g)}).catch(b=>console.error("Error fetching workflow:",b))},[f,p]);const v=async y=>{y.preventDefault(),l(""),a(!0);try{const b=p||f,h=await o3({input:e,numContents:n,taskId:b});if(h.success){const g=h.taskId||b,E=g?`/content/output?taskId=${g}`:"/content/output";x(E,{state:{contents:h.contents,taskId:g}})}else l("Failed to create content.")}catch{l("An error occurred.")}finally{a(!1)}};return!f&&!p?o.createElement("div",{style:{minHeight:"calc(100vh - 200px)",padding:"32px",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"48px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",textAlign:"center",maxWidth:"500px"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"24px"}},"📝"),o.createElement("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0 0 16px 0"}},"Pick a Task First"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"0 0 32px 0",lineHeight:"1.5"}},"You need to select a task before you can create content. Go to the Task page to choose an assigned task."),o.createElement("button",{onClick:()=>x("/content/task"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"}},o.createElement(us,{size:16}),"Go to Tasks"))):o.createElement("div",{style:{minHeight:"calc(100vh - 200px)",padding:"32px",display:"flex",gap:"32px",alignItems:"flex-start",justifyContent:"center"}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"32px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",width:"100%",maxWidth:"600px"}},o.createElement("div",{style:{marginBottom:"32px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"}},o.createElement(Ua,{size:28,color:"#3b82f6"}),o.createElement("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#1f2937",margin:0}},"Create Content")),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:0}},"Generate AI-powered content for your marketing campaigns")),o.createElement("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",gap:"24px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"}},"Content Brief"),o.createElement("textarea",{value:e,onChange:y=>t(y.target.value),placeholder:"Describe your content idea... (e.g., A post about our new product launch targeting young professionals)",style:{width:"100%",height:"120px",padding:"16px",borderRadius:"12px",border:"2px solid #e5e7eb",fontSize:"15px",background:"#fafbfc",resize:"none",outline:"none",boxSizing:"border-box",fontFamily:"inherit",lineHeight:1.6,transition:"all 0.2s ease"},onFocus:y=>{y.target.style.borderColor="#3b82f6",y.target.style.background="#fff"},onBlur:y=>{y.target.style.borderColor="#e5e7eb",y.target.style.background="#fafbfc"},required:!0})),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"20px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"}},"Variations"),o.createElement("input",{type:"number",min:1,max:5,value:n,onChange:y=>r(Math.max(1,Math.min(5,Number(y.target.value)))),style:{width:"100%",padding:"12px 16px",borderRadius:"12px",border:"2px solid #e5e7eb",fontSize:"15px",outline:"none",boxSizing:"border-box",background:"#fafbfc"},required:!0})),o.createElement("div",{style:{background:"#f0f9ff",padding:"16px",borderRadius:"12px",border:"1px solid #bae6fd",display:"flex",alignItems:"center",gap:"12px"}},o.createElement(yo,{size:20,color:"#0369a1"}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#0369a1",marginBottom:"2px"}},"AI will generate:"),o.createElement("div",{style:{fontSize:"12px",color:"#0369a1"}},"Headlines • Content • Hashtags")))),o.createElement("button",{type:"submit",disabled:!e.trim()||i,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"16px",background:!e.trim()||i?"#9ca3af":"#3b82f6",color:"#ffffff",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:!e.trim()||i?"not-allowed":"pointer",transition:"all 0.2s ease"},onMouseEnter:y=>{!i&&e.trim()&&(y.target.style.background="#2563eb")},onMouseLeave:y=>{!i&&e.trim()&&(y.target.style.background="#3b82f6")}},i?o.createElement(o.Fragment,null,o.createElement(a1,{size:16,style:{animation:"spin 1s linear infinite"}}),"Generating..."):o.createElement(o.Fragment,null,o.createElement(hw,{size:16}),"Generate Content")),s&&o.createElement("div",{style:{padding:"12px 16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"12px",color:"#dc2626",fontSize:"14px",textAlign:"center"}},s))),o.createElement(a3,{task:c}),o.createElement("style",null,`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `))}const l3=({workflow:e,onCreateContent:t})=>{var s;const n=l=>{switch(l){case"content_creation":return"linear-gradient(135deg, #e53935, #c62828)";case"content_approval":return"linear-gradient(135deg, #F6C544, #f57f17)";case"design_creation":return"linear-gradient(135deg, #1976d2, #1565c0)";case"design_approval":return"linear-gradient(135deg, #f57c00, #ef6c00)";case"posted":return"linear-gradient(135deg, #388e3c, #2e7d32)";default:return"linear-gradient(135deg, #757575, #616161)"}},r=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=(e.status==="content_creation"||e.status==="content_rejected")&&e.currentStage==="contentcreator",a=e.contentCreator&&e.contentCreator.content&&e.status!=="content_creation"&&e.status!=="content_rejected";return o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.3s ease"},onMouseEnter:l=>{l.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",l.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:l=>{l.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",l.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #ff9a56 0%, #ff6b35 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"}},"📝"),o.createElement("div",{style:{background:"#fff"}},o.createElement("h3",{style:{margin:"0 0 4px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700",letterSpacing:"-0.025em",background:"#fff"}},"Content Creation Task"),o.createElement("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontWeight:"500",background:"#fff"}},e.createdAt?`Created ${r(e.createdAt)}`:"Recently created"))),o.createElement("div",{style:{background:n(e.status),color:"#fff",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px"}},"⏱️ ",((s=e.status)==null?void 0:s.replace("_"," "))||"CREATED")),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",background:"#fff"}},"🎯 Task Objectives"),o.createElement("div",{style:{fontSize:"16px",color:"#1f2937",lineHeight:"1.6",fontWeight:"500",background:"#fff"}},e.objectives)),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"16px"}},"👤"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Target Gender"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},e.gender))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"16px"}},"🎂"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Age Range"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},e.minAge,"-",e.maxAge," years"))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"16px"}},"📅"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Deadline"),o.createElement("div",{style:{fontSize:"15px",fontWeight:"700",color:"#374151",background:"#fff"}},r(e.deadline)))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"16px"}},"📱"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"2px",background:"#fff"}},"Target Platforms"),o.createElement(Dh,{platforms:e.selectedPlatforms||[],size:"small"})))),a&&o.createElement("div",{style:{background:"linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%)",padding:"20px",borderRadius:"16px",marginBottom:"20px",border:"1px solid #81d4fa",boxShadow:"0 2px 8px rgba(3, 169, 244, 0.1)"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("span",{style:{fontSize:"20px"}},"✨"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#0d47a1",marginBottom:"4px"}},"Submitted Content"),o.createElement("div",{style:{fontSize:"13px",color:"#1565c0"}},"Content ready for review and approval")))),o.createElement("div",{style:{marginTop:"16px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"}},o.createElement("div",{style:{background:"#ffffff",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",null,"📰")," HEADLINE"),o.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",lineHeight:1.5}},e.contentCreator.content.headline)),o.createElement("div",{style:{background:"#ffffff",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",null,"📝")," CAPTION"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.6}},e.contentCreator.content.caption)),o.createElement("div",{style:{background:"#ffffff",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",null,"🏷️")," HASHTAGS"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:"600",lineHeight:1.4}},e.contentCreator.content.hashtag)))),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"}},i&&!a&&o.createElement("button",{onClick:()=>t(e),style:{padding:"12px 24px",background:"linear-gradient(135deg, #ff9a56 0%, #ff6b35 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(255, 154, 86, 0.3)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:l=>{l.target.style.transform="translateY(-1px)",l.target.style.boxShadow="0 6px 16px rgba(255, 154, 86, 0.4)"},onMouseLeave:l=>{l.target.style.transform="translateY(0)",l.target.style.boxShadow="0 4px 12px rgba(255, 154, 86, 0.3)"}},"✏️ Create Content")))};function c3(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),i=et();m.useEffect(()=>{r(!0),console.log("🔍 Fetching workflows from:","http://localhost:3000/api/v1/tasks/workflows/stage/contentcreator"),fetch("http://localhost:3000/api/v1/tasks/workflows/stage/contentcreator").then(l=>(console.log("🔍 Response status:",l.status),l.json())).then(l=>{console.log("🔍 Content Creator workflows API response:",l),l.status==="success"?t(Array.isArray(l.data)?l.data:[]):(console.error("🔍 API returned error:",l.message),t([])),r(!1)}).catch(l=>{console.error("🔍 Error fetching workflows:",l),t([]),r(!1)});const s=Un("http://localhost:3000",{withCredentials:!0});return s.on("newWorkflow",l=>{l.currentStage==="contentcreator"&&t(c=>[l,...Array.isArray(c)?c:[]])}),s.on("workflowUpdated",l=>{t(c=>c.map(d=>d.id===l.id?l:d))}),()=>s.disconnect()},[]);const a=s=>{console.log("🔍 Task Debug - Navigating with workflow.id:",s.id),i(`/content/create?taskId=${s.id}`)};return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",fontFamily:"Inter, sans-serif"}},o.createElement("div",{style:{maxWidth:"100%",margin:"0 auto"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Content Creation Tasks"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Manage and create content for assigned workflows")),n?o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"60px",background:"linear-gradient(135deg, #ffffff, #f8f9fa)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #e53935",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.createElement("span",{style:{marginLeft:"16px",color:"#6c757d",fontSize:"16px"}},"Loading tasks...")):Array.isArray(e)&&e.length===0?o.createElement("div",{style:{padding:"60px",textAlign:"center",background:"linear-gradient(135deg, #ffffff, #f8f9fa)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #e0e0e0"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"📝"),o.createElement("h3",{style:{color:"#6c757d",fontSize:"18px",fontWeight:"500",margin:"0 0 8px 0"}},"No Tasks Available"),o.createElement("p",{style:{color:"#9ca3af",fontSize:"14px",margin:0}},"New content creation tasks will appear here when assigned")):Array.isArray(e)?e.map(s=>o.createElement(l3,{key:s.id,workflow:s,onCreateContent:a})):o.createElement("div",{style:{padding:"24px",textAlign:"center",backgroundColor:"#fee",color:"#c53030",borderRadius:"12px",border:"1px solid #feb2b2"}},"Error: Workflows data is not an array.")),o.createElement("style",null,`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `))}const d3=({isOpen:e,onClose:t})=>{if(!e)return null;const{user:n,setUser:r}=Rn(),[i,a]=m.useState({firstName:"",lastName:"",profilePicture:null}),[s,l]=m.useState(!1),[c,d]=m.useState({text:"",type:""});m.useEffect(()=>{n&&a(x=>({...x,firstName:n.firstName||"",lastName:n.lastName||"",profilePicture:n.profilePicture||null}))},[n,e]);const u=(x,v)=>{a(y=>({...y,[x]:v}))},f=async x=>{const v=x.target.files[0];if(v){l(!0);try{const b=await(await Me(()=>Promise.resolve().then(()=>ld),void 0)).default.uploadProfilePicture(v);a(g=>({...g,profilePicture:b.url}));const h={...n,profilePicture:b.url};r(h),localStorage.setItem("user",JSON.stringify(h)),d({text:"Profile picture uploaded successfully!",type:"success"}),setTimeout(()=>d({text:"",type:""}),3e3)}catch{d({text:"Failed to upload image",type:"error"}),setTimeout(()=>d({text:"",type:""}),3e3)}finally{l(!1)}}},p=async()=>{l(!0);try{const{ref:x,update:v}=await Me(()=>import("./index.esm-c9e61786.js"),[]),{db:y}=await Me(()=>Promise.resolve().then(()=>or),void 0),b=x(y,`${n.role}/${n.username.toLowerCase()}`);await v(b,{firstName:i.firstName,lastName:i.lastName,profilePicture:i.profilePicture});const h={...n,firstName:i.firstName,lastName:i.lastName,profilePicture:i.profilePicture};r(h),localStorage.setItem("user",JSON.stringify(h)),d({text:"Settings saved successfully!",type:"success"}),setTimeout(()=>{d({text:"",type:""}),t()},1500)}catch{d({text:"Failed to save settings",type:"error"})}finally{l(!1)}};return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"}},o.createElement("div",{style:{background:"#f8fafc",borderRadius:16,width:"90vw",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"}},o.createElement("div",{style:{padding:"32px"}},o.createElement("div",{style:{marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("div",null,o.createElement("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"}},"Settings"),o.createElement("p",{style:{color:"#6b7280",margin:0}},"Manage your profile and preferences")),o.createElement("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"#6b7280"}},"✕")),o.createElement("div",{style:{background:"#fff",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"}},o.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:"0 0 24px 0"}},"Profile Settings"),o.createElement("div",{style:{marginBottom:"24px",textAlign:"center"}},o.createElement("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:i.profilePicture?`url(${i.profilePicture})`:"#e5e7eb",backgroundSize:"cover",backgroundPosition:"center",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center",border:"4px solid #f3f4f6"}},!i.profilePicture&&o.createElement(vt,{size:48,color:"#9ca3af"})),o.createElement("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",color:"#374151"}},o.createElement(Ac,{size:16}),"Change Picture",o.createElement("input",{type:"file",accept:"image/*",onChange:f,style:{display:"none"}}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"First Name"),o.createElement("input",{type:"text",value:i.firstName,onChange:x=>u("firstName",x.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}})),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"8px"}},"Last Name"),o.createElement("input",{type:"text",value:i.lastName,onChange:x=>u("lastName",x.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem",outline:"none"}}))),o.createElement("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #e5e7eb"}},c.text&&o.createElement("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",background:c.type==="success"?"#f0fdf4":"#fef2f2",color:c.type==="success"?"#059669":"#dc2626",border:`1px solid ${c.type==="success"?"#bbf7d0":"#fecaca"}`}},c.text),o.createElement("button",{onClick:p,disabled:s,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"500",cursor:s?"not-allowed":"pointer",opacity:s?.7:1}},o.createElement(Oc,{size:16}),s?"Saving...":"Save Settings"))))))},u3=[{label:"Dashboard",path:"/graphic/dashboard",icon:Dc},{label:"Graphic Creation",path:"/graphic/creation",icon:o1},{label:"Task",path:"/graphic/task",icon:us},{label:"Ongoing Approval",path:"/graphic/ongoing-approval",icon:jt}];function f3(){const{user:e,setUser:t}=Rn();`${(e==null?void 0:e.firstName)||"Graphic"}${(e==null?void 0:e.lastName)||"Designer"}`;const n=(e==null?void 0:e.role)||"role",[r,i]=m.useState(!1),[a,s]=m.useState(!1),[l,c]=m.useState(!1),d=m.useRef(null),u=Dt();m.useEffect(()=>{function p(x){d.current&&!d.current.contains(x.target)&&i(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=()=>{t(null),localStorage.removeItem("user"),window.location.replace("/login")};return o.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},o.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:64,background:"#fff",borderBottom:"1px solid #ececec",padding:"0 32px",position:"relative",flexShrink:0,borderRadius:0,width:"100vw",boxSizing:"border-box"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px"}},o.createElement("img",{src:"/assets/infinitylogo.png",alt:"infinitysalon",style:{height:"40px",width:"auto"}}),o.createElement("button",{onClick:()=>s(!a),style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:p=>p.target.style.background="#f0f0f0",onMouseLeave:p=>p.target.style.background="none"},o.createElement(Lc,{size:20,color:"#666"}))),o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement(od,{role:"GraphicDesigner",style:{marginRight:"20px"}}),o.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:d},o.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>i(p=>!p)},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:40,height:40,borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:24,color:"#fff"}))),r&&o.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",borderRadius:8,minWidth:200,zIndex:10,padding:"12px 0"}},o.createElement("div",{style:{padding:"0 16px 10px 16px",borderBottom:"1px solid #f0f0f0",marginBottom:8}},o.createElement("div",{style:{fontWeight:700,color:"#222",fontSize:16}},(e==null?void 0:e.firstName)||"Graphic"," ",(e==null?void 0:e.lastName)||"Designer"),o.createElement("div",{style:{fontSize:13,color:"#6b7280",fontWeight:500,marginTop:2}},n.charAt(0).toUpperCase()+n.slice(1))),o.createElement("button",{onClick:()=>{c(!0),i(!1)},style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},o.createElement(Mc,{style:{marginRight:8}})," Settings"),o.createElement("button",{onClick:f,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},o.createElement(zc,{style:{marginRight:8}})," Logout"))))),o.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},!a&&o.createElement("div",{className:"sidebar",style:{width:"220px",background:"#ffffff",borderRight:"1px solid #ececec",padding:"32px 0 24px 0",borderRadius:0,minWidth:"180px",fontFamily:"Inter, Segoe UI, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"stretch",boxShadow:"none",margin:0,minHeight:0,overflowY:"auto",maxHeight:"calc(100vh - 124px)"}},o.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:32,padding:"0 12px"}},o.createElement("div",{className:"user-profile",style:{display:"flex",alignItems:"center",gap:16,padding:"20px 16px",background:"#f8fafc",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},e!=null&&e.profilePicture?o.createElement("img",{src:e.profilePicture,alt:"Profile",style:{width:48,height:48,borderRadius:"50%",objectFit:"cover",flexShrink:0}}):o.createElement("span",{style:{width:48,height:48,borderRadius:"50%",background:"#e74c3c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}},o.createElement(vt,{size:28,color:"#fff"})),o.createElement("div",{className:"user-info",style:{display:"flex",flexDirection:"column",justifyContent:"center",minWidth:0}},o.createElement("div",{className:"user-name",style:{fontWeight:700,fontSize:17,color:"#222",lineHeight:"1.2",whiteSpace:"normal",maxHeight:"2.4em",overflow:"hidden"}},(e==null?void 0:e.firstName)||"Graphic"," ",(e==null?void 0:e.lastName)||"Designer"),o.createElement("div",{className:"user-role",style:{fontSize:13,color:"#6b7280",fontWeight:500,marginTop:2}},n.charAt(0).toUpperCase()+n.slice(1))))),o.createElement("nav",{className:"navigation",style:{display:"flex",flexDirection:"column",gap:8,marginTop:10,minHeight:0,padding:"0 12px"}},u3.map((p,x)=>o.createElement(Wn,{key:p.path,to:p.path,className:`nav-item${u.pathname===p.path?" active":""}`,style:{padding:"14px 20px",fontWeight:600,borderRadius:12,color:u.pathname===p.path?"#fff":"#374151",background:u.pathname===p.path?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",marginBottom:6,textDecoration:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",boxShadow:u.pathname===p.path?"0 4px 12px rgba(245, 158, 11, 0.3)":"none",fontSize:15}},o.createElement(p.icon,{size:20,style:{marginRight:14}}),p.label)))),o.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column",background:"#fff",borderRadius:0,margin:0,boxShadow:"none",padding:"0 0 0 0"}},o.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},o.createElement(cs,null)))),o.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},o.createElement("div",{className:"admin-dashboard-footer-container"},o.createElement("div",{className:"admin-dashboard-footer-left"},o.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})))),o.createElement(d3,{isOpen:l,onClose:()=>c(!1)}))}function C0(){const[e,t]=m.useState({assignedTasks:0,completedDesigns:0,pendingApproval:0,totalProjects:0,recentTasks:[]}),[n,r]=m.useState(!0);if(m.useEffect(()=>{(async()=>{try{const s=we(Ce,"workflows"),l=await an(s);if(l.exists()){const c=l.val();let d=0,u=0,f=0,p=0;const x=[];Object.entries(c).forEach(([v,y])=>{y.currentStage==="graphicdesigner"&&y.status==="graphic_design"&&(d++,x.push({id:v,title:y.objectives||"Design Task",status:"assigned",deadline:y.deadline,createdAt:y.createdAt})),y.status==="graphic_approval"&&y.graphicDesigner&&(u++,f++,x.push({id:v,title:y.objectives||"Design Task",status:"pending_approval",submittedAt:y.graphicDesigner.submittedAt})),(y.graphicDesigner||y.currentStage==="graphicdesigner")&&p++}),x.sort((v,y)=>{const b=new Date(v.createdAt||v.submittedAt||v.approvedAt);return new Date(y.createdAt||y.submittedAt||y.approvedAt)-b}),t({assignedTasks:d,completedDesigns:u,pendingApproval:f,totalProjects:p,recentTasks:x.slice(0,5)})}}catch(s){console.error("Error fetching dashboard data:",s)}finally{r(!1)}})()},[]),n)return o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",null,"Loading dashboard..."));const i=({icon:a,title:s,value:l,badge:c,color:d="blue"})=>o.createElement("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:d==="blue"?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":d==="green"?"linear-gradient(135deg, #10b981 0%, #059669 100%)":d==="orange"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},o.createElement(a,{size:28})),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"500",color:"#6b7280",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"}},s))),o.createElement("span",{style:{background:d==="blue"?"#dbeafe":d==="green"?"#d1fae5":d==="orange"?"#fed7aa":"#e0e7ff",color:d==="blue"?"#1e40af":d==="green"?"#065f46":d==="orange"?"#9a3412":"#5b21b6",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"}},c)),o.createElement("div",{style:{fontSize:"36px",fontWeight:"800",color:"#111827",marginBottom:"8px",lineHeight:"1"}},l));return o.createElement("div",{style:Xe.pageContainer},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Graphic Designer Dashboard"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Create stunning visuals and manage your design projects")),o.createElement("div",{style:Xe.statsGrid},o.createElement(i,{icon:o1,title:"Assigned Tasks",value:e.assignedTasks,badge:"TASKS",color:"blue"}),o.createElement(i,{icon:jt,title:"Pending Approval",value:e.pendingApproval,badge:"PENDING",color:"orange"}),o.createElement(i,{icon:Hn,title:"Completed Designs",value:e.completedDesigns,badge:"COMPLETED",color:"green"}),o.createElement(i,{icon:jp,title:"Total Projects",value:e.totalProjects,badge:"TOTAL",color:"purple"})),o.createElement("div",{style:Xe.card},o.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"}},"Recent Tasks"),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},e.recentTasks.length>0?e.recentTasks.map((a,s)=>o.createElement("div",{key:a.id,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{...Xe.statusDot,background:pc[a.status]||pc.inactive}}),o.createElement("div",null,o.createElement("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"}},a.title),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},a.status==="assigned"?"Ready to design":a.status==="pending_approval"?"Waiting for approval":a.status==="approved"?"Approved by Marketing Lead":a.status))),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280"}},a.deadline&&new Date(a.deadline).toLocaleDateString()))):o.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"}},o.createElement(ds,{size:48,style:{margin:"0 auto 16px",opacity:.5}}),o.createElement("p",null,"No recent tasks found")))))}const p3=({workflow:e,onCreateDesign:t})=>{var d,u,f,p,x,v,y,b,h,g,E,S,k,R,C,T,N,I,w,D,W,_,P,B,M,A,O,F,Y,ee,ce,H,J,V,re,he,xe,me,Ne,Ue,ft,Ge,qe,Ve,Ke,ie,G,q,X,Ae,tt,Qe,bt,Rt,pt,ht,ne,Xt,$t,ri,An,ii,yr,Pn;const[n,r]=m.useState(!1),i=Ee=>{switch(Ee){case"content_creation":return"linear-gradient(135deg, #e53935, #c62828)";case"content_approval":return"linear-gradient(135deg, #F6C544, #f57f17)";case"design_creation":return"linear-gradient(135deg, #8b5cf6, #7c3aed)";case"design_approval":return"linear-gradient(135deg, #f57c00, #ef6c00)";case"posted":return"linear-gradient(135deg, #388e3c, #2e7d32)";default:return"linear-gradient(135deg, #757575, #616161)"}},a=Ee=>new Date(Ee).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s=e.status==="design_creation"&&e.currentStage==="graphicdesigner",l=e.graphicDesigner&&e.graphicDesigner.designs,c=e.graphicDesigner&&e.graphicDesigner.canvasData;return o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.3s ease"},onMouseEnter:Ee=>{Ee.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",Ee.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:Ee=>{Ee.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",Ee.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"}},"🎨"),o.createElement("div",{style:{background:"#fff"}},o.createElement("h3",{style:{margin:"0 0 4px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700",letterSpacing:"-0.025em",background:"#fff"}},"Graphic Design Task"),o.createElement("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontWeight:"500",background:"#fff"}},e.createdAt?`Created ${a(e.createdAt)}`:"Recently created"))),o.createElement("div",{style:{background:i(e.status),color:"#fff",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px"}},"🎨 ",((d=e.status)==null?void 0:d.replace("_"," "))||"CREATED")),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",background:"#fff"}},"🎯 Task Information"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",padding:"16px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📋 Objectives"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.objectives)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"👤 Target Gender"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.gender)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🎂 Age Range"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.minAge,"-",e.maxAge," years")),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📅 Deadline"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},a(e.deadline))),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🏢 Current Stage"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},"Graphic Designer")))),l&&o.createElement("div",{style:{background:"linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%)",padding:"20px",borderRadius:"16px",marginBottom:"20px",border:"1px solid #81d4fa",boxShadow:"0 2px 8px rgba(3, 169, 244, 0.1)"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("span",{style:{fontSize:"20px"}},"🎨"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#0d47a1",marginBottom:"4px"}},"Design Submitted"),o.createElement("div",{style:{fontSize:"13px",color:"#1565c0"}},"Design ready for final approval")))),o.createElement("div",{style:{marginTop:"16px",background:"#ffffff",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",null,"📋")," DESIGN DETAILS"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.6}},"Submitted on ",new Date(e.graphicDesigner.submittedAt).toLocaleDateString()))),o.createElement("div",{style:{background:"transparent",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"18px"}},"✨"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#0c4a6e !important",background:"transparent !important"}},"Content Ready for Design")),o.createElement("button",{onClick:()=>r(!n),style:{background:"none",border:"none",color:"#0ea5e9",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",fontWeight:"600"}},o.createElement(pr,{size:14}),n?"Hide":"View"," Details")),n&&o.createElement("div",{style:{marginTop:"0px",padding:"0px",background:"transparent",borderRadius:"0px",border:"none"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:"24px",paddingBottom:"12px",borderBottom:"1px solid #e5e7eb"}},o.createElement("h4",{style:{margin:0,color:"#374151",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},"📝 Content Analysis")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📰 Headline"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.4}},((f=(u=e.contentCreator)==null?void 0:u.content)==null?void 0:f.headline)||((p=e.content)==null?void 0:p.headline)||"No headline found")),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Headline SEO"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((y=(v=(x=e.contentCreator)==null?void 0:x.content)==null?void 0:v.seoAnalysis)==null?void 0:y.headlineScore)||0)>=85?"#10b981":(((g=(h=(b=e.contentCreator)==null?void 0:b.content)==null?void 0:h.seoAnalysis)==null?void 0:g.headlineScore)||0)>=75?"#f59e0b":"#ef4444"}},((k=(S=(E=e.contentCreator)==null?void 0:E.content)==null?void 0:S.seoAnalysis)==null?void 0:k.headlineScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((T=(C=(R=e.contentCreator)==null?void 0:R.content)==null?void 0:C.seoAnalysis)==null?void 0:T.headlineScore)||0}%`,height:"100%",backgroundColor:(((w=(I=(N=e.contentCreator)==null?void 0:N.content)==null?void 0:I.seoAnalysis)==null?void 0:w.headlineScore)||0)>=85?"#10b981":(((_=(W=(D=e.contentCreator)==null?void 0:D.content)==null?void 0:W.seoAnalysis)==null?void 0:_.headlineScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}}))))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📝 Caption"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},((B=(P=e.contentCreator)==null?void 0:P.content)==null?void 0:B.caption)||((M=e.content)==null?void 0:M.caption)||"No caption found")),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Caption SEO"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((F=(O=(A=e.contentCreator)==null?void 0:A.content)==null?void 0:O.seoAnalysis)==null?void 0:F.captionScore)||0)>=85?"#10b981":(((ce=(ee=(Y=e.contentCreator)==null?void 0:Y.content)==null?void 0:ee.seoAnalysis)==null?void 0:ce.captionScore)||0)>=75?"#f59e0b":"#ef4444"}},((V=(J=(H=e.contentCreator)==null?void 0:H.content)==null?void 0:J.seoAnalysis)==null?void 0:V.captionScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((xe=(he=(re=e.contentCreator)==null?void 0:re.content)==null?void 0:he.seoAnalysis)==null?void 0:xe.captionScore)||0}%`,height:"100%",backgroundColor:(((Ue=(Ne=(me=e.contentCreator)==null?void 0:me.content)==null?void 0:Ne.seoAnalysis)==null?void 0:Ue.captionScore)||0)>=85?"#10b981":(((qe=(Ge=(ft=e.contentCreator)==null?void 0:ft.content)==null?void 0:Ge.seoAnalysis)==null?void 0:qe.captionScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}}))))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"🏷️ Hashtags"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},((Ke=(Ve=e.contentCreator)==null?void 0:Ve.content)==null?void 0:Ke.hashtag)||((ie=e.content)==null?void 0:ie.hashtag)||"No hashtags found")),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},"Overall SEO Score"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:(((X=(q=(G=e.contentCreator)==null?void 0:G.content)==null?void 0:q.seoAnalysis)==null?void 0:X.overallScore)||0)>=85?"#10b981":(((Qe=(tt=(Ae=e.contentCreator)==null?void 0:Ae.content)==null?void 0:tt.seoAnalysis)==null?void 0:Qe.overallScore)||0)>=75?"#f59e0b":"#ef4444"}},((pt=(Rt=(bt=e.contentCreator)==null?void 0:bt.content)==null?void 0:Rt.seoAnalysis)==null?void 0:pt.overallScore)||0,"/100")),o.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${((Xt=(ne=(ht=e.contentCreator)==null?void 0:ht.content)==null?void 0:ne.seoAnalysis)==null?void 0:Xt.overallScore)||0}%`,height:"100%",backgroundColor:(((An=(ri=($t=e.contentCreator)==null?void 0:$t.content)==null?void 0:ri.seoAnalysis)==null?void 0:An.overallScore)||0)>=85?"#10b981":(((Pn=(yr=(ii=e.contentCreator)==null?void 0:ii.content)==null?void 0:yr.seoAnalysis)==null?void 0:Pn.overallScore)||0)>=75?"#f59e0b":"#ef4444",borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))))))),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"}},s&&!l&&o.createElement(o.Fragment,null,c&&o.createElement("button",{onClick:()=>t(e,!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:Ee=>{Ee.target.style.transform="translateY(-1px)",Ee.target.style.boxShadow="0 6px 16px rgba(245, 158, 11, 0.4)"},onMouseLeave:Ee=>{Ee.target.style.transform="translateY(0)",Ee.target.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.3)"}},"✏️ Edit Draft"),o.createElement("button",{onClick:()=>t(e),style:{padding:"12px 24px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:Ee=>{Ee.target.style.transform="translateY(-1px)",Ee.target.style.boxShadow="0 6px 16px rgba(139, 92, 246, 0.4)"},onMouseLeave:Ee=>{Ee.target.style.transform="translateY(0)",Ee.target.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"}},"🎨 ",c?"Start New Design":"Create Design"))))};function h3(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),i=et();m.useEffect(()=>{r(!0),console.log("🎨 Fetching workflows from:","http://localhost:3000/api/v1/tasks/workflows/stage/graphicdesigner"),fetch("http://localhost:3000/api/v1/tasks/workflows/stage/graphicdesigner").then(l=>(console.log("🎨 Response status:",l.status),l.json())).then(l=>{console.log("🎨 Graphic Designer workflows API response:",l),l.status==="success"?t(Array.isArray(l.data)?l.data:[]):(console.error("🎨 API returned error:",l.message),t([])),r(!1)}).catch(l=>{console.error("🎨 Error fetching workflows:",l),t([]),r(!1)});const s=Un("http://localhost:3000",{withCredentials:!0});return s.on("newWorkflow",l=>{l.currentStage==="graphicdesigner"&&t(c=>[l,...Array.isArray(c)?c:[]])}),s.on("workflowUpdated",l=>{t(c=>c.map(d=>d.id===l.id?l:d))}),()=>s.disconnect()},[]);const a=(s,l=!1)=>{console.log("🎨 Task Debug - Navigating with workflow.id:",s.id);const c=l?`/graphic/creation?taskId=${s.id}&editDraft=true`:`/graphic/creation?taskId=${s.id}`;i(c)};return o.createElement("div",{style:{padding:"24px",backgroundColor:"#f8f9fa",minHeight:"100vh",fontFamily:"Inter, sans-serif"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{margin:0,color:"#111827",fontSize:"32px",fontWeight:"800",letterSpacing:"-0.025em"}},"Graphic Design Tasks"),o.createElement("p",{style:{margin:"8px 0 0 0",color:"#6b7280",fontSize:"16px",fontWeight:"400"}},"Create visual designs for approved content workflows")),n?o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"60px",background:"linear-gradient(135deg, #ffffff, #f8f9fa)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #8b5cf6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.createElement("span",{style:{marginLeft:"16px",color:"#6c757d",fontSize:"16px"}},"Loading tasks...")):Array.isArray(e)&&e.length===0?o.createElement("div",{style:{padding:"60px",textAlign:"center",background:"linear-gradient(135deg, #ffffff, #f8f9fa)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #e0e0e0"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"🎨"),o.createElement("h3",{style:{color:"#6c757d",fontSize:"18px",fontWeight:"500",margin:"0 0 8px 0"}},"No Design Tasks Available"),o.createElement("p",{style:{color:"#9ca3af",fontSize:"14px",margin:0}},"New graphic design tasks will appear here when content is approved")):Array.isArray(e)?e.map(s=>o.createElement(p3,{key:s.id,workflow:s,onCreateDesign:a})):o.createElement("div",{style:{padding:"24px",textAlign:"center",backgroundColor:"#fee",color:"#c53030",borderRadius:"12px",border:"1px solid #feb2b2"}},"Error: Workflows data is not an array."),o.createElement("style",null,`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `))}const g3=({onSave:e,onExport:t,initialCanvasData:n})=>{const r=a=>{if(a.data&&typeof a.data=="string"){if(a.data.startsWith("SAVE:")){const s=a.data.replace("SAVE:","");e==null||e(s)}else if(a.data.startsWith("EXPORT:")){const s=a.data.replace("EXPORT:","");t==null||t(s)}}};o.useEffect(()=>(window.addEventListener("message",r),()=>window.removeEventListener("message",r)),[e,t]);const i=n?`/components/ImageEditor/editor.html?canvasData=${encodeURIComponent(n)}`:"/components/ImageEditor/editor.html";return o.createElement("iframe",{src:i,style:{width:"100%",height:"100%",border:"none",borderRadius:"8px"},title:"Image Editor"})},m3=({onSave:e,onExport:t})=>{console.log("🎨 TemplatedEditor component is rendering");const n=m.useRef(null);return m.useEffect(()=>{const r=i=>{if(i.origin!=="https://app.templated.io")return;const a=i.data;a.type==="template-saved"?e==null||e(a.data):a.type==="template-exported"&&(t==null||t(a.data))};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[e,t]),o.createElement("div",{style:{width:"100%",height:"100%"}},o.createElement("iframe",{ref:n,src:"https://app.templated.io/editor?embed=6fcca33c-6c5d-442c-b787-3d4676156ae2",style:{width:"100%",height:"100%",border:"none",borderRadius:"8px"},title:"Templated.io Editor",allow:"camera; microphone; clipboard-read; clipboard-write"}))};function y3(){var N;const[e]=Ao(),t=et(),n=e.get("taskId"),[r,i]=m.useState(null),[a,s]=m.useState(!1),[l,c]=m.useState(""),[d,u]=m.useState(!1),[f,p]=m.useState(null),[x,v]=m.useState(""),[y,b]=m.useState(!0),[h,g]=m.useState("original"),[E,S]=m.useState(null);console.log("🔄 Current selectedEditor:",h),m.useEffect(()=>{n&&k();const I=w=>{if(w.data&&typeof w.data=="string"&&w.data.startsWith("CANVAS_JSON:")){const D=w.data.replace("CANVAS_JSON:","");S(D)}};return window.addEventListener("message",I),()=>window.removeEventListener("message",I)},[n]);const k=async()=>{b(!0);try{console.log("🎨 Fetching workflow with taskId:",n);const I=await fetch("http://localhost:3000/api/v1/tasks/workflows/stage/graphicdesigner",{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(I.status===304){const D=await fetch(`http://localhost:3000/api/v1/tasks/workflows/stage/graphicdesigner?t=${Date.now()}`);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const W=await D.json();R(W);return}if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const w=await I.json();R(w)}catch(I){console.error("🎨 Fetch error:",I),v(`Failed to load task data: ${I.message}`),b(!1)}},R=async I=>{try{if(console.log("🎨 API Response:",I),I.status==="success"&&Array.isArray(I.data)){const w=I.data.find(D=>D.id===n);if(console.log("🎨 Found workflow:",w),w)i(w),b(!1);else{const W=await(await fetch(`http://localhost:3000/api/v1/tasks/workflows?t=${Date.now()}`)).json();if(console.log("🎨 All workflows response:",W),W.status==="success"&&Array.isArray(W.data)){const _=W.data.find(P=>P.id===n);_?(i(_),b(!1)):(v(`Task with ID ${n} not found`),b(!1))}else v(`Task with ID ${n} not found`),b(!1)}}else v("API returned invalid data structure"),b(!1)}catch(w){console.error("🎨 Handle workflow data error:",w),v(`Failed to process task data: ${w.message}`),b(!1)}},C=async I=>{if(!I){c("No design data to save");return}s(!0),c("");try{const w=document.querySelector("iframe");let D=null;w&&w.contentWindow&&(D=await new Promise(Y=>{const ee=ce=>{if(ce.data&&typeof ce.data=="string"&&ce.data.startsWith("CANVAS_JSON:")){const H=ce.data.replace("CANVAS_JSON:","");window.removeEventListener("message",ee),Y(H)}};window.addEventListener("message",ee),w.contentWindow.postMessage("GET_CANVAS_JSON","*")}));const _=await(await fetch(I)).blob(),P=new FormData;P.append("file",_),P.append("upload_preset","unsigned_uploads"),P.append("folder","design-drafts");const B=await fetch("https://api.cloudinary.com/v1_1/dyxayxrpp/upload",{method:"POST",body:P});if(!B.ok)throw new Error("Failed to upload to Cloudinary");const M=await B.json(),O=await(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${n}/save-design-draft`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({designUrl:M.secure_url,publicId:M.public_id,canvasData:D,description:`Design draft for task ${n}`})})).json();O.status==="success"?(p(O.data),console.log("🎨 Design draft saved successfully:",O.data),u(!0),setTimeout(()=>{t("/graphic/finalized-design",{state:{designData:O.data,taskId:n}})},1500)):c("Failed to save design draft")}catch{c("Failed to save design draft")}finally{s(!1)}},T=async I=>{if(!I){c("No design data to export");return}s(!0),c("");try{const D=await(await fetch(I)).blob(),W=new FormData;W.append("design",D,"design.png"),W.append("description",`Design created for task ${n}`),(await(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${n}/submit-design`,{method:"POST",body:W})).json()).status==="success"?(u(!0),setTimeout(()=>t("/graphic/task"),1500)):c("Failed to submit design")}catch{c("Failed to submit design")}finally{s(!1)}};return y?o.createElement("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("div",null,"Loading task data...")):x?o.createElement("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("div",{style:{color:"#dc2626"}},"Error: ",x)):o.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column"}},o.createElement("div",{style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"12px",padding:"8px 12px",backdropFilter:"blur(10px)"}},o.createElement("span",{style:{fontSize:"20px"}},"🎨")),o.createElement("div",null,o.createElement("h2",{style:{margin:0,fontSize:"20px",color:"white",fontWeight:"700"}},"Fabric.js Design Studio"),o.createElement("p",{style:{margin:0,fontSize:"14px",color:"rgba(255,255,255,0.8)"}},"Task: ",(r==null?void 0:r.objectives)||n||"New Design"))),o.createElement("div",{style:{display:"flex",gap:"12px",alignItems:"center"}},o.createElement("div",{style:{display:"flex",gap:"8px"}},o.createElement("button",{onClick:()=>{console.log("🔄 Switching to original editor"),g("original")},style:{background:h==="original"?"#ffffff":"#6366f1",color:h==="original"?"#6366f1":"white",border:"2px solid #ffffff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"120px"}},"Original Editor"),o.createElement("button",{onClick:()=>{console.log("🔄 Switching to templated editor"),g("templated")},style:{background:h==="templated"?"#ffffff":"#6366f1",color:h==="templated"?"#6366f1":"white",border:"2px solid #ffffff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"120px"}},"Templated.io")),a&&o.createElement("div",{style:{color:"white",padding:"12px 20px",fontSize:"14px"}},"Saving design..."),d&&o.createElement("div",{style:{color:"#10b981",padding:"12px 20px",fontSize:"14px",fontWeight:"600"}},"✓ Design saved! Redirecting to finalized design..."),o.createElement("button",{onClick:()=>t("/graphic/task"),style:{background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",padding:"12px 20px",borderRadius:"10px",cursor:"pointer",fontWeight:"600",fontSize:"14px",backdropFilter:"blur(10px)"}},"← Back to Tasks"))),l&&o.createElement("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px 24px",fontSize:"14px",fontWeight:"500"}},"❌ ",l),o.createElement("div",{style:{flex:1}},h==="original"?o.createElement(g3,{onSave:C,onExport:T,initialCanvasData:(N=r==null?void 0:r.graphicDesigner)==null?void 0:N.canvasData}):o.createElement(m3,{onSave:C,onExport:T})))}const Er="http://localhost:3000";class ml{static async saveDraft(t,n=null){try{const i=await(await fetch(`${Er}/api/v1/drafts/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,workflowId:n})})).json();if(!i.success)throw new Error(i.error||"Failed to save draft");return i}catch(r){throw console.error("❌ Error saving draft:",r),r}}static async getUserDrafts(){try{const n=await(await fetch(`${Er}/api/v1/drafts/user`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(!n.success)throw new Error(n.error||"Failed to get drafts");return n.drafts}catch(t){throw console.error("❌ Error getting user drafts:",t),t}}static async getDraftsByWorkflow(t){try{const r=await(await fetch(`${Er}/api/v1/drafts/workflow/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(!r.success)throw new Error(r.error||"Failed to get workflow drafts");return r.drafts}catch(n){throw console.error("❌ Error getting workflow drafts:",n),n}}static async getDraft(t,n=null){try{const r=n?`${Er}/api/v1/drafts/${t}?workflowId=${n}`:`${Er}/api/v1/drafts/${t}`,a=await(await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}})).json();if(!a.success)throw new Error(a.error||"Failed to get draft");return a.draft}catch(r){throw console.error("❌ Error getting draft:",r),r}}static async updateDraft(t,n,r=null){try{const a=await(await fetch(`${Er}/api/v1/drafts/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n,workflowId:r})})).json();if(!a.success)throw new Error(a.error||"Failed to update draft");return a.draft}catch(i){throw console.error("❌ Error updating draft:",i),i}}static async deleteDraft(t,n=null){try{const r=n?`${Er}/api/v1/drafts/${t}?workflowId=${n}`:`${Er}/api/v1/drafts/${t}`,a=await(await fetch(r,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();if(!a.success)throw new Error(a.error||"Failed to delete draft");return a}catch(r){throw console.error("❌ Error deleting draft:",r),r}}}const Fi=({score:e,label:t,width:n="100%"})=>{const r=i=>i>=85?"#10b981":i>=75?"#f59e0b":"#ef4444";return o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},t),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:r(e)}},e,"/100")),o.createElement("div",{style:{width:n,height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${e}%`,height:"100%",backgroundColor:r(e),borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))};function x3(){const e=Dt(),t=et(),[n]=Ao(),{contents:r=[],taskId:i,fromDraftEdit:a}=e.state||{},s=a===!0,l=n.get("taskId"),c=i||l,d=_=>_.map((P,B)=>{const M=P.seoAnalysis||u(P);return{...P,id:P.id||`content-${B}`,seoScore:M.overallScore,headlineScore:M.headlineScore,captionScore:M.captionScore,hashtagScore:M.hashtagScore,seoDetails:{headline:{wordCount:P.headline.split(" ").length,emotionalWords:M.emotionalWords.count,powerWords:M.powerWords.count,readability:M.readability.complexity,sentiment:M.sentiment.tone,keywordDensity:2+P.headline.length%5},caption:{wordCount:M.wordCount,emotionalWords:M.emotionalWords.count,powerWords:M.powerWords.count,readability:M.readability.complexity,sentiment:M.sentiment.tone,keywordDensity:Math.abs(parseFloat(M.sentiment.polarity)*5).toFixed(1),engagementWords:M.powerWords.count},hashtag:{count:P.hashtag.split("#").length-1,trending:1+P.hashtag.length%3,relevance:M.hashtagScore,competition:["Low","Medium","High"][P.hashtag.length%3],reach:50+P.hashtag.length%50+"K"}},fullSEOAnalysis:M}}),u=_=>({overallScore:75+(_.headline+_.caption+_.hashtag).length%21,headlineScore:75+_.headline.length*3%21,captionScore:75+_.caption.length*2%21,hashtagScore:75+_.hashtag.length*5%21,wordCount:(_.headline+" "+_.caption).split(" ").length,powerWords:{count:2,words:["amazing","great"]},emotionalWords:{count:1,words:["exciting"]},sentiment:{tone:"Positive",polarity:"0.5",confidence:85},readability:{complexity:"Simple",gradeLevel:"7th Grade"}}),f=d(r),[p,x]=m.useState({headline:"",caption:"",hashtag:""}),[v,y]=m.useState({headline:null,caption:null,hashtag:null}),[b,h]=m.useState(!1),[g,E]=m.useState(!1);m.useState({}),m.useState(null),m.useState(!1);const[S,k]=m.useState(null);m.useState(!1);const[R,C]=m.useState(!1),[T,N]=m.useState(!1),I=(_,P,B)=>{x(M=>({...M,[_]:P})),y(M=>({...M,[_]:B}))},w=async()=>{if(!p.headline||!p.caption||!p.hashtag){alert("Please select headline, caption, and hashtag before submitting.");return}if(!c){alert("No task selected. Please go back and select a task first.");return}h(!0);try{const _=c,P=f.find(A=>A.headline===p.headline||A.caption===p.caption||A.hashtag===p.hashtag),B=await fetch(`http://localhost:3000/api/v1/tasks/workflow/${_}/submit-content`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({headline:p.headline,caption:p.caption,hashtag:p.hashtag,seoAnalysis:(P==null?void 0:P.fullSEOAnalysis)||null})}),M=await B.json();if(B.ok&&M.status==="success"){if(s&&c)try{await fetch(`http://localhost:3000/api/v1/drafts/${Date.now()}/submit`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflowId:c})})}catch(A){console.warn("Could not mark draft as submitted:",A)}E(!0),setTimeout(()=>{t("/content/approval")},2e3)}else throw new Error(M.message||"Failed to submit content")}catch(_){alert("Error submitting content: "+_.message)}finally{h(!1)}},D=async()=>{if(!(R||!f.length))try{const _=c||l,P=f.map(A=>A.headline+A.caption).join("").slice(0,50);let B=null;if(_)try{const O=await(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${_}`)).json();O.status==="success"&&(B={id:_,objective:O.data.objectives})}catch(A){console.warn("Could not fetch task info:",A)}const M={contentHash:P,taskInfo:B,allGeneratedContent:f.map(A=>({id:A.id,headline:A.headline,caption:A.caption,hashtag:A.hashtag,seoAnalysis:A.fullSEOAnalysis,seoScore:A.seoScore,headlineScore:A.headlineScore,captionScore:A.captionScore,hashtagScore:A.hashtagScore,seoDetails:A.seoDetails})),totalVariations:f.length,platform:_?"workflow":"standalone",generatedAt:new Date().toISOString()};await ml.saveDraft(M,_),C(!0)}catch(_){console.error("Auto-save failed:",_)}},W=(_,P)=>v[_]===P;return m.useEffect(()=>{if(f.length>0&&!R&&!s){const _=setTimeout(()=>{D()},500);return()=>clearTimeout(_)}},[f.length,R,s]),f.length?g?o.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, -apple-system, sans-serif"}},o.createElement("div",{style:{background:"#ffffff",borderRadius:24,padding:"48px",textAlign:"center",maxWidth:"500px",width:"90%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"}},o.createElement("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",fontSize:"32px"}},"✅"),o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#1e293b",margin:"0 0 16px 0"}},"Content Submitted!"),o.createElement("p",{style:{color:"#475569",fontSize:"20px",margin:"0 0 24px 0",lineHeight:1.6,fontWeight:"600"}},"Your content has been successfully submitted for approval."))):o.createElement("div",{style:{padding:"20px",fontFamily:"Inter, system-ui, -apple-system, sans-serif"}},o.createElement("div",{style:{maxWidth:"100%",display:"flex",flexDirection:"column"}},o.createElement("div",{style:{textAlign:"center",marginBottom:"40px",background:"#ffffff",borderRadius:20,padding:"40px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0"}},o.createElement("h1",{style:{fontSize:"36px",fontWeight:800,color:"#1e293b",margin:"0 0 12px 0"}},"Content Generated Successfully!"),o.createElement("p",{style:{color:"#64748b",fontSize:"18px",margin:"0 0 8px 0",fontWeight:500}},"Choose your favorite combination from the AI-generated options below"),p.headline&&p.caption&&p.hashtag&&o.createElement("div",{style:{marginTop:"24px"}},o.createElement("button",{onClick:()=>N(!0),style:{padding:"16px 32px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"18px",fontWeight:"700",cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transition:"all 0.2s ease"},onMouseEnter:_=>{_.target.style.transform="translateY(-2px)",_.target.style.boxShadow="0 6px 16px rgba(16, 185, 129, 0.4)"},onMouseLeave:_=>{_.target.style.transform="translateY(0)",_.target.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"}},"🎆 Finalize Content"))),T?o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"48px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"2px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px"}},o.createElement("h3",{style:{fontSize:"24px",fontWeight:700,color:"#1f2937",margin:0}},"🎆 Final Content Preview"),o.createElement("button",{onClick:()=>N(!1),style:{padding:"8px 16px",background:"#6b7280",color:"#fff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"}},"← Back to Selection")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"24px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151"}},"📰 Headline"),p.headline&&o.createElement("button",{onClick:()=>k(S==="headline"?null:"headline"),style:{background:S==="headline"?"#22c55e":"#3b82f6",color:"#fff",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",cursor:"pointer"}},S==="headline"?"✅ Save":"✏️ Edit")),S==="headline"?o.createElement("textarea",{value:p.headline,onChange:_=>x(P=>({...P,headline:_.target.value})),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #3b82f6",fontSize:"14px",fontFamily:"inherit",resize:"vertical",minHeight:"60px",outline:"none"},onKeyDown:_=>{_.key==="Enter"&&_.ctrlKey&&k(null)}}):o.createElement("div",{style:{fontSize:"16px",color:"#1f2937",lineHeight:1.4}},p.headline||"No headline selected")),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},(()=>{const _=f.find(P=>P.headline===p.headline||P.caption===p.caption||P.hashtag===p.hashtag);return _?o.createElement(Fi,{score:_.headlineScore,label:"Headline SEO"}):null})())),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151"}},"📝 Caption"),p.caption&&o.createElement("button",{onClick:()=>k(S==="caption"?null:"caption"),style:{background:S==="caption"?"#22c55e":"#3b82f6",color:"#fff",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",cursor:"pointer"}},S==="caption"?"✅ Save":"✏️ Edit")),S==="caption"?o.createElement("textarea",{value:p.caption,onChange:_=>x(P=>({...P,caption:_.target.value})),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #3b82f6",fontSize:"14px",fontFamily:"inherit",resize:"vertical",minHeight:"80px",outline:"none"},onKeyDown:_=>{_.key==="Enter"&&_.ctrlKey&&k(null)}}):o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},p.caption||"No caption selected")),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},(()=>{const _=f.find(P=>P.headline===p.headline||P.caption===p.caption||P.hashtag===p.hashtag);return _?o.createElement(Fi,{score:_.captionScore,label:"Caption SEO"}):null})())),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151"}},"🏷️ Hashtags"),p.hashtag&&o.createElement("button",{onClick:()=>k(S==="hashtag"?null:"hashtag"),style:{background:S==="hashtag"?"#22c55e":"#3b82f6",color:"#fff",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",cursor:"pointer"}},S==="hashtag"?"✅ Save":"✏️ Edit")),S==="hashtag"?o.createElement("textarea",{value:p.hashtag,onChange:_=>x(P=>({...P,hashtag:_.target.value})),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #3b82f6",fontSize:"14px",fontFamily:"inherit",resize:"vertical",minHeight:"60px",outline:"none"},onKeyDown:_=>{_.key==="Enter"&&_.ctrlKey&&k(null)}}):o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},p.hashtag||"No hashtag selected")),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},(()=>{const _=f.find(P=>P.headline===p.headline||P.caption===p.caption||P.hashtag===p.hashtag);return _?o.createElement(Fi,{score:_.seoScore,label:"Overall SEO Score"}):null})()))),o.createElement("div",{style:{marginTop:"24px",display:"flex",flexDirection:"column",gap:"12px"}},(R||s)&&o.createElement("div",{style:{padding:"8px 12px",background:s?"#f0fdf4":"#f0f9ff",border:s?"1px solid #bbf7d0":"1px solid #bae6fd",borderRadius:"8px",fontSize:"12px",color:s?"#166534":"#0369a1",textAlign:"center"}},s?c?"📝 Editing draft for existing task":"📝 Editing standalone draft":"✅ All content automatically saved to drafts"),o.createElement("button",{onClick:()=>t("/content/create"+(c?`?taskId=${c}`:"")),style:{background:"#6b7280",color:"#fff",border:"none",borderRadius:"12px",padding:"12px 24px",fontWeight:600,cursor:"pointer"}},"Regenerate All"),o.createElement("button",{onClick:w,disabled:!p.headline||!p.caption||!p.hashtag||b,style:{background:!p.headline||!p.caption||!p.hashtag||b?"#9ca3af":"#22c55e",color:"#fff",border:"none",borderRadius:"12px",padding:"12px 32px",fontWeight:600,cursor:!p.headline||!p.caption||!p.hashtag||b?"not-allowed":"pointer",fontSize:"16px"}},b?"Submitting...":s&&c?"Update Task Submission":"Submit for Approval"))):o.createElement("div",{style:{display:"grid",gridTemplateColumns:(window.innerWidth<=768,"1fr"),gap:window.innerWidth<=768?"16px":"20px"}},o.createElement("div",{style:{paddingRight:window.innerWidth<=768?"0":"10px"}},o.createElement("h3",{style:{fontSize:"24px",fontWeight:700,marginBottom:"16px",color:"#1f2937"}},"📝 Generated Content (",f.length," options)"),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"24px"}},f.map((_,P)=>o.createElement("div",{key:_.id,style:{background:"#fff",border:"2px solid #e5e7eb",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}},o.createElement("div",{style:{marginBottom:"24px"}},o.createElement("h4",{style:{fontSize:"20px",fontWeight:700,color:"#1f2937",margin:"0"}},"📝 Content Option ",P+1)),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",marginBottom:"20px",alignItems:"start"}},o.createElement("div",{onClick:()=>I("headline",_.headline,_.id),style:{padding:"16px",borderRadius:"12px",border:W("headline",_.id)?"2px solid #10b981":"2px solid #e5e7eb",background:W("headline",_.id)?"#f0fdf4":"#f8fafc",cursor:"pointer",transition:"all 0.2s ease"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"}},"📰 Headline ",W("headline",_.id)&&"✅"),o.createElement("div",{style:{fontSize:"16px",color:"#1f2937",lineHeight:1.4}},_.headline)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},o.createElement(Fi,{score:_.headlineScore,label:"Headline SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",marginBottom:"20px",alignItems:"start"}},o.createElement("div",{onClick:()=>I("caption",_.caption,_.id),style:{padding:"16px",borderRadius:"12px",border:W("caption",_.id)?"2px solid #10b981":"2px solid #e5e7eb",background:W("caption",_.id)?"#f0fdf4":"#f8fafc",cursor:"pointer",transition:"all 0.2s ease"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"}},"📝 Caption ",W("caption",_.id)&&"✅"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},_.caption)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},o.createElement(Fi,{score:_.captionScore,label:"Caption SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",alignItems:"start"}},o.createElement("div",{onClick:()=>I("hashtag",_.hashtag,_.id),style:{padding:"16px",borderRadius:"12px",border:W("hashtag",_.id)?"2px solid #10b981":"2px solid #e5e7eb",background:W("hashtag",_.id)?"#f0fdf4":"#f8fafc",cursor:"pointer",transition:"all 0.2s ease"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"}},"🏷️ Hashtags ",W("hashtag",_.id)&&"✅"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},_.hashtag)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},o.createElement(Fi,{score:_.seoScore,label:"Overall SEO Score"})))))))))):o.createElement("div",{style:{padding:"40px",textAlign:"center"}},o.createElement("h2",null,"No content generated"),o.createElement("button",{onClick:()=>t("/content/create"),style:{padding:"12px 24px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"8px"}},"Create Content"))}const ru=({score:e,label:t,width:n="100%"})=>{const r=i=>i>=85?"#10b981":i>=75?"#f59e0b":"#ef4444";return o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},t),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:r(e)}},e,"/100")),o.createElement("div",{style:{width:n,height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${e}%`,height:"100%",backgroundColor:r(e),borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))},iu=({workflow:e})=>{var a,s,l,c,d,u,f,p,x,v,y;const[t,n]=m.useState(!1),r=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=()=>{switch(e.status){case"content_approval":return"Pending Approval";case"ready_for_design_assignment":return"Approved";case"content_rejected":return"Rejected";default:return"Unknown"}};return o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.3s ease"},onMouseEnter:b=>{b.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",b.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:b=>{b.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",b.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:e.status==="ready_for_design_assignment"?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"linear-gradient(135deg, #ff9a56 0%, #ff6b35 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"20px",fontWeight:"600",overflow:"hidden"}},e.status==="ready_for_design_assignment"?"✓":"📝"),o.createElement("div",{style:{background:"#fff"}},o.createElement("h3",{style:{margin:"0 0 4px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700",letterSpacing:"-0.025em",background:"#fff"}},e.objectives),o.createElement("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontWeight:"500",background:"#fff"}},"Submitted ",r((a=e.contentCreator)==null?void 0:a.submittedAt)))),o.createElement("span",{style:{background:e.status==="ready_for_design_assignment"?"#dcfce7":e.status==="content_rejected"?"#fef2f2":"#fed7aa",color:e.status==="ready_for_design_assignment"?"#166534":e.status==="content_rejected"?"#991b1b":"#9a3412",padding:"6px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",border:"1px solid transparent"}},i())),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",background:"#fff"}},"🎯 Task Information"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",padding:"16px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📋 Objectives"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.objectives)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"👤 Target Gender"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.gender)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🎂 Age Range"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.minAge,"-",e.maxAge," years")),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📅 Deadline"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},r(e.deadline))),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🏢 Current Stage"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.currentStage==="contentcreator"?"Content Creator":e.currentStage==="marketinglead"?"Marketing Lead":e.currentStage==="graphicdesigner"?"Graphic Designer":e.currentStage)))),e.marketingApproval&&o.createElement("div",{style:{background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",padding:"20px",borderRadius:"16px",marginBottom:"20px",border:"1px solid #22c55e",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.1)"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("span",{style:{fontSize:"20px"}},"✨"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#15803d",marginBottom:"4px"}},"Approved by ",e.marketingApproval.approvedBy),o.createElement("div",{style:{fontSize:"13px",color:"#166534"}},r(e.marketingApproval.approvedAt)))))),e.marketingRejection&&e.status==="content_rejected"&&o.createElement("div",{style:{background:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",padding:"20px",borderRadius:"16px",marginBottom:"20px",border:"1px solid #ef4444",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.1)"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"}},o.createElement("span",{style:{fontSize:"20px"}},"❌"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#dc2626",marginBottom:"4px"}},"Rejected by ",e.marketingRejection.rejectedBy),o.createElement("div",{style:{fontSize:"13px",color:"#991b1b"}},r(e.marketingRejection.rejectedAt)))),e.marketingRejection.feedback&&o.createElement("div",{style:{background:"#ffffff",padding:"16px",borderRadius:"12px",border:"1px solid #fca5a5",marginBottom:"16px"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#dc2626",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"}},o.createElement("span",null,"💬")," Feedback"),o.createElement("div",{style:{fontSize:"15px",color:"#7f1d1d",lineHeight:1.5}},e.marketingRejection.feedback)),o.createElement("button",{onClick:()=>window.location.href=`/content/create?workflowId=${e.id}`,style:{padding:"12px 24px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",display:"flex",alignItems:"center",gap:"6px"}},"🔄 Recreate Content")),((s=e.contentCreator)==null?void 0:s.content)&&o.createElement("div",{style:{background:"transparent",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"18px"}},"✨"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#0c4a6e !important",background:"transparent !important"}},"Submitted Content")),o.createElement("button",{onClick:()=>n(!t),style:{background:"none",border:"none",color:"#0ea5e9",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",fontWeight:"600"}},o.createElement(pr,{size:14}),t?"Hide":"View"," Details")),t&&o.createElement("div",{style:{marginTop:"24px",padding:"32px",background:"transparent",borderRadius:"16px",border:"1px solid #e5e7eb",maxHeight:"60vh",overflow:"auto"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:"32px",paddingBottom:"16px",borderBottom:"2px solid #e5e7eb"}},o.createElement("h4",{className:"seo-heading-override",style:{margin:0,color:"#000000 !important",fontSize:"20px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px",background:"transparent !important"}},"📝 Content Analysis")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",marginBottom:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"}},"📰 Headline"),o.createElement("div",{style:{fontSize:"16px",color:"#1f2937",lineHeight:1.4}},e.contentCreator.content.headline)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},o.createElement(ru,{score:((d=(c=(l=e.contentCreator)==null?void 0:l.content)==null?void 0:c.seoAnalysis)==null?void 0:d.headlineScore)||0,label:"Headline SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",marginBottom:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"}},"📝 Caption"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},e.contentCreator.content.caption)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},o.createElement(ru,{score:((p=(f=(u=e.contentCreator)==null?void 0:u.content)==null?void 0:f.seoAnalysis)==null?void 0:p.captionScore)||0,label:"Caption SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"24px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"}},"🏷️ Hashtags"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},e.contentCreator.content.hashtag)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"}},o.createElement(ru,{score:((y=(v=(x=e.contentCreator)==null?void 0:x.content)==null?void 0:v.seoAnalysis)==null?void 0:y.overallScore)||0,label:"Overall SEO Score"})))))))};function v3(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,a]=m.useState([]),[s,l]=m.useState(!0),[c,d]=m.useState(window.innerWidth>=1024);m.useEffect(()=>{u();const f=()=>{d(window.innerWidth>=1024)};window.addEventListener("resize",f);const p=Un("http://localhost:3000",{withCredentials:!0});return p.on("workflowUpdated",x=>{if(!x.contentCreator){t(v=>v.filter(y=>y.id!==x.id)),r(v=>v.filter(y=>y.id!==x.id));return}x.status==="content_rejected"?(t(v=>{const y=v.filter(b=>b.id!==x.id);return[x,...y]}),r(v=>v.filter(y=>y.id!==x.id)),a(v=>v.filter(y=>y.id!==x.id))):x.status==="content_approval"?(r(v=>{const y=v.filter(b=>b.id!==x.id);return[x,...y]}),t(v=>v.filter(y=>y.id!==x.id)),a(v=>v.filter(y=>y.id!==x.id))):x.status==="ready_for_design_assignment"?(a(v=>{const y=v.filter(b=>b.id!==x.id);return[x,...y]}),t(v=>v.filter(y=>y.id!==x.id)),r(v=>v.filter(y=>y.id!==x.id))):(t(v=>v.filter(y=>y.id!==x.id)),r(v=>v.filter(y=>y.id!==x.id)),a(v=>v.filter(y=>y.id!==x.id)))}),()=>{window.removeEventListener("resize",f),p.disconnect()}},[]);const u=async()=>{try{const p=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/content-creator/approval-status")).json();console.log("OngoingApproval API response:",p);let x=[];p.status==="success"&&(x=p.data||[]);const v=x.reduce((g,E)=>(g.find(S=>S.id===E.id)||g.push(E),g),[]),y=v.filter(g=>g.contentCreator&&g.status==="content_rejected"),b=v.filter(g=>g.contentCreator&&g.status==="content_approval"),h=v.filter(g=>g.contentCreator&&g.status==="ready_for_design_assignment");t(y),r(b),a(h)}catch(f){console.error("Error fetching approval workflows:",f)}finally{l(!1)}};return s?o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",null,"Loading approval status...")):o.createElement("div",{style:{maxWidth:"100%",margin:"0 auto",width:"100%"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Ongoing Approval"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"Track the approval status of your submitted content")),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"40px",alignItems:"start"}},e.length>0?o.createElement("div",null,o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",padding:"16px 20px",background:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",borderRadius:"12px",border:"1px solid #fca5a5"}},o.createElement(u1,{size:24,color:"#dc2626"}),o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#dc2626",margin:0}},"Rejected Content (",e.length,")")),e.map(f=>o.createElement(iu,{key:f.id,workflow:f}))):o.createElement("div",null),n.length>0?o.createElement("div",null,o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",padding:"16px 20px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"12px",border:"1px solid #fbbf24"}},o.createElement(jt,{size:24,color:"#d97706"}),o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#d97706",margin:0}},"Pending Approval (",n.length,")")),n.map(f=>o.createElement(iu,{key:f.id,workflow:f}))):o.createElement("div",null),i.length>0&&o.createElement("div",null,o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",padding:"16px 20px",background:"linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)",borderRadius:"12px",border:"1px solid #22c55e"}},o.createElement(Hn,{size:24,color:"#16a34a"}),o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#16a34a",margin:0}},"Approved Content (",i.length,")")),i.map(f=>o.createElement(iu,{key:f.id,workflow:f})))),e.length===0&&n.length===0&&i.length===0&&o.createElement("div",{style:{textAlign:"center",padding:c?"80px 40px":"60px 20px",background:"#fff",borderRadius:"16px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",maxWidth:"600px",margin:"0 auto"}},o.createElement(Hn,{size:48,color:"#10b981",style:{marginBottom:"16px"}}),o.createElement("h3",{style:{color:"#6b7280",fontSize:"18px",margin:"0 0 8px 0"}},"All Content Processed"),o.createElement("p",{style:{color:"#9ca3af",margin:0}},"No content currently awaiting approval or revision")))}const ou=({score:e,label:t,width:n="100%"})=>{const r=i=>i>=85?"#10b981":i>=75?"#f59e0b":"#ef4444";return o.createElement("div",{style:{marginBottom:"12px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}},o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},t),o.createElement("span",{style:{fontSize:"14px",fontWeight:"700",color:r(e)}},e,"/100")),o.createElement("div",{style:{width:n,height:"8px",backgroundColor:"#e5e7eb",borderRadius:"4px",overflow:"hidden"}},o.createElement("div",{style:{width:`${e}%`,height:"100%",backgroundColor:r(e),borderRadius:"4px",transition:"width 0.5s ease-in-out"}})))},k0=({workflow:e})=>{var l,c,d,u,f,p,x,v,y,b,h,g,E,S,k,R,C,T;const[t,n]=m.useState(!1),[r,i]=m.useState(!1),a=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s=()=>{switch(e.status){case"design_approval":return"Pending Approval";case"posted":return"Approved & Posted";case"design_rejected":return"Rejected";default:return"Unknown"}};return o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",marginBottom:"20px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.3s ease"},onMouseEnter:N=>{N.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",N.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:N=>{N.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.08)",N.currentTarget.style.transform="translateY(0)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",background:"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:e.status==="posted"?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"20px",fontWeight:"600",overflow:"hidden"}},e.status==="posted"?"✓":"🎨"),o.createElement("div",{style:{background:"#fff"}},o.createElement("h3",{style:{margin:"0 0 4px 0",color:"#1f2937",fontSize:"18px",fontWeight:"700",letterSpacing:"-0.025em",background:"#fff"}},e.objectives),o.createElement("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontWeight:"500",background:"#fff"}},"Submitted ",a((l=e.graphicDesigner)==null?void 0:l.submittedAt)))),o.createElement("span",{style:{background:e.status==="posted"?"#dcfce7":e.status==="design_rejected"?"#fef2f2":"#e0e7ff",color:e.status==="posted"?"#166534":e.status==="design_rejected"?"#991b1b":"#3730a3",padding:"6px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",border:"1px solid transparent"}},s())),o.createElement("div",{style:{marginBottom:"20px",background:"#fff"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px",background:"#fff"}},"🎯 Task Information"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",padding:"16px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📋 Objectives"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.objectives)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"👤 Target Gender"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.gender)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🎂 Age Range"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.minAge,"-",e.maxAge," years")),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"📅 Deadline"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},a(e.deadline))),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"🏢 Current Stage"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",background:"#fff"}},e.currentStage==="contentcreator"?"Content Creator":e.currentStage==="marketinglead"?"Marketing Lead":e.currentStage==="graphicdesigner"?"Graphic Designer":e.currentStage)))),o.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},o.createElement("button",{onClick:()=>i(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto",boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)",transition:"all 0.2s ease"},onMouseEnter:N=>{N.target.style.transform="translateY(-1px)",N.target.style.boxShadow="0 6px 16px rgba(139, 92, 246, 0.4)"},onMouseLeave:N=>{N.target.style.transform="translateY(0)",N.target.style.boxShadow="0 4px 12px rgba(139, 92, 246, 0.3)"}},"🖼️ View Design")),e.marketingApproval&&e.status==="posted"&&o.createElement("div",{style:{background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",padding:"20px",borderRadius:"16px",marginBottom:"20px",border:"1px solid #22c55e",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.1)"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("span",{style:{fontSize:"20px"}},"✨"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#15803d",marginBottom:"4px"}},"Design Approved & Posted"),o.createElement("div",{style:{fontSize:"13px",color:"#166534"}},a((c=e.marketingApproval)==null?void 0:c.approvedAt)))))),e.marketingRejection&&e.status==="design_rejected"&&o.createElement("div",{style:{background:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",padding:"20px",borderRadius:"16px",marginBottom:"20px",border:"1px solid #ef4444",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.1)"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"}},o.createElement("span",{style:{fontSize:"20px"}},"❌"),o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#dc2626",marginBottom:"4px"}},"Design Rejected"),o.createElement("div",{style:{fontSize:"13px",color:"#991b1b"}},a(e.marketingRejection.rejectedAt)))),e.marketingRejection.feedback&&o.createElement("div",{style:{background:"#ffffff",padding:"16px",borderRadius:"12px",border:"1px solid #fca5a5",marginBottom:"16px"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#dc2626",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"}},o.createElement("span",null,"💬")," Feedback"),o.createElement("div",{style:{fontSize:"15px",color:"#7f1d1d",lineHeight:1.5}},e.marketingRejection.feedback)),o.createElement("button",{onClick:()=>window.location.href=`/graphic/creation?taskId=${e.id}`,style:{padding:"12px 24px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"700",display:"flex",alignItems:"center",gap:"6px"}},"🔄 Recreate Design")),((d=e.contentCreator)==null?void 0:d.content)&&o.createElement("div",{style:{background:"transparent",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"18px"}},"✨"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#0c4a6e !important",background:"transparent !important"}},"Content Used for Design")),o.createElement("button",{onClick:()=>n(!t),style:{background:"none",border:"none",color:"#0ea5e9",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px",fontWeight:"600"}},o.createElement(pr,{size:14}),t?"Hide":"View"," Details")),t&&o.createElement("div",{style:{marginTop:"0px",padding:"0px",background:"transparent",borderRadius:"0px",border:"none"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:"24px",paddingBottom:"12px",borderBottom:"1px solid #e5e7eb"}},o.createElement("h4",{style:{margin:0,color:"#374151",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"}},"📝 Content Analysis")),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📰 Headline"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.4}},e.contentCreator.content.headline)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(ou,{score:((p=(f=(u=e.contentCreator)==null?void 0:u.content)==null?void 0:f.seoAnalysis)==null?void 0:p.headlineScore)||0,label:"Headline SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"📝 Caption"),o.createElement("div",{style:{fontSize:"15px",color:"#374151",lineHeight:1.5}},e.contentCreator.content.caption)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(ou,{score:((y=(v=(x=e.contentCreator)==null?void 0:x.content)==null?void 0:v.seoAnalysis)==null?void 0:y.captionScore)||0,label:"Caption SEO"}))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"20px",alignItems:"start"}},o.createElement("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"#f8fafc"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#6b7280",marginBottom:"8px"}},"🏷️ Hashtags"),o.createElement("div",{style:{fontSize:"15px",color:"#3b82f6",fontWeight:600}},e.contentCreator.content.hashtag)),o.createElement("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"8px"}},o.createElement(ou,{score:((g=(h=(b=e.contentCreator)==null?void 0:b.content)==null?void 0:h.seoAnalysis)==null?void 0:g.overallScore)||0,label:"Overall SEO Score"})))))),r&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",position:"relative"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}},o.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700"}},"Submitted Design"),o.createElement("button",{onClick:()=>i(!1),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},"✕ Close")),(E=e.graphicDesigner)!=null&&E.designUrl||(k=(S=e.graphicDesigner)==null?void 0:S.designs)!=null&&k.designUrl?o.createElement("img",{src:((R=e.graphicDesigner)==null?void 0:R.designUrl)||((T=(C=e.graphicDesigner)==null?void 0:C.designs)==null?void 0:T.designUrl),alt:"Submitted Design",style:{maxWidth:"100%",maxHeight:"70vh",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",border:"1px solid #e5e7eb"}}):o.createElement("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",fontSize:"16px"}},"No design image available"))))};function b3(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,a]=m.useState([]),[s,l]=m.useState(!0);m.useEffect(()=>{c();const d=Un("http://localhost:3000",{withCredentials:!0});return d.on("workflowUpdated",u=>{if(!u.graphicDesigner){t(f=>f.filter(p=>p.id!==u.id)),r(f=>f.filter(p=>p.id!==u.id)),a(f=>f.filter(p=>p.id!==u.id));return}u.status==="design_rejected"?(t(f=>{const p=f.filter(x=>x.id!==u.id);return[u,...p]}),r(f=>f.filter(p=>p.id!==u.id)),a(f=>f.filter(p=>p.id!==u.id))):u.status==="design_approval"?(r(f=>{const p=f.filter(x=>x.id!==u.id);return[u,...p]}),t(f=>f.filter(p=>p.id!==u.id)),a(f=>f.filter(p=>p.id!==u.id))):u.status==="posted"||u.status==="design_approved"?(t(f=>f.filter(p=>p.id!==u.id)),r(f=>f.filter(p=>p.id!==u.id)),a(f=>f.filter(p=>p.id!==u.id))):(t(f=>f.filter(p=>p.id!==u.id)),r(f=>f.filter(p=>p.id!==u.id)),a(f=>f.filter(p=>p.id!==u.id)))}),()=>d.disconnect()},[]);const c=async()=>{try{const u=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/graphic-designer/approval-status")).json();console.log("Graphics Designer OngoingApproval API response:",u);let f=[];u.status==="success"&&(f=u.data||[]);const p=f.reduce((y,b)=>(y.find(h=>h.id===b.id)||y.push(b),y),[]),x=p.filter(y=>y.graphicDesigner&&y.status==="design_rejected"),v=p.filter(y=>y.graphicDesigner&&y.status==="design_approval");t(x),r(v),a([])}catch(d){console.error("Error fetching approval workflows:",d)}finally{l(!1)}};return s?o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"}},o.createElement("div",null,"Loading approval status...")):o.createElement("div",{style:{maxWidth:"100%",margin:"0 auto",width:"100%"}},o.createElement("div",{style:{marginBottom:"32px",padding:"24px",background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#111827",margin:0,letterSpacing:"-0.025em"}},"Ongoing Approval"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"8px 0 0 0",fontWeight:"400"}},"Track the approval status of your submitted designs")),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"40px",alignItems:"start"}},e.length>0?o.createElement("div",null,o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",padding:"16px 20px",background:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",borderRadius:"12px",border:"1px solid #fca5a5"}},o.createElement(u1,{size:24,color:"#dc2626"}),o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#dc2626",margin:0}},"Rejected Designs (",e.length,")")),e.map(d=>o.createElement(k0,{key:d.id,workflow:d}))):o.createElement("div",null),n.length>0?o.createElement("div",null,o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",padding:"16px 20px",background:"linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%)",borderRadius:"12px",border:"1px solid #a5b4fc"}},o.createElement(jt,{size:24,color:"#3730a3"}),o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#3730a3",margin:0}},"Pending Approval (",n.length,")")),n.map(d=>o.createElement(k0,{key:d.id,workflow:d}))):o.createElement("div",null)),e.length===0&&n.length===0&&o.createElement("div",{style:{textAlign:"center",padding:"80px 40px",background:"#fff",borderRadius:"16px",boxShadow:"0 4px 16px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",maxWidth:"600px",margin:"0 auto"}},o.createElement(Hn,{size:48,color:"#8b5cf6",style:{marginBottom:"16px"}}),o.createElement("h3",{style:{color:"#6b7280",fontSize:"18px",margin:"0 0 8px 0"}},"All Designs Processed"),o.createElement("p",{style:{color:"#9ca3af",margin:0}},"No designs currently awaiting approval or revision")))}function E3(){var g;const e=Dt(),t=et(),[n]=Ao(),{designData:r,taskId:i}=e.state||{},a=n.get("taskId"),s=i||a,[l,c]=m.useState(!1),[d,u]=m.useState(!1),[f,p]=m.useState(null),[x,v]=m.useState(!0);m.useEffect(()=>{s&&y()},[s]);const y=async()=>{try{const S=await(await fetch("http://localhost:3000/api/v1/tasks/workflows/stage/graphicdesigner")).json();if(S.status==="success"&&Array.isArray(S.data)){const k=S.data.find(R=>R.id===s);k&&p(k)}}catch(E){console.error("Error fetching workflow:",E)}finally{v(!1)}},b=async()=>{var E;if(!s){alert("No task selected. Please go back and select a task first.");return}c(!0);try{const S=await fetch(`http://localhost:3000/api/v1/tasks/workflow/${s}/submit-design`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({designUrl:(r==null?void 0:r.designUrl)||((E=f==null?void 0:f.graphicDesigner)==null?void 0:E.designUrl),description:`Design created for task ${s}`})}),k=await S.json();if(S.ok&&k.status==="success")u(!0),setTimeout(()=>{t("/graphic/ongoing-approval")},2e3);else throw new Error(k.message||"Failed to submit design")}catch(S){alert("Error submitting design: "+S.message)}finally{c(!1)}};if(x)return o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"}},o.createElement("div",null,"Loading design..."));if(d)return o.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Inter, system-ui, -apple-system, sans-serif"}},o.createElement("div",{style:{background:"#ffffff",borderRadius:24,padding:"48px",textAlign:"center",maxWidth:"500px",width:"90%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"}},o.createElement("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",fontSize:"32px"}},"🎨"),o.createElement("h2",{style:{fontSize:"32px",fontWeight:"800",color:"#1e293b",margin:"0 0 16px 0"}},"Design Submitted!"),o.createElement("p",{style:{color:"#475569",fontSize:"20px",margin:"0 0 24px 0",lineHeight:1.6,fontWeight:"600"}},"Your design has been successfully submitted for approval.")));const h=(r==null?void 0:r.designUrl)||((g=f==null?void 0:f.graphicDesigner)==null?void 0:g.designUrl);return o.createElement("div",{style:{padding:"20px",fontFamily:"Inter, system-ui, -apple-system, sans-serif",minHeight:"100vh",background:"#f8f9fa"}},o.createElement("div",{style:{maxWidth:"1200px",margin:"0 auto"}},o.createElement("div",{style:{textAlign:"center",marginBottom:"40px",background:"#ffffff",borderRadius:20,padding:"40px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0"}},o.createElement("h1",{style:{fontSize:"36px",fontWeight:800,color:"#1e293b",margin:"0 0 12px 0"}},"🎨 Design Created Successfully!"),o.createElement("p",{style:{color:"#64748b",fontSize:"18px",margin:"0 0 8px 0",fontWeight:500}},"Review your design and submit it for approval")),o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"48px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"2px solid #e5e7eb",marginBottom:"24px"}},o.createElement("h3",{style:{fontSize:"24px",fontWeight:700,color:"#1f2937",margin:"0 0 24px 0",display:"flex",alignItems:"center",gap:"8px"}},"🖼️ Final Design Preview"),h?o.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px"}},o.createElement("img",{src:h,alt:"Final Design",style:{maxWidth:"100%",maxHeight:"600px",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",border:"1px solid #e5e7eb"}})):o.createElement("div",{style:{padding:"60px",textAlign:"center",background:"#f8fafc",borderRadius:"12px",border:"2px dashed #d1d5db",marginBottom:"32px"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"🎨"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px"}},"No design found")),f&&o.createElement("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"32px"}},o.createElement("h4",{style:{fontSize:"18px",fontWeight:600,color:"#374151",margin:"0 0 16px 0"}},"📋 Task Information"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"}},o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"Objectives"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},f.objectives)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"Target Gender"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},f.gender)),o.createElement("div",null,o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px"}},"Age Range"),o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"}},f.minAge,"-",f.maxAge," years")))),o.createElement("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"}},o.createElement("button",{onClick:()=>t("/graphic/task"),style:{background:"#6b7280",color:"#fff",border:"none",borderRadius:"12px",padding:"12px 24px",fontWeight:600,cursor:"pointer",fontSize:"16px"}},"← Back to Tasks"),o.createElement("button",{onClick:b,disabled:l||!h,style:{background:l||!h?"#9ca3af":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#fff",border:"none",borderRadius:"12px",padding:"12px 32px",fontWeight:700,cursor:l||!h?"not-allowed":"pointer",fontSize:"16px",boxShadow:l||!h?"none":"0 4px 12px rgba(139, 92, 246, 0.3)"}},l?"Submitting...":"🚀 Submit for Approval")))))}const R0=({draft:e,draftId:t,category:n,workflowId:r,onDelete:i,onView:a,onDeleteConfirm:s})=>{var d,u,f,p,x;const l=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=v=>{v.stopPropagation(),s(t,r,n)};return o.createElement("div",{onClick:()=>a(e,t,n,r),style:{background:"#fff",border:"2px solid #e5e7eb",borderRadius:"16px",padding:"24px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",position:"relative"},onMouseEnter:v=>{v.target.style.borderColor="#3b82f6",v.target.style.boxShadow="0 8px 25px rgba(59, 130, 246, 0.15)"},onMouseLeave:v=>{v.target.style.borderColor="#e5e7eb",v.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"}},o.createElement("div",{style:{flex:1}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"}},o.createElement(mo,{size:16,color:"#3b82f6"}),o.createElement("span",{style:{fontSize:"16px",fontWeight:"700",color:"#1f2937"}},n==="workflow"?"Task Draft":"Standalone Draft")),n==="workflow"&&o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"}},o.createElement(yo,{size:12,color:"#10b981"}),o.createElement("span",{style:{fontSize:"12px",color:"#10b981",fontWeight:"600"}},"Task: ",((u=(d=e.content)==null?void 0:d.taskInfo)==null?void 0:u.objective)||r)),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"}},o.createElement(jt,{size:12,color:"#6b7280"}),o.createElement("span",{style:{fontSize:"12px",color:"#6b7280"}},l(e.updatedAt)))),o.createElement("button",{onClick:c,style:{padding:"6px",border:"none",background:"transparent",cursor:"pointer",borderRadius:"6px",color:"#ef4444",transition:"background 0.2s ease"},onMouseEnter:v=>v.target.style.background="#fef2f2",onMouseLeave:v=>v.target.style.background="transparent"},o.createElement(Do,{size:16}))),((f=e.content)==null?void 0:f.allGeneratedContent)&&o.createElement("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"8px",marginBottom:"16px"}},o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px"}},"🎯 ",e.content.totalVariations," Content Variations Generated"),o.createElement("div",{style:{fontSize:"11px",color:"#6b7280"}},"All AI-generated options with SEO analysis saved")),o.createElement("div",{style:{marginBottom:"16px"}},o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"6px"}},"📰 Content Preview"),o.createElement("div",{style:{fontSize:"14px",color:"#1f2937",lineHeight:"1.4",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"}},(p=e.content)!=null&&p.allGeneratedContent?`${e.content.totalVariations} content variations with full SEO analysis`:((x=e.content)==null?void 0:x.headline)||"Content variations available")),o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontSize:"12px",color:"#9ca3af"}},n==="workflow"?"Workflow Content":"Standalone Content"),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#3b82f6",fontWeight:"500"}},o.createElement(pr,{size:12}),"Click to view")))},S3=({isOpen:e,onClose:t,onConfirm:n,draftInfo:r})=>e?o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"32px",maxWidth:"400px",width:"90%",textAlign:"center"}},o.createElement("div",{style:{width:"64px",height:"64px",background:"#fef2f2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"3px solid #fecaca"}},o.createElement(Do,{size:28,color:"#ef4444"})),o.createElement("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"0 0 12px 0"}},"Delete Draft?"),o.createElement("p",{style:{color:"#6b7280",fontSize:"14px",margin:"0 0 24px 0",lineHeight:"1.5"}},"Are you sure you want to delete this ",r==null?void 0:r.category," draft? This action cannot be undone."),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"center"}},o.createElement("button",{onClick:t,style:{background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",padding:"10px 20px",fontWeight:"600",cursor:"pointer"}},"Cancel"),o.createElement("button",{onClick:n,style:{background:"#ef4444",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 20px",fontWeight:"600",cursor:"pointer"}},"Delete")))):null,_3=({draft:e,isOpen:t,onClose:n,onEdit:r})=>{var i;return!t||!e?null:o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{background:"#fff",borderRadius:"16px",padding:"32px",maxWidth:"800px",width:"90%",maxHeight:"80vh",overflowY:"auto"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"}},o.createElement("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0}},"Draft Details"),o.createElement("button",{onClick:n,style:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"4px"}},"✕")),o.createElement("div",{style:{display:"grid",gap:"24px"}},(i=e.content)!=null&&i.allGeneratedContent?o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"12px"}},"🎯 All Generated Content Variations (",e.content.totalVariations,")"),o.createElement("div",{style:{maxHeight:"400px",overflowY:"auto",display:"grid",gap:"16px"}},e.content.allGeneratedContent.map((a,s)=>o.createElement("div",{key:a.id||s,style:{background:"#f8fafc",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"}},"Option ",s+1," - SEO Score: ",a.seoScore,"/100"),o.createElement("div",{style:{fontSize:"13px",marginBottom:"8px"}},o.createElement("strong",null,"📰 Headline:")," ",a.headline),o.createElement("div",{style:{fontSize:"13px",marginBottom:"8px"}},o.createElement("strong",null,"📝 Caption:")," ",a.caption.substring(0,100),"..."),o.createElement("div",{style:{fontSize:"13px",color:"#6366f1"}},o.createElement("strong",null,"#️⃣ Hashtags:")," ",a.hashtag))))):o.createElement("div",null,o.createElement("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ef4444",marginBottom:"8px"}},"📰 Single Content Draft"),o.createElement("div",{style:{background:"#f8fafc",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px"}},"This draft contains individual content selections."))),o.createElement("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"}},o.createElement("button",{onClick:n,style:{background:"#6b7280",color:"#fff",border:"none",borderRadius:"8px",padding:"12px 24px",fontWeight:600,cursor:"pointer"}},"Close"),o.createElement("button",{onClick:()=>r(e),style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",padding:"12px 24px",fontWeight:600,cursor:"pointer"}},"Edit Content"))))};function w3(){const[e,t]=m.useState({workflow:{},standalone:{}}),[n,r]=m.useState(!0),[i,a]=m.useState(""),[s,l]=m.useState(null),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[p,x]=m.useState(null),v=et();m.useEffect(()=>{y()},[]);const y=async()=>{var C,T;try{r(!0);const N=await ml.getUserDrafts(),I={...N};for(const[w,D]of Object.entries(N.workflow))for(const[W,_]of Object.entries(D))if(!((T=(C=_.content)==null?void 0:C.taskInfo)!=null&&T.objective))try{const B=await(await fetch(`http://localhost:3000/api/v1/tasks/workflow/${w}`)).json();B.status==="success"&&(I.workflow[w][W].content.taskInfo={id:w,objective:B.data.objectives})}catch{console.warn("Could not fetch task info for:",w)}t(I)}catch(N){a("Failed to load drafts"),console.error("Error loading drafts:",N)}finally{r(!1)}},b=async(C,T=null)=>{try{await ml.deleteDraft(C,T),await y()}catch(N){console.error("Error deleting draft:",N),a("Failed to delete draft")}},h=(C,T,N,I)=>{l({...C,id:T,category:N,workflowId:I}),d(!0)},g=(C,T,N)=>{x({draftId:C,workflowId:T,category:N}),f(!0)},E=async()=>{try{await ml.deleteDraft(p.draftId,p.workflowId),await y(),f(!1),x(null)}catch(C){console.error("Error deleting draft:",C),a("Failed to delete draft")}},S=C=>{var T;d(!1),v("/content/output",{state:{contents:((T=C.content)==null?void 0:T.allGeneratedContent)||[],taskId:C.workflowId,fromDraftEdit:!0}})};if(n)return o.createElement("div",{style:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"16px"}},o.createElement(a1,{size:32,color:"#3b82f6",style:{animation:"spin 1s linear infinite"}}),o.createElement("div",{style:{fontSize:"16px",color:"#6b7280"}},"Loading drafts..."));if(i)return o.createElement("div",{style:{padding:"24px",textAlign:"center",color:"#ef4444",background:"#fef2f2",borderRadius:"12px",border:"1px solid #fecaca",margin:"24px"}},i);const k=Object.keys(e.workflow).length>0,R=Object.keys(e.standalone).length>0;return!k&&!R?o.createElement("div",{style:{minHeight:"70vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 24px"}},o.createElement("div",{style:{textAlign:"center",maxWidth:"500px",background:"#fff",borderRadius:"24px",padding:"48px 32px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",border:"3px solid #bae6fd"}},o.createElement(mo,{size:36,color:"#0369a1"})),o.createElement("h2",{style:{fontSize:"28px",fontWeight:"800",color:"#1f2937",margin:"0 0 12px 0",lineHeight:"1.2"}},"No Drafts Yet"),o.createElement("p",{style:{fontSize:"16px",color:"#6b7280",margin:"0 0 32px 0",lineHeight:"1.6"}},"Your generated content will be automatically saved as drafts here. Start creating content to see all your AI-generated variations with SEO analysis."),o.createElement("button",{onClick:()=>v("/content/create"),style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#fff",border:"none",borderRadius:"12px",padding:"14px 28px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:C=>{C.target.style.transform="translateY(-2px)",C.target.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.4)"},onMouseLeave:C=>{C.target.style.transform="translateY(0)",C.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"}},"🚀 Create Your First Content"),o.createElement("div",{style:{marginTop:"24px",padding:"16px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"}},o.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"}},"💡 How Drafts Work"),o.createElement("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.5"}},"All your generated content variations are automatically saved as drafts, so you never lose your AI-created content and SEO analysis.")))):o.createElement("div",{style:{padding:"24px",maxWidth:"100%",margin:"0 auto"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px",paddingBottom:"16px",borderBottom:"2px solid #e5e7eb"}},o.createElement(mo,{size:28,color:"#3b82f6"}),o.createElement("div",null,o.createElement("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#1f2937",margin:0}},"Saved Drafts"),o.createElement("p",{style:{color:"#6b7280",fontSize:"16px",margin:"4px 0 0 0"}},"Manage your saved content drafts with full SEO analysis"))),k&&o.createElement("div",{style:{marginBottom:"48px"}},o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#374151",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"}},o.createElement(yo,{size:20,color:"#10b981"}),"Task Drafts"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"}},Object.entries(e.workflow).map(([C,T])=>Object.entries(T).map(([N,I])=>o.createElement(R0,{key:N,draft:I,draftId:N,category:"workflow",workflowId:C,onDelete:b,onView:h,onDeleteConfirm:g}))))),R&&o.createElement("div",null,o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#374151",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"}},o.createElement(Ua,{size:20,color:"#8b5cf6"}),"Standalone Drafts"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"}},Object.entries(e.standalone).map(([C,T])=>o.createElement(R0,{key:C,draft:T,draftId:C,category:"standalone",onDelete:b,onView:h,onDeleteConfirm:g})))),o.createElement(_3,{draft:s,isOpen:c,onClose:()=>d(!1),onEdit:S}),o.createElement(S3,{isOpen:u,onClose:()=>f(!1),onConfirm:E,draftInfo:p}),o.createElement("style",null,`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `))}class C3{constructor(){this.cloudName="dyxayxrpp",this.uploadPreset="unsigned_uploads"}async uploadProfilePicture(t){try{const n=new FormData;n.append("file",t),n.append("upload_preset",this.uploadPreset),n.append("folder","profile-pictures");const r=await fetch(`https://api.cloudinary.com/v1_1/${this.cloudName}/upload`,{method:"POST",body:n});if(!r.ok)throw new Error(`Upload failed: ${r.statusText}`);const i=await r.json();return{success:!0,url:i.secure_url,publicId:i.public_id}}catch(n){throw new Error(`Upload failed: ${n.message}`)}}async uploadFile(t,n="uploads",r=null,i=null){try{const a=new FormData;a.append("file",t),a.append("upload_preset",this.uploadPreset),a.append("folder",n);const s=await fetch(`https://api.cloudinary.com/v1_1/${this.cloudName}/upload`,{method:"POST",body:a});if(!s.ok)throw new Error(`Upload failed: ${s.statusText}`);const l=await s.json(),c={name:t.name,size:t.size,type:t.type,url:l.secure_url,publicId:l.public_id,uploadedAt:new Date().toISOString(),folder:n};let d;if(i){const f=i.toLowerCase().replace(/[^a-z0-9]/g,"");d=we(Ce,`${f}/files`)}else d=we(Ce,"files");const u=e5(d);return await bs(u,c),{success:!0,url:l.secure_url,fileId:u.key,data:c}}catch(a){throw new Error(`Upload failed: ${a.message}`)}}}const Ab=new C3,ld=Object.freeze(Object.defineProperty({__proto__:null,default:Ab},Symbol.toStringTag,{value:"Module"})),k3=()=>{var l,c;const[e,t]=m.useState(!1),[n,r]=m.useState(null),[i,a]=m.useState(""),s=async d=>{const u=d.target.files[0];if(u){t(!0),a(""),r(null);try{const f=await Ab.uploadFile(u,"test-uploads");r(f)}catch(f){a(f.message)}finally{t(!1)}}};return o.createElement("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"}},o.createElement("h2",null,"Cloudinary Upload Test"),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("input",{type:"file",onChange:s,accept:"image/*,video/*",disabled:e,style:{marginBottom:"10px"}}),o.createElement("p",{style:{fontSize:"14px",color:"#666"}},"Select an image or video file to test upload")),e&&o.createElement("div",{style:{color:"#007bff",marginBottom:"20px"}},"Uploading..."),i&&o.createElement("div",{style:{color:"#dc3545",backgroundColor:"#f8d7da",padding:"10px",borderRadius:"5px",marginBottom:"20px"}},"Error: ",i),n&&o.createElement("div",{style:{backgroundColor:"#d4edda",padding:"15px",borderRadius:"5px",marginBottom:"20px"}},o.createElement("h3",{style:{color:"#155724",margin:"0 0 10px 0"}},"Upload Successful!"),o.createElement("p",null,o.createElement("strong",null,"File ID:")," ",n.fileId),o.createElement("p",null,o.createElement("strong",null,"URL:")," ",o.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},n.url)),n.data&&o.createElement("div",null,o.createElement("p",null,o.createElement("strong",null,"File Name:")," ",n.data.name),o.createElement("p",null,o.createElement("strong",null,"File Size:")," ",n.data.size," bytes"),o.createElement("p",null,o.createElement("strong",null,"File Type:")," ",n.data.type)),((c=(l=n.data)==null?void 0:l.type)==null?void 0:c.startsWith("image/"))&&o.createElement("div",{style:{marginTop:"10px"}},o.createElement("img",{src:n.url,alt:"Uploaded",style:{maxWidth:"200px",maxHeight:"200px",border:"1px solid #ccc"}}))))},zh=document.createElement("link");zh.href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap";zh.rel="stylesheet";document.head.appendChild(zh);const Pb=document.createElement("style");Pb.innerHTML=`body, html, #root {
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif !important;
  background: #f6f8fa;
  color: #222;
  letter-spacing: 0.01em;
}`;document.head.appendChild(Pb);function R3(){return o.createElement(p1,null,o.createElement(M_,null,o.createElement(f_,null,o.createElement(Z,{element:o.createElement(Sw,null)},o.createElement(Z,{path:"/login",element:o.createElement(ww,null)}),o.createElement(Z,{path:"/register",element:o.createElement(xw,null)}),o.createElement(Z,{path:"/forgot-password",element:o.createElement(vw,null)}),o.createElement(Z,{path:"/reset-password/:token",element:o.createElement(Cw,null)}),o.createElement(Z,{path:"/",element:o.createElement(Kx,{to:"/login",replace:!0})}),o.createElement(Z,{path:"/upload-test",element:o.createElement(k3,null)})),o.createElement(Z,{path:"/admin",element:o.createElement(uR,null)},o.createElement(Z,{index:!0,element:o.createElement(X5,null)}),o.createElement(Z,{path:"approval",element:o.createElement(qs,null,o.createElement(rR,null))}),o.createElement(Z,{path:"manage",element:o.createElement(qs,null,o.createElement(aR,null))}),o.createElement(Z,{path:"socials",element:o.createElement(qs,null,o.createElement(Z5,null))}),o.createElement(Z,{path:"posted-contents",element:o.createElement(qs,null,o.createElement(sR,null))})),o.createElement(Z,{path:"/marketing",element:o.createElement(hR,null)},o.createElement(Z,{index:!0,element:o.createElement(l0,null)}),o.createElement(Z,{path:"dashboard",element:o.createElement(l0,null)}),o.createElement(Z,{path:"content-calendar",element:o.createElement(gR,null)}),o.createElement(Z,{path:"approval",element:o.createElement(c8,null)}),o.createElement(Z,{path:"approved",element:o.createElement(u8,null)}),o.createElement(Z,{path:"posting",element:o.createElement(X8,null)}),o.createElement(Z,{path:"set-task",element:o.createElement(Ib,null)}),o.createElement(Z,{path:"set-task-graphic-designer",element:o.createElement(Nb,null)}),o.createElement(Z,{path:"set-task-unified",element:o.createElement(Z8,null)}),o.createElement(Z,{path:"ongoing-task",element:o.createElement(G8,null)}),o.createElement(Z,{path:"set-schedule",element:o.createElement(q8,null)}),o.createElement(Z,{path:"ongoing-schedule",element:o.createElement(K8,null)}),o.createElement(Z,{path:"posted-content",element:o.createElement(Q8,null)}),o.createElement(Z,{path:"posted-contents",element:o.createElement(J8,null)})),o.createElement(Z,{path:"/content",element:o.createElement(n3,null)},o.createElement(Z,{index:!0,element:o.createElement(w0,null)}),o.createElement(Z,{path:"dashboard",element:o.createElement(w0,null)}),o.createElement(Z,{path:"create",element:o.createElement(s3,null)}),o.createElement(Z,{path:"output",element:o.createElement(x3,null)}),o.createElement(Z,{path:"task",element:o.createElement(c3,null)}),o.createElement(Z,{path:"drafts",element:o.createElement(w3,null)}),o.createElement(Z,{path:"approval",element:o.createElement(v3,null)})),o.createElement(Z,{path:"/graphic",element:o.createElement(f3,null)},o.createElement(Z,{path:"creation",element:o.createElement(y3,null)}),o.createElement(Z,{index:!0,element:o.createElement(C0,null)}),o.createElement(Z,{path:"dashboard",element:o.createElement(C0,null)}),o.createElement(Z,{path:"task",element:o.createElement(h3,null)}),o.createElement(Z,{path:"finalized-design",element:o.createElement(E3,null)}),o.createElement(Z,{path:"ongoing-approval",element:o.createElement(b3,null)})))))}au.createRoot(document.getElementById("root")).render(o.createElement(o.StrictMode,null,o.createElement(p1,null,o.createElement(R3,null))));export{kh as $,D3 as A,z3 as B,L3 as C,Ti as D,I3 as E,_s as F,$3 as G,U3 as H,H3 as I,V3 as J,e5 as K,G3 as L,we as M,T3 as N,Z6 as O,dc as P,Nn as Q,In as R,tT as S,b5 as T,Z3 as U,bs as V,N3 as W,A3 as X,B3 as Y,M3 as Z,iT as _,g5 as a,Jt as b,th as c,Mn as d,_o as e,rT as f,y5 as g,nT as h,X3 as i,O3 as j,W3 as k,Y3 as l,K3 as m,q3 as n,an as o,m5 as p,Q3 as q,rb as r,F1 as s,J3 as t,eT as u,bh as v,F3 as w,j3 as x,Zv as y,P3 as z};
