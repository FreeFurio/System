(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jm={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo=Symbol.for("react.element"),I0=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),O0=Symbol.for("react.profiler"),D0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),M0=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),B0=Symbol.for("react.memo"),z0=Symbol.for("react.lazy"),gh=Symbol.iterator;function U0(t){return t===null||typeof t!="object"?null:(t=gh&&t[gh]||t["@@iterator"],typeof t=="function"?t:null)}var Vm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gm=Object.assign,qm={};function zi(t,e,n){this.props=t,this.context=e,this.refs=qm,this.updater=n||Vm}zi.prototype.isReactComponent={};zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Km(){}Km.prototype=zi.prototype;function ad(t,e,n){this.props=t,this.context=e,this.refs=qm,this.updater=n||Vm}var ld=ad.prototype=new Km;ld.constructor=ad;Gm(ld,zi.prototype);ld.isPureReactComponent=!0;var yh=Array.isArray,Ym=Object.prototype.hasOwnProperty,ud={current:null},Qm={key:!0,ref:!0,__self:!0,__source:!0};function Xm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ym.call(e,r)&&!Qm.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uo,type:t,key:s,ref:o,props:i,_owner:ud.current}}function $0(t,e){return{$$typeof:uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cd(t){return typeof t=="object"&&t!==null&&t.$$typeof===uo}function W0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vh=/\/+/g;function Gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W0(""+t.key):e.toString(36)}function Zo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uo:case I0:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Gl(o,0):r,yh(i)?(n="",t!=null&&(n=t.replace(vh,"$&/")+"/"),Zo(i,e,n,"",function(u){return u})):i!=null&&(cd(i)&&(i=$0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yh(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Gl(s,a);o+=Zo(s,e,n,l,i)}else if(l=U0(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Gl(s,a++),o+=Zo(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Po(t,e,n){if(t==null)return t;var r=[],i=0;return Zo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function H0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},ea={transition:null},j0={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ea,ReactCurrentOwner:ud};function Jm(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Po,forEach:function(t,e,n){Po(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Po(t,function(){e++}),e},toArray:function(t){return Po(t,function(e){return e})||[]},only:function(t){if(!cd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=zi;q.Fragment=P0;q.Profiler=O0;q.PureComponent=ad;q.StrictMode=A0;q.Suspense=F0;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0;q.act=Jm;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gm({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ud.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ym.call(e,l)&&!Qm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:uo,type:t.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(t){return t={$$typeof:L0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D0,_context:t},t.Consumer=t};q.createElement=Xm;q.createFactory=function(t){var e=Xm.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:M0,render:t}};q.isValidElement=cd;q.lazy=function(t){return{$$typeof:z0,_payload:{_status:-1,_result:t},_init:H0}};q.memo=function(t,e){return{$$typeof:B0,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=ea.transition;ea.transition={};try{t()}finally{ea.transition=e}};q.unstable_act=Jm;q.useCallback=function(t,e){return et.current.useCallback(t,e)};q.useContext=function(t){return et.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return et.current.useDeferredValue(t)};q.useEffect=function(t,e){return et.current.useEffect(t,e)};q.useId=function(){return et.current.useId()};q.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return et.current.useMemo(t,e)};q.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};q.useRef=function(t){return et.current.useRef(t)};q.useState=function(t){return et.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return et.current.useTransition()};q.version="18.3.1";jm.exports=q;var g=jm.exports;const c=Hm(g);var Lu={},Zm={exports:{}},mt={},eg={exports:{}},tg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,B){var W=P.length;P.push(B);e:for(;0<W;){var Y=W-1>>>1,Z=P[Y];if(0<i(Z,B))P[Y]=B,P[W]=Z,W=Y;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var B=P[0],W=P.pop();if(W!==B){P[0]=W;e:for(var Y=0,Z=P.length,ee=Z>>>1;Y<ee;){var H=2*(Y+1)-1,M=P[H],L=H+1,ce=P[L];if(0>i(M,W))L<Z&&0>i(ce,M)?(P[Y]=ce,P[L]=W,Y=L):(P[Y]=M,P[H]=W,Y=H);else if(L<Z&&0>i(ce,W))P[Y]=ce,P[L]=W,Y=L;else break e}}return B}function i(P,B){var W=P.sortIndex-B.sortIndex;return W!==0?W:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,y=!1,_=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=P)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function C(P){if(E=!1,v(P),!_)if(n(l)!==null)_=!0,be(S);else{var B=n(u);B!==null&&ue(C,B.startTime-P)}}function S(P,B){_=!1,E&&(E=!1,m(I),I=-1),y=!0;var W=h;try{for(v(B),f=n(l);f!==null&&(!(f.expirationTime>B)||P&&!k());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var Z=Y(f.expirationTime<=B);B=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),v(B)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var H=n(u);H!==null&&ue(C,H.startTime-B),ee=!1}return ee}finally{f=null,h=W,y=!1}}var x=!1,b=null,I=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function F(){if(b!==null){var P=t.unstable_now();R=P;var B=!0;try{B=b(!0,P)}finally{B?$():(x=!1,b=null)}}else x=!1}var $;if(typeof p=="function")$=function(){p(F)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Se=he.port2;he.port1.onmessage=F,$=function(){Se.postMessage(null)}}else $=function(){w(F,0)};function be(P){b=P,x||(x=!0,$())}function ue(P,B){I=w(function(){P(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,be(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return P()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=h;h=P;try{return B()}finally{h=W}},t.unstable_scheduleCallback=function(P,B,W){var Y=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Y+W:Y):W=Y,P){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,P={id:d++,callback:B,priorityLevel:P,startTime:W,expirationTime:Z,sortIndex:-1},W>Y?(P.sortIndex=W,e(u,P),n(l)===null&&P===n(u)&&(E?(m(I),I=-1):E=!0,ue(C,W-Y))):(P.sortIndex=Z,e(l,P),_||y||(_=!0,be(S))),P},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(P){var B=h;return function(){var W=h;h=B;try{return P.apply(this,arguments)}finally{h=W}}}})(tg);eg.exports=tg;var V0=eg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=g,pt=V0;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ng=new Set,Ds={};function Fr(t,e){ki(t,e),ki(t+"Capture",e)}function ki(t,e){for(Ds[t]=e,t=0;t<e.length;t++)ng.add(e[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,q0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_h={},Eh={};function K0(t){return Mu.call(Eh,t)?!0:Mu.call(_h,t)?!1:q0.test(t)?Eh[t]=!0:(_h[t]=!0,!1)}function Y0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q0(t,e,n,r){if(e===null||typeof e>"u"||Y0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dd=/[\-:]([a-z])/g;function fd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dd,fd);We[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dd,fd);We[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dd,fd);We[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function hd(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q0(e,n,i,r)&&(n=null),r||i===null?K0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bn=G0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ao=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),pd=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),rg=Symbol.for("react.provider"),ig=Symbol.for("react.context"),md=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),gd=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),sg=Symbol.for("react.offscreen"),wh=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=wh&&t[wh]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,ql;function ms(t){if(ql===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ql=e&&e[1]||""}return`
`+ql+t}var Kl=!1;function Yl(t,e){if(!t||Kl)return"";Kl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Kl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function X0(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=Yl(t.type,!1),t;case 11:return t=Yl(t.type.render,!1),t;case 1:return t=Yl(t.type,!0),t;default:return""}}function Uu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ei:return"Fragment";case Zr:return"Portal";case Fu:return"Profiler";case pd:return"StrictMode";case Bu:return"Suspense";case zu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ig:return(t.displayName||"Context")+".Consumer";case rg:return(t._context.displayName||"Context")+".Provider";case md:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gd:return e=t.displayName||null,e!==null?e:Uu(t.type)||"Memo";case Ln:e=t._payload,t=t._init;try{return Uu(t(e))}catch{}}return null}function J0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uu(e);case 8:return e===pd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function og(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z0(t){var e=og(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oo(t){t._valueTracker||(t._valueTracker=Z0(t))}function ag(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=og(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $u(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ch(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lg(t,e){e=e.checked,e!=null&&hd(t,"checked",e,!1)}function Wu(t,e){lg(t,e);var n=rr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hu(t,e.type,rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hu(t,e,n){(e!=="number"||ga(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gs=Array.isArray;function fi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ju(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(gs(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rr(n)}}function ug(t,e){var n=rr(e.value),r=rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Do,dg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Do.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e1=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(t){e1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Es[e]=Es[t]})});function fg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Es.hasOwnProperty(t)&&Es[t]?(""+e).trim():e+"px"}function hg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var t1=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gu(t,e){if(e){if(t1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function qu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function yd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yu=null,hi=null,pi=null;function Nh(t){if(t=ho(t)){if(typeof Yu!="function")throw Error(N(280));var e=t.stateNode;e&&(e=hl(e),Yu(t.stateNode,t.type,e))}}function pg(t){hi?pi?pi.push(t):pi=[t]:hi=t}function mg(){if(hi){var t=hi,e=pi;if(pi=hi=null,Nh(t),e)for(t=0;t<e.length;t++)Nh(e[t])}}function gg(t,e){return t(e)}function yg(){}var Ql=!1;function vg(t,e,n){if(Ql)return t(e,n);Ql=!0;try{return gg(t,e,n)}finally{Ql=!1,(hi!==null||pi!==null)&&(yg(),mg())}}function Ms(t,e){var n=t.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Qu=!1;if(En)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Qu=!1}function n1(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ws=!1,ya=null,va=!1,Xu=null,r1={onError:function(t){ws=!0,ya=t}};function i1(t,e,n,r,i,s,o,a,l){ws=!1,ya=null,n1.apply(r1,arguments)}function s1(t,e,n,r,i,s,o,a,l){if(i1.apply(this,arguments),ws){if(ws){var u=ya;ws=!1,ya=null}else throw Error(N(198));va||(va=!0,Xu=u)}}function Br(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _g(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bh(t){if(Br(t)!==t)throw Error(N(188))}function o1(t){var e=t.alternate;if(!e){if(e=Br(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bh(i),t;if(s===r)return bh(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Eg(t){return t=o1(t),t!==null?wg(t):null}function wg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wg(t);if(e!==null)return e;t=t.sibling}return null}var Cg=pt.unstable_scheduleCallback,Th=pt.unstable_cancelCallback,a1=pt.unstable_shouldYield,l1=pt.unstable_requestPaint,ke=pt.unstable_now,u1=pt.unstable_getCurrentPriorityLevel,vd=pt.unstable_ImmediatePriority,Sg=pt.unstable_UserBlockingPriority,_a=pt.unstable_NormalPriority,c1=pt.unstable_LowPriority,kg=pt.unstable_IdlePriority,ul=null,Qt=null;function d1(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ul,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:p1,f1=Math.log,h1=Math.LN2;function p1(t){return t>>>=0,t===0?32:31-(f1(t)/h1|0)|0}var Lo=64,Mo=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ea(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ys(a):(s&=o,s!==0&&(r=ys(s)))}else o=n&~i,o!==0?r=ys(o):s!==0&&(r=ys(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ut(e),i=1<<n,r|=t[n],e&=~i;return r}function m1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ut(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=m1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xg(){var t=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),t}function Xl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function co(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=n}function y1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ut(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _d(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ne=0;function Ng(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bg,Ed,Tg,Rg,Ig,Zu=!1,Fo=[],jn=null,Vn=null,Gn=null,Fs=new Map,Bs=new Map,Fn=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(t,e){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(e.pointerId)}}function rs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ho(e),e!==null&&Ed(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _1(t,e,n,r,i){switch(e){case"focusin":return jn=rs(jn,t,e,n,r,i),!0;case"dragenter":return Vn=rs(Vn,t,e,n,r,i),!0;case"mouseover":return Gn=rs(Gn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fs.set(s,rs(Fs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bs.set(s,rs(Bs.get(s)||null,t,e,n,r,i)),!0}return!1}function Pg(t){var e=wr(t.target);if(e!==null){var n=Br(e);if(n!==null){if(e=n.tag,e===13){if(e=_g(n),e!==null){t.blockedOn=e,Ig(t.priority,function(){Tg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ta(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ec(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ku=r,n.target.dispatchEvent(r),Ku=null}else return e=ho(n),e!==null&&Ed(e),t.blockedOn=n,!1;e.shift()}return!0}function Ih(t,e,n){ta(t)&&n.delete(e)}function E1(){Zu=!1,jn!==null&&ta(jn)&&(jn=null),Vn!==null&&ta(Vn)&&(Vn=null),Gn!==null&&ta(Gn)&&(Gn=null),Fs.forEach(Ih),Bs.forEach(Ih)}function is(t,e){t.blockedOn===e&&(t.blockedOn=null,Zu||(Zu=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,E1)))}function zs(t){function e(i){return is(i,t)}if(0<Fo.length){is(Fo[0],t);for(var n=1;n<Fo.length;n++){var r=Fo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jn!==null&&is(jn,t),Vn!==null&&is(Vn,t),Gn!==null&&is(Gn,t),Fs.forEach(e),Bs.forEach(e),n=0;n<Fn.length;n++)r=Fn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)Pg(n),n.blockedOn===null&&Fn.shift()}var mi=bn.ReactCurrentBatchConfig,wa=!0;function w1(t,e,n,r){var i=ne,s=mi.transition;mi.transition=null;try{ne=1,wd(t,e,n,r)}finally{ne=i,mi.transition=s}}function C1(t,e,n,r){var i=ne,s=mi.transition;mi.transition=null;try{ne=4,wd(t,e,n,r)}finally{ne=i,mi.transition=s}}function wd(t,e,n,r){if(wa){var i=ec(t,e,n,r);if(i===null)au(t,e,r,Ca,n),Rh(t,r);else if(_1(i,t,e,n,r))r.stopPropagation();else if(Rh(t,r),e&4&&-1<v1.indexOf(t)){for(;i!==null;){var s=ho(i);if(s!==null&&bg(s),s=ec(t,e,n,r),s===null&&au(t,e,r,Ca,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else au(t,e,r,null,n)}}var Ca=null;function ec(t,e,n,r){if(Ca=null,t=yd(r),t=wr(t),t!==null)if(e=Br(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_g(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ca=t,null}function Ag(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u1()){case vd:return 1;case Sg:return 4;case _a:case c1:return 16;case kg:return 536870912;default:return 16}default:return 16}}var zn=null,Cd=null,na=null;function Og(){if(na)return na;var t,e=Cd,n=e.length,r,i="value"in zn?zn.value:zn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return na=i.slice(t,1<r?1-r:void 0)}function ra(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function Ph(){return!1}function gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bo:Ph,this.isPropagationStopped=Ph,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=gt(Ui),fo=_e({},Ui,{view:0,detail:0}),S1=gt(fo),Jl,Zl,ss,cl=_e({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(Jl=t.screenX-ss.screenX,Zl=t.screenY-ss.screenY):Zl=Jl=0,ss=t),Jl)},movementY:function(t){return"movementY"in t?t.movementY:Zl}}),Ah=gt(cl),k1=_e({},cl,{dataTransfer:0}),x1=gt(k1),N1=_e({},fo,{relatedTarget:0}),eu=gt(N1),b1=_e({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),T1=gt(b1),R1=_e({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I1=gt(R1),P1=_e({},Ui,{data:0}),Oh=gt(P1),A1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D1[t])?!!e[t]:!1}function kd(){return L1}var M1=_e({},fo,{key:function(t){if(t.key){var e=A1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(t){return t.type==="keypress"?ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F1=gt(M1),B1=_e({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=gt(B1),z1=_e({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),U1=gt(z1),$1=_e({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),W1=gt($1),H1=_e({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j1=gt(H1),V1=[9,13,27,32],xd=En&&"CompositionEvent"in window,Cs=null;En&&"documentMode"in document&&(Cs=document.documentMode);var G1=En&&"TextEvent"in window&&!Cs,Dg=En&&(!xd||Cs&&8<Cs&&11>=Cs),Lh=String.fromCharCode(32),Mh=!1;function Lg(t,e){switch(t){case"keyup":return V1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ti=!1;function q1(t,e){switch(t){case"compositionend":return Mg(e);case"keypress":return e.which!==32?null:(Mh=!0,Lh);case"textInput":return t=e.data,t===Lh&&Mh?null:t;default:return null}}function K1(t,e){if(ti)return t==="compositionend"||!xd&&Lg(t,e)?(t=Og(),na=Cd=zn=null,ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dg&&e.locale!=="ko"?null:e.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y1[t.type]:e==="textarea"}function Fg(t,e,n,r){pg(r),e=Sa(e,"onChange"),0<e.length&&(n=new Sd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ss=null,Us=null;function Q1(t){Kg(t,0)}function dl(t){var e=ii(t);if(ag(e))return t}function X1(t,e){if(t==="change")return e}var Bg=!1;if(En){var tu;if(En){var nu="oninput"in document;if(!nu){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),nu=typeof Bh.oninput=="function"}tu=nu}else tu=!1;Bg=tu&&(!document.documentMode||9<document.documentMode)}function zh(){Ss&&(Ss.detachEvent("onpropertychange",zg),Us=Ss=null)}function zg(t){if(t.propertyName==="value"&&dl(Us)){var e=[];Fg(e,Us,t,yd(t)),vg(Q1,e)}}function J1(t,e,n){t==="focusin"?(zh(),Ss=e,Us=n,Ss.attachEvent("onpropertychange",zg)):t==="focusout"&&zh()}function Z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dl(Us)}function eE(t,e){if(t==="click")return dl(e)}function tE(t,e){if(t==="input"||t==="change")return dl(e)}function nE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ht=typeof Object.is=="function"?Object.is:nE;function $s(t,e){if(Ht(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mu.call(e,i)||!Ht(t[i],e[i]))return!1}return!0}function Uh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $h(t,e){var n=Uh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uh(n)}}function Ug(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ug(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $g(){for(var t=window,e=ga();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ga(t.document)}return e}function Nd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rE(t){var e=$g(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ug(n.ownerDocument.documentElement,n)){if(r!==null&&Nd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$h(n,s);var o=$h(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iE=En&&"documentMode"in document&&11>=document.documentMode,ni=null,tc=null,ks=null,nc=!1;function Wh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nc||ni==null||ni!==ga(r)||(r=ni,"selectionStart"in r&&Nd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ks&&$s(ks,r)||(ks=r,r=Sa(tc,"onSelect"),0<r.length&&(e=new Sd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ni)))}function zo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ri={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},ru={},Wg={};En&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function fl(t){if(ru[t])return ru[t];if(!ri[t])return t;var e=ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wg)return ru[t]=e[n];return t}var Hg=fl("animationend"),jg=fl("animationiteration"),Vg=fl("animationstart"),Gg=fl("transitionend"),qg=new Map,Hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,e){qg.set(t,e),Fr(e,[t])}for(var iu=0;iu<Hh.length;iu++){var su=Hh[iu],sE=su.toLowerCase(),oE=su[0].toUpperCase()+su.slice(1);cr(sE,"on"+oE)}cr(Hg,"onAnimationEnd");cr(jg,"onAnimationIteration");cr(Vg,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(Gg,"onTransitionEnd");ki("onMouseEnter",["mouseout","mouseover"]);ki("onMouseLeave",["mouseout","mouseover"]);ki("onPointerEnter",["pointerout","pointerover"]);ki("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function jh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,s1(r,e,void 0,t),t.currentTarget=null}function Kg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jh(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jh(i,a,u),s=l}}}if(va)throw t=Xu,va=!1,Xu=null,t}function de(t,e){var n=e[ac];n===void 0&&(n=e[ac]=new Set);var r=t+"__bubble";n.has(r)||(Yg(e,t,2,!1),n.add(r))}function ou(t,e,n){var r=0;e&&(r|=4),Yg(n,t,r,e)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[Uo]){t[Uo]=!0,ng.forEach(function(n){n!=="selectionchange"&&(aE.has(n)||ou(n,!1,t),ou(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uo]||(e[Uo]=!0,ou("selectionchange",!1,e))}}function Yg(t,e,n,r){switch(Ag(e)){case 1:var i=w1;break;case 4:i=C1;break;default:i=wd}n=i.bind(null,e,n,t),i=void 0,!Qu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function au(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vg(function(){var u=s,d=yd(n),f=[];e:{var h=qg.get(t);if(h!==void 0){var y=Sd,_=t;switch(t){case"keypress":if(ra(n)===0)break e;case"keydown":case"keyup":y=F1;break;case"focusin":_="focus",y=eu;break;case"focusout":_="blur",y=eu;break;case"beforeblur":case"afterblur":y=eu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=x1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=U1;break;case Hg:case jg:case Vg:y=T1;break;case Gg:y=W1;break;case"scroll":y=S1;break;case"wheel":y=j1;break;case"copy":case"cut":case"paste":y=I1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dh}var E=(e&4)!==0,w=!E&&t==="scroll",m=E?h!==null?h+"Capture":null:h;E=[];for(var p=u,v;p!==null;){v=p;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,m!==null&&(C=Ms(p,m),C!=null&&E.push(Hs(p,C,v)))),w)break;p=p.return}0<E.length&&(h=new y(h,_,null,n,d),f.push({event:h,listeners:E}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Ku&&(_=n.relatedTarget||n.fromElement)&&(wr(_)||_[wn]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=u,_=_?wr(_):null,_!==null&&(w=Br(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(E=Ah,C="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(E=Dh,C="onPointerLeave",m="onPointerEnter",p="pointer"),w=y==null?h:ii(y),v=_==null?h:ii(_),h=new E(C,p+"leave",y,n,d),h.target=w,h.relatedTarget=v,C=null,wr(d)===u&&(E=new E(m,p+"enter",_,n,d),E.target=v,E.relatedTarget=w,C=E),w=C,y&&_)t:{for(E=y,m=_,p=0,v=E;v;v=Xr(v))p++;for(v=0,C=m;C;C=Xr(C))v++;for(;0<p-v;)E=Xr(E),p--;for(;0<v-p;)m=Xr(m),v--;for(;p--;){if(E===m||m!==null&&E===m.alternate)break t;E=Xr(E),m=Xr(m)}E=null}else E=null;y!==null&&Vh(f,h,y,E,!1),_!==null&&w!==null&&Vh(f,w,_,E,!0)}}e:{if(h=u?ii(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=X1;else if(Fh(h))if(Bg)S=tE;else{S=Z1;var x=J1}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=eE);if(S&&(S=S(t,u))){Fg(f,S,n,d);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Hu(h,"number",h.value)}switch(x=u?ii(u):window,t){case"focusin":(Fh(x)||x.contentEditable==="true")&&(ni=x,tc=u,ks=null);break;case"focusout":ks=tc=ni=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,Wh(f,n,d);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":Wh(f,n,d)}var b;if(xd)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ti?Lg(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Dg&&n.locale!=="ko"&&(ti||I!=="onCompositionStart"?I==="onCompositionEnd"&&ti&&(b=Og()):(zn=d,Cd="value"in zn?zn.value:zn.textContent,ti=!0)),x=Sa(u,I),0<x.length&&(I=new Oh(I,t,null,n,d),f.push({event:I,listeners:x}),b?I.data=b:(b=Mg(n),b!==null&&(I.data=b)))),(b=G1?q1(t,n):K1(t,n))&&(u=Sa(u,"onBeforeInput"),0<u.length&&(d=new Oh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=b))}Kg(f,e)})}function Hs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ms(t,n),s!=null&&r.unshift(Hs(t,s,i)),s=Ms(t,e),s!=null&&r.push(Hs(t,s,i))),t=t.return}return r}function Xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ms(n,s),l!=null&&o.unshift(Hs(n,l,a))):i||(l=Ms(n,s),l!=null&&o.push(Hs(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function Gh(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(uE,"")}function $o(t,e,n){if(e=Gh(e),Gh(t)!==e&&n)throw Error(N(425))}function ka(){}var rc=null,ic=null;function sc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(t){return qh.resolve(null).then(t).catch(fE)}:oc;function fE(t){setTimeout(function(){throw t})}function lu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(e)}function qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $i=Math.random().toString(36).slice(2),Yt="__reactFiber$"+$i,js="__reactProps$"+$i,wn="__reactContainer$"+$i,ac="__reactEvents$"+$i,hE="__reactListeners$"+$i,pE="__reactHandles$"+$i;function wr(t){var e=t[Yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wn]||n[Yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kh(t);t!==null;){if(n=t[Yt])return n;t=Kh(t)}return e}t=n,n=t.parentNode}return null}function ho(t){return t=t[Yt]||t[wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function hl(t){return t[js]||null}var lc=[],si=-1;function dr(t){return{current:t}}function fe(t){0>si||(t.current=lc[si],lc[si]=null,si--)}function le(t,e){si++,lc[si]=t.current,t.current=e}var ir={},Ke=dr(ir),at=dr(!1),Tr=ir;function xi(t,e){var n=t.type.contextTypes;if(!n)return ir;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lt(t){return t=t.childContextTypes,t!=null}function xa(){fe(at),fe(Ke)}function Yh(t,e,n){if(Ke.current!==ir)throw Error(N(168));le(Ke,e),le(at,n)}function Qg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,J0(t)||"Unknown",i));return _e({},n,r)}function Na(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ir,Tr=Ke.current,le(Ke,t),le(at,at.current),!0}function Qh(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Qg(t,e,Tr),r.__reactInternalMemoizedMergedChildContext=t,fe(at),fe(Ke),le(Ke,t)):fe(at),le(at,n)}var dn=null,pl=!1,uu=!1;function Xg(t){dn===null?dn=[t]:dn.push(t)}function mE(t){pl=!0,Xg(t)}function fr(){if(!uu&&dn!==null){uu=!0;var t=0,e=ne;try{var n=dn;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dn=null,pl=!1}catch(i){throw dn!==null&&(dn=dn.slice(t+1)),Cg(vd,fr),i}finally{ne=e,uu=!1}}return null}var oi=[],ai=0,ba=null,Ta=0,_t=[],Et=0,Rr=null,hn=1,pn="";function gr(t,e){oi[ai++]=Ta,oi[ai++]=ba,ba=t,Ta=e}function Jg(t,e,n){_t[Et++]=hn,_t[Et++]=pn,_t[Et++]=Rr,Rr=t;var r=hn;t=pn;var i=32-Ut(r)-1;r&=~(1<<i),n+=1;var s=32-Ut(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hn=1<<32-Ut(e)+i|n<<i|r,pn=s+t}else hn=1<<s|n<<i|r,pn=t}function bd(t){t.return!==null&&(gr(t,1),Jg(t,1,0))}function Td(t){for(;t===ba;)ba=oi[--ai],oi[ai]=null,Ta=oi[--ai],oi[ai]=null;for(;t===Rr;)Rr=_t[--Et],_t[Et]=null,pn=_t[--Et],_t[Et]=null,hn=_t[--Et],_t[Et]=null}var ht=null,ft=null,pe=!1,Ft=null;function Zg(t,e){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ft=qn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rr!==null?{id:hn,overflow:pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ft=null,!0):!1;default:return!1}}function uc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cc(t){if(pe){var e=ft;if(e){var n=e;if(!Xh(t,e)){if(uc(t))throw Error(N(418));e=qn(n.nextSibling);var r=ht;e&&Xh(t,e)?Zg(r,n):(t.flags=t.flags&-4097|2,pe=!1,ht=t)}}else{if(uc(t))throw Error(N(418));t.flags=t.flags&-4097|2,pe=!1,ht=t}}}function Jh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function Wo(t){if(t!==ht)return!1;if(!pe)return Jh(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sc(t.type,t.memoizedProps)),e&&(e=ft)){if(uc(t))throw ey(),Error(N(418));for(;e;)Zg(t,e),e=qn(e.nextSibling)}if(Jh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=qn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=ht?qn(t.stateNode.nextSibling):null;return!0}function ey(){for(var t=ft;t;)t=qn(t.nextSibling)}function Ni(){ft=ht=null,pe=!1}function Rd(t){Ft===null?Ft=[t]:Ft.push(t)}var gE=bn.ReactCurrentBatchConfig;function os(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Ho(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zh(t){var e=t._init;return e(t._payload)}function ty(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Xn(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,C){return p===null||p.tag!==6?(p=gu(v,m.mode,C),p.return=m,p):(p=i(p,v),p.return=m,p)}function l(m,p,v,C){var S=v.type;return S===ei?d(m,p,v.props.children,C,v.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&Zh(S)===p.type)?(C=i(p,v.props),C.ref=os(m,p,v),C.return=m,C):(C=ca(v.type,v.key,v.props,null,m.mode,C),C.ref=os(m,p,v),C.return=m,C)}function u(m,p,v,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=yu(v,m.mode,C),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function d(m,p,v,C,S){return p===null||p.tag!==7?(p=Nr(v,m.mode,C,S),p.return=m,p):(p=i(p,v),p.return=m,p)}function f(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=gu(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ao:return v=ca(p.type,p.key,p.props,null,m.mode,v),v.ref=os(m,null,p),v.return=m,v;case Zr:return p=yu(p,m.mode,v),p.return=m,p;case Ln:var C=p._init;return f(m,C(p._payload),v)}if(gs(p)||ts(p))return p=Nr(p,m.mode,v,null),p.return=m,p;Ho(m,p)}return null}function h(m,p,v,C){var S=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,p,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ao:return v.key===S?l(m,p,v,C):null;case Zr:return v.key===S?u(m,p,v,C):null;case Ln:return S=v._init,h(m,p,S(v._payload),C)}if(gs(v)||ts(v))return S!==null?null:d(m,p,v,C,null);Ho(m,v)}return null}function y(m,p,v,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(v)||null,a(p,m,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ao:return m=m.get(C.key===null?v:C.key)||null,l(p,m,C,S);case Zr:return m=m.get(C.key===null?v:C.key)||null,u(p,m,C,S);case Ln:var x=C._init;return y(m,p,v,x(C._payload),S)}if(gs(C)||ts(C))return m=m.get(v)||null,d(p,m,C,S,null);Ho(p,C)}return null}function _(m,p,v,C){for(var S=null,x=null,b=p,I=p=0,A=null;b!==null&&I<v.length;I++){b.index>I?(A=b,b=null):A=b.sibling;var R=h(m,b,v[I],C);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(m,b),p=s(R,p,I),x===null?S=R:x.sibling=R,x=R,b=A}if(I===v.length)return n(m,b),pe&&gr(m,I),S;if(b===null){for(;I<v.length;I++)b=f(m,v[I],C),b!==null&&(p=s(b,p,I),x===null?S=b:x.sibling=b,x=b);return pe&&gr(m,I),S}for(b=r(m,b);I<v.length;I++)A=y(b,m,I,v[I],C),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?I:A.key),p=s(A,p,I),x===null?S=A:x.sibling=A,x=A);return t&&b.forEach(function(k){return e(m,k)}),pe&&gr(m,I),S}function E(m,p,v,C){var S=ts(v);if(typeof S!="function")throw Error(N(150));if(v=S.call(v),v==null)throw Error(N(151));for(var x=S=null,b=p,I=p=0,A=null,R=v.next();b!==null&&!R.done;I++,R=v.next()){b.index>I?(A=b,b=null):A=b.sibling;var k=h(m,b,R.value,C);if(k===null){b===null&&(b=A);break}t&&b&&k.alternate===null&&e(m,b),p=s(k,p,I),x===null?S=k:x.sibling=k,x=k,b=A}if(R.done)return n(m,b),pe&&gr(m,I),S;if(b===null){for(;!R.done;I++,R=v.next())R=f(m,R.value,C),R!==null&&(p=s(R,p,I),x===null?S=R:x.sibling=R,x=R);return pe&&gr(m,I),S}for(b=r(m,b);!R.done;I++,R=v.next())R=y(b,m,I,R.value,C),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?I:R.key),p=s(R,p,I),x===null?S=R:x.sibling=R,x=R);return t&&b.forEach(function(F){return e(m,F)}),pe&&gr(m,I),S}function w(m,p,v,C){if(typeof v=="object"&&v!==null&&v.type===ei&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ao:e:{for(var S=v.key,x=p;x!==null;){if(x.key===S){if(S=v.type,S===ei){if(x.tag===7){n(m,x.sibling),p=i(x,v.props.children),p.return=m,m=p;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&Zh(S)===x.type){n(m,x.sibling),p=i(x,v.props),p.ref=os(m,x,v),p.return=m,m=p;break e}n(m,x);break}else e(m,x);x=x.sibling}v.type===ei?(p=Nr(v.props.children,m.mode,C,v.key),p.return=m,m=p):(C=ca(v.type,v.key,v.props,null,m.mode,C),C.ref=os(m,p,v),C.return=m,m=C)}return o(m);case Zr:e:{for(x=v.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=yu(v,m.mode,C),p.return=m,m=p}return o(m);case Ln:return x=v._init,w(m,p,x(v._payload),C)}if(gs(v))return _(m,p,v,C);if(ts(v))return E(m,p,v,C);Ho(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=gu(v,m.mode,C),p.return=m,m=p),o(m)):n(m,p)}return w}var bi=ty(!0),ny=ty(!1),Ra=dr(null),Ia=null,li=null,Id=null;function Pd(){Id=li=Ia=null}function Ad(t){var e=Ra.current;fe(Ra),t._currentValue=e}function dc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gi(t,e){Ia=t,Id=li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(Id!==t)if(t={context:t,memoizedValue:e,next:null},li===null){if(Ia===null)throw Error(N(308));li=t,Ia.dependencies={lanes:0,firstContext:t}}else li=li.next=t;return e}var Cr=null;function Od(t){Cr===null?Cr=[t]:Cr.push(t)}function ry(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Od(e)):(n.next=i.next,i.next=n),e.interleaved=n,Cn(t,r)}function Cn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function Dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cn(t,n)}return i=r.interleaved,i===null?(e.next=e,Od(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cn(t,n)}function ia(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_d(t,n)}}function ep(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pa(t,e,n,r){var i=t.updateQueue;Mn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,E=a;switch(h=e,y=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){f=_.call(y,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,h=typeof _=="function"?_.call(y,f,h):_,h==null)break e;f=_e({},f,h);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pr|=o,t.lanes=o,t.memoizedState=f}}function tp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var po={},Xt=dr(po),Vs=dr(po),Gs=dr(po);function Sr(t){if(t===po)throw Error(N(174));return t}function Ld(t,e){switch(le(Gs,e),le(Vs,t),le(Xt,po),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vu(e,t)}fe(Xt),le(Xt,e)}function Ti(){fe(Xt),fe(Vs),fe(Gs)}function sy(t){Sr(Gs.current);var e=Sr(Xt.current),n=Vu(e,t.type);e!==n&&(le(Vs,t),le(Xt,n))}function Md(t){Vs.current===t&&(fe(Xt),fe(Vs))}var ye=dr(0);function Aa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cu=[];function Fd(){for(var t=0;t<cu.length;t++)cu[t]._workInProgressVersionPrimary=null;cu.length=0}var sa=bn.ReactCurrentDispatcher,du=bn.ReactCurrentBatchConfig,Ir=0,ve=null,Re=null,Le=null,Oa=!1,xs=!1,qs=0,yE=0;function je(){throw Error(N(321))}function Bd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ht(t[n],e[n]))return!1;return!0}function zd(t,e,n,r,i,s){if(Ir=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sa.current=t===null||t.memoizedState===null?wE:CE,t=n(r,i),xs){s=0;do{if(xs=!1,qs=0,25<=s)throw Error(N(301));s+=1,Le=Re=null,e.updateQueue=null,sa.current=SE,t=n(r,i)}while(xs)}if(sa.current=Da,e=Re!==null&&Re.next!==null,Ir=0,Le=Re=ve=null,Oa=!1,e)throw Error(N(300));return t}function Ud(){var t=qs!==0;return qs=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ve.memoizedState=Le=t:Le=Le.next=t,Le}function bt(){if(Re===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=Le===null?ve.memoizedState:Le.next;if(e!==null)Le=e,Re=t;else{if(t===null)throw Error(N(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Le===null?ve.memoizedState=Le=t:Le=Le.next=t}return Le}function Ks(t,e){return typeof e=="function"?e(t):e}function fu(t){var e=bt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Re,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ir&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ve.lanes|=d,Pr|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ht(r,e.memoizedState)||(st=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ve.lanes|=s,Pr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hu(t){var e=bt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ht(s,e.memoizedState)||(st=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function oy(){}function ay(t,e){var n=ve,r=bt(),i=e(),s=!Ht(r.memoizedState,i);if(s&&(r.memoizedState=i,st=!0),r=r.queue,$d(cy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Ys(9,uy.bind(null,n,r,i,e),void 0,null),Fe===null)throw Error(N(349));Ir&30||ly(n,e,i)}return i}function ly(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uy(t,e,n,r){e.value=n,e.getSnapshot=r,dy(e)&&fy(t)}function cy(t,e,n){return n(function(){dy(e)&&fy(t)})}function dy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ht(t,n)}catch{return!0}}function fy(t){var e=Cn(t,1);e!==null&&$t(e,t,1,-1)}function np(t){var e=Kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},e.queue=t,t=t.dispatch=EE.bind(null,ve,t),[e.memoizedState,t]}function Ys(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hy(){return bt().memoizedState}function oa(t,e,n,r){var i=Kt();ve.flags|=t,i.memoizedState=Ys(1|e,n,void 0,r===void 0?null:r)}function ml(t,e,n,r){var i=bt();r=r===void 0?null:r;var s=void 0;if(Re!==null){var o=Re.memoizedState;if(s=o.destroy,r!==null&&Bd(r,o.deps)){i.memoizedState=Ys(e,n,s,r);return}}ve.flags|=t,i.memoizedState=Ys(1|e,n,s,r)}function rp(t,e){return oa(8390656,8,t,e)}function $d(t,e){return ml(2048,8,t,e)}function py(t,e){return ml(4,2,t,e)}function my(t,e){return ml(4,4,t,e)}function gy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yy(t,e,n){return n=n!=null?n.concat([t]):null,ml(4,4,gy.bind(null,e,t),n)}function Wd(){}function vy(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _y(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ey(t,e,n){return Ir&21?(Ht(n,e)||(n=xg(),ve.lanes|=n,Pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function vE(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=du.transition;du.transition={};try{t(!1),e()}finally{ne=n,du.transition=r}}function wy(){return bt().memoizedState}function _E(t,e,n){var r=Qn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cy(t))Sy(e,n);else if(n=ry(t,e,n,r),n!==null){var i=Je();$t(n,t,r,i),ky(n,e,r)}}function EE(t,e,n){var r=Qn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cy(t))Sy(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ht(a,o)){var l=e.interleaved;l===null?(i.next=i,Od(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ry(t,e,i,r),n!==null&&(i=Je(),$t(n,t,r,i),ky(n,e,r))}}function Cy(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function Sy(t,e){xs=Oa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ky(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_d(t,n)}}var Da={readContext:Nt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},wE={readContext:Nt,useCallback:function(t,e){return Kt().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:rp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oa(4194308,4,gy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oa(4194308,4,t,e)},useInsertionEffect:function(t,e){return oa(4,2,t,e)},useMemo:function(t,e){var n=Kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_E.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=Kt();return t={current:t},e.memoizedState=t},useState:np,useDebugValue:Wd,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=np(!1),e=t[0];return t=vE.bind(null,t[1]),Kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,i=Kt();if(pe){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Fe===null)throw Error(N(349));Ir&30||ly(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rp(cy.bind(null,r,s,t),[t]),r.flags|=2048,Ys(9,uy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kt(),e=Fe.identifierPrefix;if(pe){var n=pn,r=hn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CE={readContext:Nt,useCallback:vy,useContext:Nt,useEffect:$d,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:my,useMemo:_y,useReducer:fu,useRef:hy,useState:function(){return fu(Ks)},useDebugValue:Wd,useDeferredValue:function(t){var e=bt();return Ey(e,Re.memoizedState,t)},useTransition:function(){var t=fu(Ks)[0],e=bt().memoizedState;return[t,e]},useMutableSource:oy,useSyncExternalStore:ay,useId:wy,unstable_isNewReconciler:!1},SE={readContext:Nt,useCallback:vy,useContext:Nt,useEffect:$d,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:my,useMemo:_y,useReducer:hu,useRef:hy,useState:function(){return hu(Ks)},useDebugValue:Wd,useDeferredValue:function(t){var e=bt();return Re===null?e.memoizedState=t:Ey(e,Re.memoizedState,t)},useTransition:function(){var t=hu(Ks)[0],e=bt().memoizedState;return[t,e]},useMutableSource:oy,useSyncExternalStore:ay,useId:wy,unstable_isNewReconciler:!1};function Dt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gl={isMounted:function(t){return(t=t._reactInternals)?Br(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Qn(t),s=yn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Kn(t,s,i),e!==null&&($t(e,t,i,r),ia(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Qn(t),s=yn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Kn(t,s,i),e!==null&&($t(e,t,i,r),ia(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=Qn(t),i=yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kn(t,i,r),e!==null&&($t(e,t,r,n),ia(e,t,r))}};function ip(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$s(n,r)||!$s(i,s):!0}function xy(t,e,n){var r=!1,i=ir,s=e.contextType;return typeof s=="object"&&s!==null?s=Nt(s):(i=lt(e)?Tr:Ke.current,r=e.contextTypes,s=(r=r!=null)?xi(t,i):ir),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gl.enqueueReplaceState(e,e.state,null)}function hc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nt(s):(s=lt(e)?Tr:Ke.current,i.context=xi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gl.enqueueReplaceState(i,i.state,null),Pa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ri(t,e){try{var n="",r=e;do n+=X0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kE=typeof WeakMap=="function"?WeakMap:Map;function Ny(t,e,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ma||(Ma=!0,kc=r),pc(t,e)},n}function by(t,e,n){n=yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pc(t,e),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function op(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BE.bind(null,t,e,n),e.then(t,t))}function ap(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yn(-1,1),e.tag=2,Kn(n,e,1))),n.lanes|=1),t)}var xE=bn.ReactCurrentOwner,st=!1;function Qe(t,e,n,r){e.child=t===null?ny(e,null,n,r):bi(e,t.child,n,r)}function up(t,e,n,r,i){n=n.render;var s=e.ref;return gi(e,i),r=zd(t,e,n,r,s,i),n=Ud(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(pe&&n&&bd(e),e.flags|=1,Qe(t,e,r,i),e.child)}function cp(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ty(t,e,s,r,i)):(t=ca(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(o,r)&&t.ref===e.ref)return Sn(t,e,i)}return e.flags|=1,t=Xn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ty(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($s(s,r)&&t.ref===e.ref)if(st=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,Sn(t,e,i)}return mc(t,e,n,r,i)}function Ry(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(ci,dt),dt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(ci,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(ci,dt),dt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,le(ci,dt),dt|=r;return Qe(t,e,i,n),e.child}function Iy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mc(t,e,n,r,i){var s=lt(n)?Tr:Ke.current;return s=xi(e,s),gi(e,i),n=zd(t,e,n,r,s,i),r=Ud(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(pe&&r&&bd(e),e.flags|=1,Qe(t,e,n,i),e.child)}function dp(t,e,n,r,i){if(lt(n)){var s=!0;Na(e)}else s=!1;if(gi(e,i),e.stateNode===null)aa(t,e),xy(e,n,r),hc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=lt(n)?Tr:Ke.current,u=xi(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sp(e,o,r,u),Mn=!1;var h=e.memoizedState;o.state=h,Pa(e,r,o,i),l=e.memoizedState,a!==r||h!==l||at.current||Mn?(typeof d=="function"&&(fc(e,n,d,r),l=e.memoizedState),(a=Mn||ip(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dt(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=lt(n)?Tr:Ke.current,l=xi(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&sp(e,o,r,l),Mn=!1,h=e.memoizedState,o.state=h,Pa(e,r,o,i);var _=e.memoizedState;a!==f||h!==_||at.current||Mn?(typeof y=="function"&&(fc(e,n,y,r),_=e.memoizedState),(u=Mn||ip(e,n,u,r,h,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return gc(t,e,n,r,s,i)}function gc(t,e,n,r,i,s){Iy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Qh(e,n,!1),Sn(t,e,s);r=e.stateNode,xE.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bi(e,t.child,null,s),e.child=bi(e,null,a,s)):Qe(t,e,a,s),e.memoizedState=r.state,i&&Qh(e,n,!0),e.child}function Py(t){var e=t.stateNode;e.pendingContext?Yh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yh(t,e.context,!1),Ld(t,e.containerInfo)}function fp(t,e,n,r,i){return Ni(),Rd(i),e.flags|=256,Qe(t,e,n,r),e.child}var yc={dehydrated:null,treeContext:null,retryLane:0};function vc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ay(t,e,n){var r=e.pendingProps,i=ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(ye,i&1),t===null)return cc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_l(o,r,0,null),t=Nr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vc(n),e.memoizedState=yc,t):Hd(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NE(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xn(a,s):(s=Nr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=yc,r}return s=t.child,t=s.sibling,r=Xn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hd(t,e){return e=_l({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jo(t,e,n,r){return r!==null&&Rd(r),bi(e,t.child,null,n),t=Hd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NE(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pu(Error(N(422))),jo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_l({mode:"visible",children:r.children},i,0,null),s=Nr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bi(e,t.child,null,o),e.child.memoizedState=vc(o),e.memoizedState=yc,s);if(!(e.mode&1))return jo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=pu(s,r,void 0),jo(t,e,o,r)}if(a=(o&t.childLanes)!==0,st||a){if(r=Fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cn(t,i),$t(r,t,i,-1))}return Yd(),r=pu(Error(N(421))),jo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ft=qn(i.nextSibling),ht=e,pe=!0,Ft=null,t!==null&&(_t[Et++]=hn,_t[Et++]=pn,_t[Et++]=Rr,hn=t.id,pn=t.overflow,Rr=e),e=Hd(e,r.children),e.flags|=4096,e)}function hp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dc(t.return,e,n)}function mu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Oy(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qe(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,n,e);else if(t.tag===19)hp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Aa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Aa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mu(e,!0,n,null,s);break;case"together":mu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function aa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bE(t,e,n){switch(e.tag){case 3:Py(e),Ni();break;case 5:sy(e);break;case 1:lt(e.type)&&Na(e);break;case 4:Ld(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;le(Ra,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?Ay(t,e,n):(le(ye,ye.current&1),t=Sn(t,e,n),t!==null?t.sibling:null);le(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Oy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,Ry(t,e,n)}return Sn(t,e,n)}var Dy,_c,Ly,My;Dy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_c=function(){};Ly=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sr(Xt.current);var s=null;switch(n){case"input":i=$u(t,i),r=$u(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=ju(t,i),r=ju(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ka)}Gu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ds.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};My=function(t,e,n,r){n!==r&&(e.flags|=4)};function as(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TE(t,e,n){var r=e.pendingProps;switch(Td(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return lt(e.type)&&xa(),Ve(e),null;case 3:return r=e.stateNode,Ti(),fe(at),fe(Ke),Fd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ft!==null&&(bc(Ft),Ft=null))),_c(t,e),Ve(e),null;case 5:Md(e);var i=Sr(Gs.current);if(n=e.type,t!==null&&e.stateNode!=null)Ly(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Ve(e),null}if(t=Sr(Xt.current),Wo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yt]=e,r[js]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<vs.length;i++)de(vs[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Ch(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":kh(r,s),de("invalid",r)}Gu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,a,t),i=["children",""+a]):Ds.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Oo(r),Sh(r,s,!0);break;case"textarea":Oo(r),xh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ka)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yt]=e,t[js]=r,Dy(t,e,!1,!1),e.stateNode=t;e:{switch(o=qu(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<vs.length;i++)de(vs[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":Ch(t,r),i=$u(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),de("invalid",t);break;case"textarea":kh(t,r),i=ju(t,r),de("invalid",t);break;default:i=r}Gu(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hg(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ls(t,l):typeof l=="number"&&Ls(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ds.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",t):l!=null&&hd(t,s,l,o))}switch(n){case"input":Oo(t),Sh(t,r,!1);break;case"textarea":Oo(t),xh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fi(t,!!r.multiple,s,!1):r.defaultValue!=null&&fi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)My(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Sr(Gs.current),Sr(Xt.current),Wo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yt]=e,(s=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:$o(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=e,e.stateNode=r}return Ve(e),null;case 13:if(fe(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&ft!==null&&e.mode&1&&!(e.flags&128))ey(),Ni(),e.flags|=98560,s=!1;else if(s=Wo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Yt]=e}else Ni(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),s=!1}else Ft!==null&&(bc(Ft),Ft=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Ae===0&&(Ae=3):Yd())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return Ti(),_c(t,e),t===null&&Ws(e.stateNode.containerInfo),Ve(e),null;case 10:return Ad(e.type._context),Ve(e),null;case 17:return lt(e.type)&&xa(),Ve(e),null;case 19:if(fe(ye),s=e.memoizedState,s===null)return Ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)as(s,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Aa(t),o!==null){for(e.flags|=128,as(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ye,ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&ke()>Ii&&(e.flags|=128,r=!0,as(s,!1),e.lanes=4194304)}else{if(!r)if(t=Aa(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),as(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return Ve(e),null}else 2*ke()-s.renderingStartTime>Ii&&n!==1073741824&&(e.flags|=128,r=!0,as(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,n=ye.current,le(ye,r?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return Kd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dt&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function RE(t,e){switch(Td(e),e.tag){case 1:return lt(e.type)&&xa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ti(),fe(at),fe(Ke),Fd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Md(e),null;case 13:if(fe(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(ye),null;case 4:return Ti(),null;case 10:return Ad(e.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var Vo=!1,Ge=!1,IE=typeof WeakSet=="function"?WeakSet:Set,D=null;function ui(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function Ec(t,e,n){try{n()}catch(r){Ee(t,e,r)}}var pp=!1;function PE(t,e){if(rc=wa,t=$g(),Nd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:t,selectionRange:n},wa=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,w=_.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:Dt(e.type,E),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(C){Ee(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return _=pp,pp=!1,_}function Ns(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ec(e,n,s)}i=i.next}while(i!==r)}}function yl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fy(t){var e=t.alternate;e!==null&&(t.alternate=null,Fy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yt],delete e[js],delete e[ac],delete e[hE],delete e[pE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function By(t){return t.tag===5||t.tag===3||t.tag===4}function mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ka));else if(r!==4&&(t=t.child,t!==null))for(Cc(t,e,n),t=t.sibling;t!==null;)Cc(t,e,n),t=t.sibling}function Sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sc(t,e,n),t=t.sibling;t!==null;)Sc(t,e,n),t=t.sibling}var Be=null,Lt=!1;function Dn(t,e,n){for(n=n.child;n!==null;)zy(t,e,n),n=n.sibling}function zy(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:Ge||ui(n,e);case 6:var r=Be,i=Lt;Be=null,Dn(t,e,n),Be=r,Lt=i,Be!==null&&(Lt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Lt?(t=Be,n=n.stateNode,t.nodeType===8?lu(t.parentNode,n):t.nodeType===1&&lu(t,n),zs(t)):lu(Be,n.stateNode));break;case 4:r=Be,i=Lt,Be=n.stateNode.containerInfo,Lt=!0,Dn(t,e,n),Be=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ec(n,e,o),i=i.next}while(i!==r)}Dn(t,e,n);break;case 1:if(!Ge&&(ui(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ee(n,e,a)}Dn(t,e,n);break;case 21:Dn(t,e,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,Dn(t,e,n),Ge=r):Dn(t,e,n);break;default:Dn(t,e,n)}}function gp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IE),e.forEach(function(r){var i=UE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ot(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,Lt=!1;break e;case 3:Be=a.stateNode.containerInfo,Lt=!0;break e;case 4:Be=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(Be===null)throw Error(N(160));zy(s,o,i),Be=null,Lt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Uy(e,t),e=e.sibling}function Uy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ot(e,t),qt(t),r&4){try{Ns(3,t,t.return),yl(3,t)}catch(E){Ee(t,t.return,E)}try{Ns(5,t,t.return)}catch(E){Ee(t,t.return,E)}}break;case 1:Ot(e,t),qt(t),r&512&&n!==null&&ui(n,n.return);break;case 5:if(Ot(e,t),qt(t),r&512&&n!==null&&ui(n,n.return),t.flags&32){var i=t.stateNode;try{Ls(i,"")}catch(E){Ee(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lg(i,s),qu(a,o);var u=qu(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?hg(i,f):d==="dangerouslySetInnerHTML"?dg(i,f):d==="children"?Ls(i,f):hd(i,d,f,u)}switch(a){case"input":Wu(i,s);break;case"textarea":ug(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?fi(i,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?fi(i,!!s.multiple,s.defaultValue,!0):fi(i,!!s.multiple,s.multiple?[]:"",!1))}i[js]=s}catch(E){Ee(t,t.return,E)}}break;case 6:if(Ot(e,t),qt(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Ee(t,t.return,E)}}break;case 3:if(Ot(e,t),qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(E){Ee(t,t.return,E)}break;case 4:Ot(e,t),qt(t);break;case 13:Ot(e,t),qt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gd=ke())),r&4&&gp(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ge=(u=Ge)||d,Ot(e,t),Ge=u):Ot(e,t),qt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(f=D=d;D!==null;){switch(h=D,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ns(4,h,h.return);break;case 1:ui(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){Ee(r,n,E)}}break;case 5:ui(h,h.return);break;case 22:if(h.memoizedState!==null){vp(f);continue}}y!==null?(y.return=h,D=y):vp(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fg("display",o))}catch(E){Ee(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){Ee(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ot(e,t),qt(t),r&4&&gp(t);break;case 21:break;default:Ot(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(By(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ls(i,""),r.flags&=-33);var s=mp(t);Sc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mp(t);Cc(t,a,o);break;default:throw Error(N(161))}}catch(l){Ee(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AE(t,e,n){D=t,$y(t)}function $y(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ge;a=Vo;var u=Ge;if(Vo=o,(Ge=l)&&!u)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?_p(i):l!==null?(l.return=o,D=l):_p(i);for(;s!==null;)D=s,$y(s),s=s.sibling;D=i,Vo=a,Ge=u}yp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):yp(t)}}function yp(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ge||yl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ge||e.flags&512&&wc(e)}catch(h){Ee(e,e.return,h)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function vp(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function _p(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yl(4,e)}catch(l){Ee(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ee(e,i,l)}}var s=e.return;try{wc(e)}catch(l){Ee(e,s,l)}break;case 5:var o=e.return;try{wc(e)}catch(l){Ee(e,o,l)}}}catch(l){Ee(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var OE=Math.ceil,La=bn.ReactCurrentDispatcher,jd=bn.ReactCurrentOwner,xt=bn.ReactCurrentBatchConfig,X=0,Fe=null,xe=null,$e=0,dt=0,ci=dr(0),Ae=0,Qs=null,Pr=0,vl=0,Vd=0,bs=null,it=null,Gd=0,Ii=1/0,cn=null,Ma=!1,kc=null,Yn=null,Go=!1,Un=null,Fa=0,Ts=0,xc=null,la=-1,ua=0;function Je(){return X&6?ke():la!==-1?la:la=ke()}function Qn(t){return t.mode&1?X&2&&$e!==0?$e&-$e:gE.transition!==null?(ua===0&&(ua=xg()),ua):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Ag(t.type)),t):1}function $t(t,e,n,r){if(50<Ts)throw Ts=0,xc=null,Error(N(185));co(t,n,r),(!(X&2)||t!==Fe)&&(t===Fe&&(!(X&2)&&(vl|=n),Ae===4&&Bn(t,$e)),ut(t,r),n===1&&X===0&&!(e.mode&1)&&(Ii=ke()+500,pl&&fr()))}function ut(t,e){var n=t.callbackNode;g1(t,e);var r=Ea(t,t===Fe?$e:0);if(r===0)n!==null&&Th(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Th(n),e===1)t.tag===0?mE(Ep.bind(null,t)):Xg(Ep.bind(null,t)),dE(function(){!(X&6)&&fr()}),n=null;else{switch(Ng(r)){case 1:n=vd;break;case 4:n=Sg;break;case 16:n=_a;break;case 536870912:n=kg;break;default:n=_a}n=Yy(n,Wy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wy(t,e){if(la=-1,ua=0,X&6)throw Error(N(327));var n=t.callbackNode;if(yi()&&t.callbackNode!==n)return null;var r=Ea(t,t===Fe?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ba(t,r);else{e=r;var i=X;X|=2;var s=jy();(Fe!==t||$e!==e)&&(cn=null,Ii=ke()+500,xr(t,e));do try{ME();break}catch(a){Hy(t,a)}while(1);Pd(),La.current=s,X=i,xe!==null?e=0:(Fe=null,$e=0,e=Ae)}if(e!==0){if(e===2&&(i=Ju(t),i!==0&&(r=i,e=Nc(t,i))),e===1)throw n=Qs,xr(t,0),Bn(t,r),ut(t,ke()),n;if(e===6)Bn(t,r);else{if(i=t.current.alternate,!(r&30)&&!DE(i)&&(e=Ba(t,r),e===2&&(s=Ju(t),s!==0&&(r=s,e=Nc(t,s))),e===1))throw n=Qs,xr(t,0),Bn(t,r),ut(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:yr(t,it,cn);break;case 3:if(Bn(t,r),(r&130023424)===r&&(e=Gd+500-ke(),10<e)){if(Ea(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oc(yr.bind(null,t,it,cn),e);break}yr(t,it,cn);break;case 4:if(Bn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ut(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OE(r/1960))-r,10<r){t.timeoutHandle=oc(yr.bind(null,t,it,cn),r);break}yr(t,it,cn);break;case 5:yr(t,it,cn);break;default:throw Error(N(329))}}}return ut(t,ke()),t.callbackNode===n?Wy.bind(null,t):null}function Nc(t,e){var n=bs;return t.current.memoizedState.isDehydrated&&(xr(t,e).flags|=256),t=Ba(t,e),t!==2&&(e=it,it=n,e!==null&&bc(e)),t}function bc(t){it===null?it=t:it.push.apply(it,t)}function DE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ht(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bn(t,e){for(e&=~Vd,e&=~vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ut(e),r=1<<n;t[n]=-1,e&=~r}}function Ep(t){if(X&6)throw Error(N(327));yi();var e=Ea(t,0);if(!(e&1))return ut(t,ke()),null;var n=Ba(t,e);if(t.tag!==0&&n===2){var r=Ju(t);r!==0&&(e=r,n=Nc(t,r))}if(n===1)throw n=Qs,xr(t,0),Bn(t,e),ut(t,ke()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yr(t,it,cn),ut(t,ke()),null}function qd(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(Ii=ke()+500,pl&&fr())}}function Ar(t){Un!==null&&Un.tag===0&&!(X&6)&&yi();var e=X;X|=1;var n=xt.transition,r=ne;try{if(xt.transition=null,ne=1,t)return t()}finally{ne=r,xt.transition=n,X=e,!(X&6)&&fr()}}function Kd(){dt=ci.current,fe(ci)}function xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cE(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Td(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xa();break;case 3:Ti(),fe(at),fe(Ke),Fd();break;case 5:Md(r);break;case 4:Ti();break;case 13:fe(ye);break;case 19:fe(ye);break;case 10:Ad(r.type._context);break;case 22:case 23:Kd()}n=n.return}if(Fe=t,xe=t=Xn(t.current,null),$e=dt=e,Ae=0,Qs=null,Vd=vl=Pr=0,it=bs=null,Cr!==null){for(e=0;e<Cr.length;e++)if(n=Cr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Cr=null}return t}function Hy(t,e){do{var n=xe;try{if(Pd(),sa.current=Da,Oa){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oa=!1}if(Ir=0,Le=Re=ve=null,xs=!1,qs=0,jd.current=null,n===null||n.return===null){Ae=1,Qs=e,xe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ap(o);if(y!==null){y.flags&=-257,lp(y,o,a,s,e),y.mode&1&&op(s,u,e),e=y,l=u;var _=e.updateQueue;if(_===null){var E=new Set;E.add(l),e.updateQueue=E}else _.add(l);break e}else{if(!(e&1)){op(s,u,e),Yd();break e}l=Error(N(426))}}else if(pe&&a.mode&1){var w=ap(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),lp(w,o,a,s,e),Rd(Ri(l,a));break e}}s=l=Ri(l,a),Ae!==4&&(Ae=2),bs===null?bs=[s]:bs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Ny(s,l,e);ep(s,m);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yn===null||!Yn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=by(s,a,e);ep(s,C);break e}}s=s.return}while(s!==null)}Gy(n)}catch(S){e=S,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(1)}function jy(){var t=La.current;return La.current=Da,t===null?Da:t}function Yd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Fe===null||!(Pr&268435455)&&!(vl&268435455)||Bn(Fe,$e)}function Ba(t,e){var n=X;X|=2;var r=jy();(Fe!==t||$e!==e)&&(cn=null,xr(t,e));do try{LE();break}catch(i){Hy(t,i)}while(1);if(Pd(),X=n,La.current=r,xe!==null)throw Error(N(261));return Fe=null,$e=0,Ae}function LE(){for(;xe!==null;)Vy(xe)}function ME(){for(;xe!==null&&!a1();)Vy(xe)}function Vy(t){var e=Ky(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?Gy(t):xe=e,jd.current=null}function Gy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RE(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,xe=null;return}}else if(n=TE(n,e,dt),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Ae===0&&(Ae=5)}function yr(t,e,n){var r=ne,i=xt.transition;try{xt.transition=null,ne=1,FE(t,e,n,r)}finally{xt.transition=i,ne=r}return null}function FE(t,e,n,r){do yi();while(Un!==null);if(X&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(y1(t,s),t===Fe&&(xe=Fe=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,Yy(_a,function(){return yi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xt.transition,xt.transition=null;var o=ne;ne=1;var a=X;X|=4,jd.current=null,PE(t,n),Uy(n,t),rE(ic),wa=!!rc,ic=rc=null,t.current=n,AE(n),l1(),X=a,ne=o,xt.transition=s}else t.current=n;if(Go&&(Go=!1,Un=t,Fa=i),s=t.pendingLanes,s===0&&(Yn=null),d1(n.stateNode),ut(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ma)throw Ma=!1,t=kc,kc=null,t;return Fa&1&&t.tag!==0&&yi(),s=t.pendingLanes,s&1?t===xc?Ts++:(Ts=0,xc=t):Ts=0,fr(),null}function yi(){if(Un!==null){var t=Ng(Fa),e=xt.transition,n=ne;try{if(xt.transition=null,ne=16>t?16:t,Un===null)var r=!1;else{if(t=Un,Un=null,Fa=0,X&6)throw Error(N(331));var i=X;for(X|=4,D=t.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ns(8,d,s)}var f=d.child;if(f!==null)f.return=d,D=f;else for(;D!==null;){d=D;var h=d.sibling,y=d.return;if(Fy(d),d===u){D=null;break}if(h!==null){h.return=y,D=h;break}D=y}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var w=E.sibling;E.sibling=null,E=w}while(E!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ns(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,D=m;break e}D=s.return}}var p=t.current;for(D=p;D!==null;){o=D;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,D=v;else e:for(o=p;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yl(9,a)}}catch(S){Ee(a,a.return,S)}if(a===o){D=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,D=C;break e}D=a.return}}if(X=i,fr(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ul,t)}catch{}r=!0}return r}finally{ne=n,xt.transition=e}}return!1}function wp(t,e,n){e=Ri(n,e),e=Ny(t,e,1),t=Kn(t,e,1),e=Je(),t!==null&&(co(t,1,e),ut(t,e))}function Ee(t,e,n){if(t.tag===3)wp(t,t,n);else for(;e!==null;){if(e.tag===3){wp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){t=Ri(n,t),t=by(e,t,1),e=Kn(e,t,1),t=Je(),e!==null&&(co(e,1,t),ut(e,t));break}}e=e.return}}function BE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&($e&n)===n&&(Ae===4||Ae===3&&($e&130023424)===$e&&500>ke()-Gd?xr(t,0):Vd|=n),ut(t,e)}function qy(t,e){e===0&&(t.mode&1?(e=Mo,Mo<<=1,!(Mo&130023424)&&(Mo=4194304)):e=1);var n=Je();t=Cn(t,e),t!==null&&(co(t,e,n),ut(t,n))}function zE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qy(t,n)}function UE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),qy(t,n)}var Ky;Ky=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||at.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,bE(t,e,n);st=!!(t.flags&131072)}else st=!1,pe&&e.flags&1048576&&Jg(e,Ta,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;aa(t,e),t=e.pendingProps;var i=xi(e,Ke.current);gi(e,n),i=zd(null,e,r,t,i,n);var s=Ud();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(s=!0,Na(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dd(e),i.updater=gl,e.stateNode=i,i._reactInternals=e,hc(e,r,t,n),e=gc(null,e,r,!0,s,n)):(e.tag=0,pe&&s&&bd(e),Qe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(aa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WE(r),t=Dt(r,t),i){case 0:e=mc(null,e,r,t,n);break e;case 1:e=dp(null,e,r,t,n);break e;case 11:e=up(null,e,r,t,n);break e;case 14:e=cp(null,e,r,Dt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),mc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),dp(t,e,r,i,n);case 3:e:{if(Py(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,iy(t,e),Pa(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ri(Error(N(423)),e),e=fp(t,e,r,n,i);break e}else if(r!==i){i=Ri(Error(N(424)),e),e=fp(t,e,r,n,i);break e}else for(ft=qn(e.stateNode.containerInfo.firstChild),ht=e,pe=!0,Ft=null,n=ny(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ni(),r===i){e=Sn(t,e,n);break e}Qe(t,e,r,n)}e=e.child}return e;case 5:return sy(e),t===null&&cc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sc(r,i)?o=null:s!==null&&sc(r,s)&&(e.flags|=32),Iy(t,e),Qe(t,e,o,n),e.child;case 6:return t===null&&cc(e),null;case 13:return Ay(t,e,n);case 4:return Ld(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bi(e,null,r,n):Qe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),up(t,e,r,i,n);case 7:return Qe(t,e,e.pendingProps,n),e.child;case 8:return Qe(t,e,e.pendingProps.children,n),e.child;case 12:return Qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,le(Ra,r._currentValue),r._currentValue=o,s!==null)if(Ht(s.value,o)){if(s.children===i.children&&!at.current){e=Sn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dc(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gi(e,n),i=Nt(i),r=r(i),e.flags|=1,Qe(t,e,r,n),e.child;case 14:return r=e.type,i=Dt(r,e.pendingProps),i=Dt(r.type,i),cp(t,e,r,i,n);case 15:return Ty(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),aa(t,e),e.tag=1,lt(r)?(t=!0,Na(e)):t=!1,gi(e,n),xy(e,r,i),hc(e,r,i,n),gc(null,e,r,!0,t,n);case 19:return Oy(t,e,n);case 22:return Ry(t,e,n)}throw Error(N(156,e.tag))};function Yy(t,e){return Cg(t,e)}function $E(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,e,n,r){return new $E(t,e,n,r)}function Qd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WE(t){if(typeof t=="function")return Qd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===md)return 11;if(t===gd)return 14}return 2}function Xn(t,e){var n=t.alternate;return n===null?(n=Ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ca(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ei:return Nr(n.children,i,s,e);case pd:o=8,i|=8;break;case Fu:return t=Ct(12,n,e,i|2),t.elementType=Fu,t.lanes=s,t;case Bu:return t=Ct(13,n,e,i),t.elementType=Bu,t.lanes=s,t;case zu:return t=Ct(19,n,e,i),t.elementType=zu,t.lanes=s,t;case sg:return _l(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rg:o=10;break e;case ig:o=9;break e;case md:o=11;break e;case gd:o=14;break e;case Ln:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Ct(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Nr(t,e,n,r){return t=Ct(7,t,r,e),t.lanes=n,t}function _l(t,e,n,r){return t=Ct(22,t,r,e),t.elementType=sg,t.lanes=n,t.stateNode={isHidden:!1},t}function gu(t,e,n){return t=Ct(6,t,null,e),t.lanes=n,t}function yu(t,e,n){return e=Ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xd(t,e,n,r,i,s,o,a,l){return t=new HE(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ct(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(s),t}function jE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qy(t){if(!t)return ir;t=t._reactInternals;e:{if(Br(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(lt(n))return Qg(t,n,e)}return e}function Xy(t,e,n,r,i,s,o,a,l){return t=Xd(n,r,!0,t,i,s,o,a,l),t.context=Qy(null),n=t.current,r=Je(),i=Qn(n),s=yn(r,i),s.callback=e??null,Kn(n,s,i),t.current.lanes=i,co(t,i,r),ut(t,r),t}function El(t,e,n,r){var i=e.current,s=Je(),o=Qn(i);return n=Qy(n),e.context===null?e.context=n:e.pendingContext=n,e=yn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kn(i,e,o),t!==null&&($t(t,i,o,s),ia(t,i,o)),o}function za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jd(t,e){Cp(t,e),(t=t.alternate)&&Cp(t,e)}function VE(){return null}var Jy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zd(t){this._internalRoot=t}wl.prototype.render=Zd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));El(t,e,null,null)};wl.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ar(function(){El(null,t,null,null)}),e[wn]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fn.length&&e!==0&&e<Fn[n].priority;n++);Fn.splice(n,0,t),n===0&&Pg(t)}};function ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function GE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=za(o);s.call(u)}}var o=Xy(e,r,t,0,null,!1,!1,"",Sp);return t._reactRootContainer=o,t[wn]=o.current,Ws(t.nodeType===8?t.parentNode:t),Ar(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=za(l);a.call(u)}}var l=Xd(t,0,!1,null,null,!1,!1,"",Sp);return t._reactRootContainer=l,t[wn]=l.current,Ws(t.nodeType===8?t.parentNode:t),Ar(function(){El(e,l,n,r)}),l}function Sl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=za(o);a.call(l)}}El(e,o,t,i)}else o=GE(n,e,t,i,r);return za(o)}bg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ys(e.pendingLanes);n!==0&&(_d(e,n|1),ut(e,ke()),!(X&6)&&(Ii=ke()+500,fr()))}break;case 13:Ar(function(){var r=Cn(t,1);if(r!==null){var i=Je();$t(r,t,1,i)}}),Jd(t,1)}};Ed=function(t){if(t.tag===13){var e=Cn(t,134217728);if(e!==null){var n=Je();$t(e,t,134217728,n)}Jd(t,134217728)}};Tg=function(t){if(t.tag===13){var e=Qn(t),n=Cn(t,e);if(n!==null){var r=Je();$t(n,t,e,r)}Jd(t,e)}};Rg=function(){return ne};Ig=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Yu=function(t,e,n){switch(e){case"input":if(Wu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hl(r);if(!i)throw Error(N(90));ag(r),Wu(r,i)}}}break;case"textarea":ug(t,n);break;case"select":e=n.value,e!=null&&fi(t,!!n.multiple,e,!1)}};gg=qd;yg=Ar;var qE={usingClientEntryPoint:!1,Events:[ho,ii,hl,pg,mg,qd]},ls={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KE={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Eg(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||VE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{ul=qo.inject(KE),Qt=qo}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qE;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(e))throw Error(N(200));return jE(t,e,null,n)};mt.createRoot=function(t,e){if(!ef(t))throw Error(N(299));var n=!1,r="",i=Jy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xd(t,1,!1,null,null,n,!1,r,i),t[wn]=e.current,Ws(t.nodeType===8?t.parentNode:t),new Zd(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Eg(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return Ar(t)};mt.hydrate=function(t,e,n){if(!Cl(e))throw Error(N(200));return Sl(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!ef(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Jy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Xy(e,null,t,1,n??null,i,!1,s,o),t[wn]=e.current,Ws(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wl(e)};mt.render=function(t,e,n){if(!Cl(e))throw Error(N(200));return Sl(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!Cl(t))throw Error(N(40));return t._reactRootContainer?(Ar(function(){Sl(null,null,t,!1,function(){t._reactRootContainer=null,t[wn]=null})}),!0):!1};mt.unstable_batchedUpdates=qd;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cl(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Sl(t,e,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function Zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zy)}catch(t){console.error(t)}}Zy(),Zm.exports=mt;var ev=Zm.exports,kp=ev;Lu.createRoot=kp.createRoot,Lu.hydrateRoot=kp.hydrateRoot;const YE="modulepreload",QE=function(t){return"/"+t},xp={},XE=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=QE(s),s in xp)return;xp[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":YE,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var tf={};Object.defineProperty(tf,"__esModule",{value:!0});tf.parse=iw;tf.serialize=sw;const JE=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,ZE=/^[\u0021-\u003A\u003C-\u007E]*$/,ew=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,tw=/^[\u0020-\u003A\u003D-\u007E]*$/,nw=Object.prototype.toString,rw=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function iw(t,e){const n=new rw,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||ow;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=Np(t,s,o),d=bp(t,o,u),f=t.slice(u,d);if(n[f]===void 0){let h=Np(t,o+1,l),y=bp(t,l,h);const _=i(t.slice(h,y));n[f]=_}s=l+1}while(s<r);return n}function Np(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function bp(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function sw(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!JE.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!ZE.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!ew.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!tw.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!aw(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function ow(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function aw(t){return nw.call(t)==="[object Date]"}var Tp="popstate";function lw(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xs(i)}return cw(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uw(){return Math.random().toString(36).substring(2,10)}function Rp(t,e){return{usr:t.state,key:t.key,idx:e}}function Tc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wi(e):e,state:n,key:e&&e.key||r||uw()}}function Xs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function cw(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let w=d(),m=w==null?null:w-u;u=w,l&&l({action:a,location:E.location,delta:m})}function h(w,m){a="PUSH";let p=Tc(E.location,w,m);n&&n(p,w),u=d()+1;let v=Rp(p,u),C=E.createHref(p);try{o.pushState(v,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:a,location:E.location,delta:1})}function y(w,m){a="REPLACE";let p=Tc(E.location,w,m);n&&n(p,w),u=d();let v=Rp(p,u),C=E.createHref(p);o.replaceState(v,"",C),s&&l&&l({action:a,location:E.location,delta:0})}function _(w){return dw(w)}let E={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tp,f),l=w,()=>{i.removeEventListener(Tp,f),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let m=_(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(w){return o.go(w)}};return E}function dw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xs(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function tv(t,e,n="/"){return fw(t,e,n,!1)}function fw(t,e,n,r){let i=typeof e=="string"?Wi(e):e,s=kn(i.pathname||"/",n);if(s==null)return null;let o=nv(t);hw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=kw(s);a=Cw(o[l],u,r)}return a}function nv(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=vn([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),nv(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Ew(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rv(s.path))i(s,o,l)}),e}function rv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ww(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pw=/^:[\w-]+$/,mw=3,gw=2,yw=1,vw=10,_w=-2,Ip=t=>t==="*";function Ew(t,e){let n=t.split("/"),r=n.length;return n.some(Ip)&&(r+=_w),e&&(r+=gw),n.filter(i=>!Ip(i)).reduce((i,s)=>i+(pw.test(s)?mw:s===""?yw:vw),r)}function ww(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Cw(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Ua({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ua({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:vn([s,f.pathname]),pathnameBase:Tw(vn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=vn([s,f.pathnameBase]))}return o}function Ua(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[h];return f&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Sw(t,e=!1,n=!0){jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function kn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xw(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:Nw(n,e):e,search:Rw(r),hash:Iw(i)}}function Nw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vu(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nf(t){let e=bw(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rf(t,e,n,r=!1){let i;typeof t=="string"?i=Wi(t):(i={...t},me(!i.pathname||!i.pathname.includes("?"),vu("?","pathname","search",i)),me(!i.pathname||!i.pathname.includes("#"),vu("#","pathname","hash",i)),me(!i.search||!i.search.includes("#"),vu("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=xw(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var vn=t=>t.join("/").replace(/\/\/+/g,"/"),Tw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Iw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iv=["POST","PUT","PATCH","DELETE"];new Set(iv);var Aw=["GET",...iv];new Set(Aw);var Hi=g.createContext(null);Hi.displayName="DataRouter";var kl=g.createContext(null);kl.displayName="DataRouterState";var sv=g.createContext({isTransitioning:!1});sv.displayName="ViewTransition";var Ow=g.createContext(new Map);Ow.displayName="Fetchers";var Dw=g.createContext(null);Dw.displayName="Await";var Vt=g.createContext(null);Vt.displayName="Navigation";var mo=g.createContext(null);mo.displayName="Location";var Rt=g.createContext({outlet:null,matches:[],isDataRoute:!1});Rt.displayName="Route";var sf=g.createContext(null);sf.displayName="RouteError";function Lw(t,{relative:e}={}){me(ji(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(Vt),{hash:i,pathname:s,search:o}=go(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:vn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ji(){return g.useContext(mo)!=null}function It(){return me(ji(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(mo).location}var ov="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function av(t){g.useContext(Vt).static||g.useLayoutEffect(t)}function zr(){let{isDataRoute:t}=g.useContext(Rt);return t?Xw():Mw()}function Mw(){me(ji(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Hi),{basename:e,navigator:n}=g.useContext(Vt),{matches:r}=g.useContext(Rt),{pathname:i}=It(),s=JSON.stringify(nf(r)),o=g.useRef(!1);return av(()=>{o.current=!0}),g.useCallback((l,u={})=>{if(jt(o.current,ov),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=rf(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:vn([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}var Fw=g.createContext(null);function Bw(t){let e=g.useContext(Rt).outlet;return e&&g.createElement(Fw.Provider,{value:t},e)}function zw(){let{matches:t}=g.useContext(Rt),e=t[t.length-1];return e?e.params:{}}function go(t,{relative:e}={}){let{matches:n}=g.useContext(Rt),{pathname:r}=It(),i=JSON.stringify(nf(n));return g.useMemo(()=>rf(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Uw(t,e){return lv(t,e)}function lv(t,e,n,r){var m;me(ji(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(Vt),{matches:s}=g.useContext(Rt),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let p=d&&d.path||"";uv(l,!d||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=It(),h;if(e){let p=typeof e=="string"?Wi(e):e;me(u==="/"||((m=p.pathname)==null?void 0:m.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),h=p}else h=f;let y=h.pathname||"/",_=y;if(u!=="/"){let p=u.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let E=tv(t,{pathname:_});jt(d||E!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),jt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Vw(E&&E.map(p=>Object.assign({},p,{params:Object.assign({},a,p.params),pathname:vn([u,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:vn([u,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,n,r);return e&&w?g.createElement(mo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},w):w}function $w(){let t=Qw(),e=Pw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,o)}var Ww=g.createElement($w,null),Hw=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?g.createElement(Rt.Provider,{value:this.props.routeContext},g.createElement(sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jw({routeContext:t,match:e,children:n}){let r=g.useContext(Hi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(Rt.Provider,{value:t},n)}function Vw(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);me(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let f,h=!1,y=null,_=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||Ww,o&&(a<0&&d===0?(uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,_=null):a===d&&(h=!0,_=u.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,d+1)),w=()=>{let m;return f?m=y:h?m=_:u.route.Component?m=g.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=l,g.createElement(jw,{match:u,routeContext:{outlet:l,matches:E,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(Hw,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}function of(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(t){let e=g.useContext(Hi);return me(e,of(t)),e}function qw(t){let e=g.useContext(kl);return me(e,of(t)),e}function Kw(t){let e=g.useContext(Rt);return me(e,of(t)),e}function af(t){let e=Kw(t),n=e.matches[e.matches.length-1];return me(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Yw(){return af("useRouteId")}function Qw(){var r;let t=g.useContext(sf),e=qw("useRouteError"),n=af("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Xw(){let{router:t}=Gw("useNavigate"),e=af("useNavigate"),n=g.useRef(!1);return av(()=>{n.current=!0}),g.useCallback(async(i,s={})=>{jt(n.current,ov),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Pp={};function uv(t,e,n){!e&&!Pp[t]&&(Pp[t]=!0,jt(!1,n))}g.memo(Jw);function Jw({routes:t,future:e,state:n}){return lv(t,void 0,n,e)}function cv({to:t,replace:e,state:n,relative:r}){me(ji(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(Vt);jt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=g.useContext(Rt),{pathname:o}=It(),a=zr(),l=rf(t,nf(s),o,r==="path"),u=JSON.stringify(l);return g.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function yo(t){return Bw(t.context)}function Q(t){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zw({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){me(!ji(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=g.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Wi(n));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,y=g.useMemo(()=>{let _=kn(l,o);return _==null?null:{location:{pathname:_,search:u,hash:d,state:f,key:h},navigationType:r}},[o,l,u,d,f,h,r]);return jt(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(Vt.Provider,{value:a},g.createElement(mo.Provider,{children:e,value:y}))}function eC({children:t,location:e}){return Uw(Rc(t),e)}function Rc(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Rc(r.props.children,s));return}me(r.type===Q,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rc(r.props.children,s)),n.push(o)}),n}var da="get",fa="application/x-www-form-urlencoded";function xl(t){return t!=null&&typeof t.tagName=="string"}function tC(t){return xl(t)&&t.tagName.toLowerCase()==="button"}function nC(t){return xl(t)&&t.tagName.toLowerCase()==="form"}function rC(t){return xl(t)&&t.tagName.toLowerCase()==="input"}function iC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sC(t,e){return t.button===0&&(!e||e==="_self")&&!iC(t)}var Ko=null;function oC(){if(Ko===null)try{new FormData(document.createElement("form"),0),Ko=!1}catch{Ko=!0}return Ko}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _u(t){return t!=null&&!aC.has(t)?(jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fa}"`),null):t}function lC(t,e){let n,r,i,s,o;if(nC(t)){let a=t.getAttribute("action");r=a?kn(a,e):null,n=t.getAttribute("method")||da,i=_u(t.getAttribute("enctype"))||fa,s=new FormData(t)}else if(tC(t)||rC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?kn(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||da,i=_u(t.getAttribute("formenctype"))||_u(a.getAttribute("enctype"))||fa,s=new FormData(a,t),!oC()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(xl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=da,r=null,i=fa,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function lf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function uC(t,e){if(t.id in e)return e[t.id];try{let n=await XE(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cC(t){return t!=null&&typeof t.page=="string"}function dC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fC(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await uC(s,n);return o.links?o.links():[]}return[]}));return gC(r.flat(1).filter(dC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ap(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function hC(t,e,{includeHydrateFallback:n}={}){return pC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function pC(t){return[...new Set(t)]}function mC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gC(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!cC(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(mC(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yC=new Set([100,101,204,205]);function vC(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&kn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dv(){let t=g.useContext(Hi);return lf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _C(){let t=g.useContext(kl);return lf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uf=g.createContext(void 0);uf.displayName="FrameworkContext";function fv(){let t=g.useContext(uf);return lf(t,"You must render this element inside a <HydratedRouter> element"),t}function EC(t,e){let n=g.useContext(uf),[r,i]=g.useState(!1),[s,o]=g.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=g.useRef(null);g.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=m=>{m.forEach(p=>{o(p.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[t]),g.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:us(a,y),onBlur:us(l,_),onMouseEnter:us(u,y),onMouseLeave:us(d,_),onTouchStart:us(f,y)}]:[!1,h,{}]}function us(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wC({page:t,...e}){let{router:n}=dv(),r=g.useMemo(()=>tv(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(SC,{page:t,matches:r,...e}):null}function CC(t){let{manifest:e,routeModules:n}=fv(),[r,i]=g.useState([]);return g.useEffect(()=>{let s=!1;return fC(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function SC({page:t,matches:e,...n}){let r=It(),{manifest:i,routeModules:s}=fv(),{basename:o}=dv(),{loaderData:a,matches:l}=_C(),u=g.useMemo(()=>Ap(t,e,l,i,r,"data"),[t,e,l,i,r]),d=g.useMemo(()=>Ap(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(e.forEach(m=>{var v;let p=i.routes[m.route.id];!p||!p.hasLoader||(!u.some(C=>C.route.id===m.route.id)&&m.route.id in a&&((v=s[m.route.id])!=null&&v.shouldRevalidate)||p.hasClientLoader?E=!0:_.add(m.route.id))}),_.size===0)return[];let w=vC(t,o);return E&&_.size>0&&w.searchParams.set("_routes",e.filter(m=>_.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[o,a,r,i,u,e,t,s]),h=g.useMemo(()=>hC(d,i),[d,i]),y=CC(d);return g.createElement(g.Fragment,null,f.map(_=>g.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),h.map(_=>g.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:E})=>g.createElement("link",{key:_,...E})))}function kC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hv&&(window.__reactRouterVersion="7.6.2")}catch{}function xC({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=lw({window:n,v5Compat:!0}));let i=r.current,[s,o]=g.useState({action:i.action,location:i.location}),a=g.useCallback(l=>{g.startTransition(()=>o(l))},[o]);return g.useLayoutEffect(()=>i.listen(a),[i,a]),g.createElement(Zw,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mn=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f,...h},y){let{basename:_}=g.useContext(Vt),E=typeof u=="string"&&pv.test(u),w,m=!1;if(typeof u=="string"&&E&&(w=u,hv))try{let A=new URL(window.location.href),R=u.startsWith("//")?new URL(A.protocol+u):new URL(u),k=kn(R.pathname,_);R.origin===A.origin&&k!=null?u=k+R.search+R.hash:m=!0}catch{jt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=Lw(u,{relative:i}),[v,C,S]=EC(r,h),x=RC(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function b(A){e&&e(A),A.defaultPrevented||x(A)}let I=g.createElement("a",{...h,...S,href:w||p,onClick:m||s?e:b,ref:kC(y,C),target:l,"data-discover":!E&&n==="render"?"true":void 0});return v&&!E?g.createElement(g.Fragment,null,I,g.createElement(wC,{page:p})):I});mn.displayName="Link";var NC=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let f=go(o,{relative:u.relative}),h=It(),y=g.useContext(kl),{navigator:_,basename:E}=g.useContext(Vt),w=y!=null&&DC(f)&&a===!0,m=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,p=h.pathname,v=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(p=p.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase()),v&&E&&(v=kn(v,E)||v);const C=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=p===m||!i&&p.startsWith(m)&&p.charAt(C)==="/",x=v!=null&&(v===m||!i&&v.startsWith(m)&&v.charAt(m.length)==="/"),b={isActive:S,isPending:x,isTransitioning:w},I=S?e:void 0,A;typeof r=="function"?A=r(b):A=[r,S?"active":null,x?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(b):s;return g.createElement(mn,{...u,"aria-current":I,className:A,ref:d,style:R,to:o,viewTransition:a},typeof l=="function"?l(b):l)});NC.displayName="NavLink";var bC=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=da,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...h},y)=>{let _=AC(),E=OC(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&pv.test(a),p=v=>{if(l&&l(v),v.defaultPrevented)return;v.preventDefault();let C=v.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||o;_(C||v.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return g.createElement("form",{ref:y,method:w,action:E,onSubmit:r?l:p,...h,"data-discover":!m&&t==="render"?"true":void 0})});bC.displayName="Form";function TC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mv(t){let e=g.useContext(Hi);return me(e,TC(t)),e}function RC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=zr(),l=It(),u=go(t,{relative:s});return g.useCallback(d=>{if(sC(d,e)){d.preventDefault();let f=n!==void 0?n:Xs(l)===Xs(u);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var IC=0,PC=()=>`__${String(++IC)}__`;function AC(){let{router:t}=mv("useSubmit"),{basename:e}=g.useContext(Vt),n=Yw();return g.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=lC(r,e);if(i.navigate===!1){let d=i.fetcherKey||PC();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function OC(t,{relative:e}={}){let{basename:n}=g.useContext(Vt),r=g.useContext(Rt);me(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...go(t||".",{relative:e})},o=It();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:vn([n,s.pathname])),Xs(s)}function DC(t,e={}){let n=g.useContext(sv);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mv("useViewTransitionState"),i=go(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=kn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=kn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ua(i.pathname,o)!=null||Ua(i.pathname,s)!=null}[...yC];function LC({show:t,onSubmit:e,onClose:n,loading:r,error:i}){const[s,o]=g.useState("");if(!t)return null;const a=l=>{l.preventDefault(),e(s)};return c.createElement("div",{className:"otp-modal-backdrop"},c.createElement("div",{className:"otp-modal"},c.createElement("h2",null,"Enter OTP"),c.createElement("form",{onSubmit:a},c.createElement("input",{type:"text",value:s,onChange:l=>o(l.target.value),maxLength:6,autoFocus:!0,required:!0,placeholder:"Enter 6-digit OTP",className:"input"}),i&&c.createElement("div",{className:"error-message"},i),c.createElement("div",{className:"otp-button-row"},c.createElement("button",{className:"otp-verify-btn",type:"submit"},"Verify"),c.createElement("button",{className:"otp-cancel-btn",type:"button",onClick:n,style:{marginLeft:"1rem"},disabled:r},"Cancel")))))}function MC({onChange:t,values:e={},errors:n={}}){const r=i=>{const{name:s,value:o}=i.target;t&&t(s,o)};return c.createElement(c.Fragment,null,c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"contactNumber",className:"label"},"Contact Number"),c.createElement("input",{type:"tel",id:"contactNumber",name:"contactNumber",className:`input${n.contactNumber?" error":""}`,value:e.contactNumber||"",onChange:r,required:!0,inputMode:"numeric",pattern:"[0-9]*",placeholder:n.contactNumber?n.contactNumber:"Contact Number"})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"city",className:"label"},"City"),c.createElement("input",{type:"text",id:"city",name:"city",className:`input${n.city?" error":""}`,value:e.city||"",onChange:r,required:!0,placeholder:n.city?n.city:"City"})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"state",className:"label"},"State"),c.createElement("input",{type:"text",id:"state",name:"state",className:`input${n.state?" error":""}`,value:e.state||"",onChange:r,required:!0,placeholder:n.state?n.state:"State"})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"country",className:"label"},"Country"),c.createElement("input",{type:"text",id:"country",name:"country",className:`input${n.country?" error":""}`,value:e.country||"",onChange:r,required:!0,placeholder:n.country?n.country:"Country"})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"zipCode",className:"label"},"Zip Code"),c.createElement("input",{type:"text",id:"zipCode",name:"zipCode",className:`input${n.zipCode?" error":""}`,value:e.zipCode||"",onChange:r,required:!0,placeholder:n.zipCode?n.zipCode:"Zip Code"})))}const FC={contactNumber:{required:!0,pattern:/^[0-9]{7,15}$/},city:{required:!0},state:{required:!0},country:{required:!0},zipCode:{required:!0,pattern:/^[0-9a-zA-Z\- ]{3,10}$/}};function Op(t,e){const n=FC[t];return n.required&&!e?"This field is required":n.minLength&&e.length<n.minLength?`Minimum ${n.minLength} characters`:n.pattern&&!n.pattern.test(e)?"Invalid format":""}function BC({email:t}){const e=zr(),[n,r]=g.useState({contactNumber:"",city:"",state:"",country:"",zipCode:""}),[i,s]=g.useState({}),[o,a]=g.useState(!1),[l,u]=g.useState(""),[d,f]=g.useState(!1),h=(_,E)=>{r(w=>({...w,[_]:E})),s(w=>({...w,[_]:Op(_,E)}))},y=async _=>{_.preventDefault();const E={};if(Object.keys(n).forEach(w=>{E[w]=Op(w,n[w])}),s(E),!Object.values(E).some(w=>w)){f(!0),u("");try{if(!(await fetch("https://system-production-9942.up.railway.app/api/v1/auth/register/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,...n})})).ok)throw new Error("Failed to submit information");a(!0),setTimeout(()=>{e("/login")},1e3)}catch{u("Failed to submit information. Please try again.")}finally{f(!1)}}};return o?c.createElement("div",{className:"form-success"},c.createElement("h2",null,"Register Completed!")):c.createElement("div",{className:"address-page"},c.createElement("h2",null,"Enter Additional Information"),c.createElement("form",{className:"form",onSubmit:y,noValidate:!0},c.createElement(MC,{values:n,errors:i,onChange:h}),l&&c.createElement("div",{className:"error-message"},l),c.createElement("button",{type:"submit",className:"signup-button",disabled:d},d?"Submitting...":"Submit")))}var gv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dp=c.createContext&&c.createContext(gv),zC=["attr","size","title"];function UC(t,e){if(t==null)return{};var n=$C(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $C(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}function Lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lp(Object(n),!0).forEach(function(r){WC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WC(t,e,n){return e=HC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HC(t){var e=jC(t,"string");return typeof e=="symbol"?e:e+""}function jC(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yv(t){return t&&t.map((e,n)=>c.createElement(e.tag,Wa({key:n},e.attr),yv(e.child)))}function Vi(t){return e=>c.createElement(VC,$a({attr:Wa({},t.attr)},e),yv(t.child))}function VC(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=UC(t,zC),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),c.createElement("svg",$a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Wa(Wa({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&c.createElement("title",null,s),t.children)};return Dp!==void 0?c.createElement(Dp.Consumer,null,n=>e(n)):e(gv)}function GC(t){return Vi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function qC(t){return Vi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function KC(t){return Vi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Nl(t){return Vi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function bl(t){return Vi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function sr(t){return Vi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Mp({value:t,onChange:e,name:n="password",placeholder:r="Password",error:i,success:s,required:o}){const[a,l]=g.useState(!1);return c.createElement("div",null,c.createElement("div",{className:"password-input-wrapper"},c.createElement("input",{type:a?"text":"password",name:n,value:t,onChange:e,placeholder:r,className:`input password-input${i?" error":""}${s?" success":""}`,autoComplete:"new-password",required:o}),c.createElement("span",{onClick:()=>l(u=>!u),className:"toggle-password","aria-label":a?"Hide password":"Show password",tabIndex:0,role:"button"},a?c.createElement(qC,{size:20}):c.createElement(KC,{size:20}))))}const YC={firstName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s]+$/},lastName:{required:!0,minLength:2,pattern:/^[a-zA-Z\s]+$/},email:{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@gmail\.com$/},role:{required:!0},password:{required:!0,minLength:1},retypePassword:{required:!0},username:{required:!0,minLength:8,pattern:/^[a-zA-Z0-9_]+$/}};function QC(t){return{hasLength:t.length>=8,hasUppercase:/[A-Z]/.test(t),hasLowercase:/[a-z]/.test(t),hasNumber:/\d/.test(t)}}function XC(t){let e=0;return/[A-Z]/.test(t)&&(e+=1),/\d/.test(t)&&(e+=1),t.length>=8&&(e+=1),e===3?"strong":e===2?"moderate":"poor"}function JC(){var Y,Z;const[t,e]=g.useState({firstName:"",lastName:"",email:"",username:"",role:"",password:"",retypePassword:""}),[n,r]=g.useState({}),[i,s]=g.useState({}),[o,a]=g.useState("poor"),[l,u]=g.useState(!1),[d,f]=g.useState(!1),[h,y]=g.useState(!1),[_,E]=g.useState(""),[w,m]=g.useState(!1),[p,v]=g.useState(null),[C,S]=g.useState(!1);g.useState({contactNumber:"",city:"",state:"",country:"",zipCode:""}),g.useState({});const[x,b]=g.useState(!1),[I,A]=g.useState(!1),R=(ee,H)=>{const M=YC[ee];let L="";return M.required&&(!H||H==="")?L="This field is required":M.minLength&&H.length<M.minLength?L=`Must be at least ${M.minLength} characters`:M.pattern&&!M.pattern.test(H)&&((ee==="firstName"||ee==="lastName")&&(L="Only letters and spaces allowed"),ee==="email"&&(L="Invalid email address")),L},k=ee=>{const{name:H,value:M}=ee.target;e(L=>({...L,[H]:M})),H==="password"&&(s(QC(M)),a(XC(M))),r(L=>({...L,[H]:R(H,M),...H==="retypePassword"?{retypePassword:M!==t.password?"Passwords do not match":""}:{},...H==="password"?{retypePassword:t.retypePassword&&M!==t.retypePassword?"Passwords do not match":""}:{}}))},F=async ee=>{const H=ee.target.value;if(e(L=>({...L,username:H})),b(!1),r(L=>({...L,username:void 0})),H.length<8){r(L=>({...L,username:"Username must be at least 8 characters."}));return}A(!0);const M=await $(H);A(!1),b(M),M&&r(L=>({...L,username:"Username is already used."}))},$=async ee=>(await new Promise(M=>setTimeout(M,500)),["admin","user","test"].includes(ee.toLowerCase())),he=async ee=>{ee.preventDefault();const H={};if(Object.keys(t).forEach(M=>{const L=R(M,t[M]);L&&(H[M]=L)}),t.password!==t.retypePassword&&(H.retypePassword="Passwords do not match"),t.role||(H.role="Choose a role"),r(H),!Object.values(H).some(M=>M)){u(!0);try{const M={...t},L=await fetch("https://system-production-9942.up.railway.app/api/v1/auth/otp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!L.ok){const ce=await L.json();throw new Error(ce.message||"Registration failed")}v(M),f(!0)}catch(M){alert("Registration failed: "+M.message)}finally{u(!1)}}},Se=async(ee,H)=>{m(!0),E("");try{if(!(await fetch("https://system-production-9942.up.railway.app/api/v1/auth/otp/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:ee,otp:H})})).ok)throw new Error("OTP verification failed");y(!0),f(!1),S(!0)}catch{E("Invalid OTP or failed to save address. Please try again.")}finally{m(!1)}};if(h&&p)return c.createElement(BC,{email:p.email});const be=i.hasLength&&i.hasUppercase&&i.hasLowercase&&i.hasNumber,ue=t.password&&t.retypePassword&&t.password===t.retypePassword,P=((Y=t==null?void 0:t.firstName)==null?void 0:Y.length)>=2&&/^[a-zA-Z\s]+$/.test(t.firstName),B=((Z=t==null?void 0:t.lastName)==null?void 0:Z.length)>=2&&/^[a-zA-Z\s]+$/.test(t.lastName),W=(t==null?void 0:t.email)&&/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(t.email);return c.createElement("div",{className:"form-container"},c.createElement("h1",{className:"title"},"Create your account"),C&&c.createElement("div",{className:"success-message"},"Account created and verified successfully!"),!C&&c.createElement("form",{className:"form",onSubmit:he,noValidate:!0},c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"firstName",className:"label"},"First Name"),c.createElement("input",{type:"text",id:"firstName",name:"firstName",className:`input${n.firstName?" error":""}${P?" success":""}`,value:t.firstName,onChange:k,required:!0,placeholder:n.firstName?n.firstName:"First Name"})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"lastName",className:"label"},"Last Name"),c.createElement("input",{type:"text",id:"lastName",name:"lastName",className:`input${n.lastName?" error":""}${B?" success":""}`,value:t.lastName,onChange:k,required:!0,placeholder:n.lastName?n.lastName:"Last Name"})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"username",className:"label"},"Username"),c.createElement("input",{type:"text",name:"username",value:t.username,onChange:F,className:`input${n.username?" error":""}${t.username&&!x&&!n.username?" success":""}`,placeholder:n.username?n.username:"Username",autoComplete:"username",required:!0}),I?c.createElement("div",{className:"checking-message"},"Checking username availability..."):x?c.createElement("div",{className:"error-message"},"Username is already used."):t.username.length>=8&&!n.username?c.createElement("div",{className:"success-message"},"Username is available!"):null),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"email",className:"label"},"Email"),c.createElement("input",{type:"email",name:"email",value:t.email,onChange:k,className:`input${n.email?" error":""}${W?" success":""}`,placeholder:n.email?n.email:"Email",autoComplete:"email",required:!0})),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"role",className:"label"},"Position/Role"),c.createElement("select",{id:"role",name:"role",className:`input${n.role?" error":""}`,value:t.role,onChange:k,required:!0},c.createElement("option",{value:""},"Select your role"),c.createElement("option",{value:"MarketingLead"},"Marketing Lead"),c.createElement("option",{value:"ContentCreator"},"Content Creator"),c.createElement("option",{value:"GraphicDesigner"},"Graphic Designer")),n.role&&c.createElement("div",{className:"error-message"},n.role)),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"password",className:"label"},"Password"),c.createElement(Mp,{value:t.password,onChange:k,error:n.password,name:"password",placeholder:n.password?n.password:"Password",success:be}),t.password&&c.createElement("div",{className:`password-strength-indicator ${o}`},"Password strength:"," ",o==="strong"&&c.createElement("span",null,"Strong"),o==="moderate"&&c.createElement("span",null,"Moderate"),o==="poor"&&c.createElement("span",null,"Poor"))),c.createElement("div",{className:"form-group"},c.createElement("label",{htmlFor:"retypePassword",className:"label"},"Retype Password"),c.createElement(Mp,{value:t.retypePassword,onChange:k,error:n.retypePassword,name:"retypePassword",placeholder:n.retypePassword?n.retypePassword:"Retype Password"})),ue&&c.createElement("div",{className:"password-success-indicator"},c.createElement("span",{role:"img","aria-label":"success"},"")," Passwords matched!"),c.createElement("button",{type:"submit",className:"signup-button",disabled:l,id:"submit-btn"},c.createElement("span",{id:"submit-text"},"Sign Up"),l&&c.createElement("span",{className:"loading",id:"submit-loading"}))),c.createElement(LC,{show:d,onSubmit:ee=>Se(p.email,ee),onClose:()=>f(!1),loading:w,error:_}))}const vv=g.createContext(),ZC=({children:t})=>{const[e,n]=g.useState(()=>{const r=localStorage.getItem("user");return r?JSON.parse(r):null});return g.useEffect(()=>{const r=i=>{i.key==="user"&&n(i.newValue?JSON.parse(i.newValue):null)};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),c.createElement(vv.Provider,{value:{user:e,setUser:n}},t)},Gi=()=>g.useContext(vv);function eS(){const t=zr(),{setUser:e}=Gi(),[n,r]=g.useState({username:"",password:""}),[i,s]=g.useState({}),[o,a]=g.useState(!1),[l,u]=g.useState({text:"",type:""}),d=()=>{const y={};return n.username||(y.username="Username is required"),n.password||(y.password="Password is required"),y},f=y=>{const{name:_,value:E}=y.target;r(w=>({...w,[_]:E})),s(w=>({...w,[_]:void 0}))},h=async y=>{y.preventDefault();const _=d();if(s(_),!(Object.keys(_).length>0)){a(!0),u({text:"",type:""});try{const E=await fetch("https://system-production-9942.up.railway.app/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.username,password:n.password})}),w=await E.json();E.ok?(u({text:"Login successful!",type:"success"}),e(w.data.user),localStorage.setItem("user",JSON.stringify(w.data.user)),setTimeout(()=>{var p;const m=(p=w.data.user)==null?void 0:p.role;t(m==="Admin"?"/admin":m==="MarketingLead"?"/marketing/dashboard":m==="ContentCreator"?"/content/dashboard":m==="GraphicDesigner"?"/graphic/dashboard":"/admin")},1e3)):u({text:w.message||"Login failed.",type:"error"})}catch{u({text:"Network error. Please try again.",type:"error"})}finally{a(!1)}}};return c.createElement("div",{className:"login-main"},c.createElement("div",{className:"login-form-container"},c.createElement("h2",{className:"login-title"},"Welcome Back"),c.createElement("form",{className:"login-form",onSubmit:h,noValidate:!0},c.createElement("div",{className:"login-field"},c.createElement("label",{htmlFor:"username",className:"login-label"},"Username"),c.createElement("input",{type:"text",id:"username",name:"username",className:`login-input${i.username?" login-input-error":""}`,value:n.username,onChange:f,autoComplete:"username",required:!0}),i.username&&c.createElement("div",{className:"login-message login-message-error"},i.username)),c.createElement("div",{className:"login-field"},c.createElement("label",{htmlFor:"password",className:"login-label"},"Password"),c.createElement("input",{type:"password",id:"password",name:"password",className:`login-input${i.password?" login-input-error":""}`,value:n.password,onChange:f,autoComplete:"current-password",required:!0}),i.password&&c.createElement("div",{className:"login-message login-message-error"},i.password)),c.createElement("div",{style:{textAlign:"right",marginBottom:"1em"}},c.createElement("button",{type:"button",className:"login-link",style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",padding:0},onClick:()=>t("/forgot-password")},"Forgot Password?")),c.createElement("div",{className:"login-actions"},c.createElement("button",{type:"submit",className:"login-btn login-btn-primary",disabled:o},o?"Logging in...":"Log In"))),l.text&&c.createElement("div",{className:`login-message ${l.type==="success"?"login-message-success":"login-message-error"}`},l.text),c.createElement("div",{className:"login-signup-link"},"Don't have an account?"," ",c.createElement("span",{className:"login-link",tabIndex:0,role:"button",onClick:()=>t("/register"),onKeyDown:y=>{y.key==="Enter"&&t("/register")},style:{textDecoration:"underline",color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:0}},"Register"))))}const tS=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,s]=g.useState(""),o=zr(),a=async l=>{l.preventDefault(),r(""),s("");try{(await fetch("https://system-production-9942.up.railway.app/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).ok?r("Password reset instructions sent to your email."):s("Failed to send reset email. Please try again.")}catch{s("An error occurred. Please try again.")}};return c.createElement("div",{className:"main"},c.createElement("div",{className:"form-container"},c.createElement("h2",{className:"title"},"Forgot Password"),c.createElement("form",{className:"form",onSubmit:a},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"label",htmlFor:"forgot-email"},"Email"),c.createElement("input",{id:"forgot-email",type:"email",className:"input",placeholder:"Enter your email",value:t,onChange:l=>e(l.target.value),required:!0})),c.createElement("button",{className:"signup-button",type:"submit"},"Send Reset Link")),n&&c.createElement("div",{className:"success-message"},n),i&&c.createElement("div",{className:"error-message"},i),c.createElement("button",{className:"back-button",onClick:()=>o("/login"),style:{marginTop:8}},"Back to Login")))},nS="/assets/issalonlogo-c4fc00ce.jpg",rS="/assets/issalonnails-a70f4a89.png",iS=()=>c.createElement(c.Fragment,null,c.createElement("header",{className:"header"},c.createElement("div",{className:"header-container"},c.createElement("div",{className:"logo"},c.createElement("img",{src:nS,alt:"Logo",className:"logo"})))),c.createElement("main",{className:"main"},c.createElement(yo,null)),c.createElement("footer",{className:"footer"},c.createElement("div",{className:"footer-container"},c.createElement("div",{className:"nail"},c.createElement("img",{src:rS,alt:"infinitysalon",id:"nails"})),c.createElement("div",{className:"footer-links"},c.createElement("a",{href:"#",className:"footer-link"},"Terms & Condition"),c.createElement("a",{href:"#",className:"footer-link"},"Policy Privacy")))));function sS(){const{token:t}=zw(),[e,n]=g.useState(""),[r,i]=g.useState(""),[s,o]=g.useState(""),[a,l]=g.useState(""),u=zr(),d=async f=>{if(f.preventDefault(),l(""),o(""),e!==r){l("Passwords do not match.");return}try{(await fetch("https://system-production-9942.up.railway.app/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:e})})).ok?(o("Password reset successful! Redirecting to login..."),setTimeout(()=>u("/login"),2e3)):l("Failed to reset password. Please try again.")}catch{l("Network error. Please try again.")}};return c.createElement("div",{className:"main"},c.createElement("div",{className:"form-container"},c.createElement("h2",{className:"title"},"Reset Password"),c.createElement("form",{className:"form",onSubmit:d},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"label",htmlFor:"reset-password"},"New Password"),c.createElement("input",{id:"reset-password",type:"password",className:"input",placeholder:"New password",value:e,onChange:f=>n(f.target.value),required:!0})),c.createElement("div",{className:"form-group"},c.createElement("label",{className:"label",htmlFor:"reset-retype"},"Retype Password"),c.createElement("input",{id:"reset-retype",type:"password",className:"input",placeholder:"Retype new password",value:r,onChange:f=>i(f.target.value),required:!0})),c.createElement("button",{className:"signup-button",type:"submit"},"Reset Password")),s&&c.createElement("div",{className:"success-message"},s),a&&c.createElement("div",{className:"error-message"},a)))}const oS=()=>c.createElement("div",null,c.createElement("h1",null,"Admin Dashboard"),c.createElement("p",null,"Welcome to the admin dashboard. Select an option from the sidebar to get started.")),aS=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(t,e){if(!t)throw qi(e)},qi=function(t){return new Error("Firebase Database ("+_v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(h=64)),r.push(n[d],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ev(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new uS;const h=s<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wv=function(t){const e=Ev(t);return cf.encodeByteArray(e,!0)},Ha=function(t){return wv(t).replace(/\./g,"")},Ic=function(t){try{return cf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){return Cv(void 0,t)}function Cv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!dS(n)||(t[n]=Cv(t[n],e[n]));return t}function dS(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=()=>fS().__FIREBASE_DEFAULTS__,pS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ic(t[1]);return e&&JSON.parse(e)},Sv=()=>{try{return aS()||hS()||pS()||mS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gS=t=>{var e,n;return(n=(e=Sv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yS=t=>{const e=gS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kv=()=>{var t;return(t=Sv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return t.endsWith(".cloudworkstations.dev")}async function vS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ha(JSON.stringify(n)),Ha(JSON.stringify(o)),a].join(".")}const Rs={};function ES(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rs))Rs[e]?t.emulator.push(e):t.prod.push(e);return t}function wS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fp=!1;function CS(t,e){if(typeof window>"u"||typeof document>"u"||!df(window.location.host)||Rs[t]===e||Rs[t]||Fp)return;Rs[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=ES().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Fp=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=wS(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),E=n("learnmore"),w=document.getElementById(E)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const v=h.element;a(v),d(w,E);const C=u();l(p,m),v.append(p,_,w,C),document.body.appendChild(v)}s?(_.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(SS())}function kS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nv(){return _v.NODE_ADMIN===!0}function xS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="FirebaseError";class _o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bS,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bv.prototype.create)}}class bv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?TS(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _o(i,a,r)}}function TS(t,e){return t.replace(RS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Js(Ic(s[0])||""),n=Js(Ic(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},IS=function(t){const e=Tv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PS=function(t){const e=Tv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ja(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zp(s)&&zp(o)){if(!Va(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):f<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const h=(i<<5|i>>>27)+u+l+d+r[f]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Tl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,T(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FS(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MS(t){return t===vr?void 0:t}function FS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const zS={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},US=oe.INFO,$S={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},WS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$S[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rv{constructor(e){this.name=e,this._logLevel=US,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const HS=(t,e)=>e.some(n=>t instanceof n);let Up,$p;function jS(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return $p||($p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,Pc=new WeakMap,Pv=new WeakMap,Eu=new WeakMap,ff=new WeakMap;function GS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Iv.set(n,t)}).catch(()=>{}),ff.set(e,t),e}function qS(t){if(Pc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pc.set(t,e)}let Ac={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KS(t){Ac=t(Ac)}function YS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wu(this),e,...n);return Pv.set(r,e.sort?e.sort():[e]),Jn(r)}:VS().includes(t)?function(...e){return t.apply(wu(this),e),Jn(Iv.get(this))}:function(...e){return Jn(t.apply(wu(this),e))}}function QS(t){return typeof t=="function"?YS(t):(t instanceof IDBTransaction&&qS(t),HS(t,jS())?new Proxy(t,Ac):t)}function Jn(t){if(t instanceof IDBRequest)return GS(t);if(Eu.has(t))return Eu.get(t);const e=QS(t);return e!==t&&(Eu.set(t,e),ff.set(e,t)),e}const wu=t=>ff.get(t);function XS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jn(o.result),l.oldVersion,l.newVersion,Jn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const JS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],Cu=new Map;function Wp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JS.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Cu.set(e,s),s}KS(t=>({...t,get:(e,n,r)=>Wp(e,n)||t.get(e,n,r),has:(e,n)=>!!Wp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oc="@firebase/app",Hp="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new Rv("@firebase/app"),nk="@firebase/app-compat",rk="@firebase/analytics-compat",ik="@firebase/analytics",sk="@firebase/app-check-compat",ok="@firebase/app-check",ak="@firebase/auth",lk="@firebase/auth-compat",uk="@firebase/database",ck="@firebase/data-connect",dk="@firebase/database-compat",fk="@firebase/functions",hk="@firebase/functions-compat",pk="@firebase/installations",mk="@firebase/installations-compat",gk="@firebase/messaging",yk="@firebase/messaging-compat",vk="@firebase/performance",_k="@firebase/performance-compat",Ek="@firebase/remote-config",wk="@firebase/remote-config-compat",Ck="@firebase/storage",Sk="@firebase/storage-compat",kk="@firebase/firestore",xk="@firebase/ai",Nk="@firebase/firestore-compat",bk="firebase",Tk="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="[DEFAULT]",Rk={[Oc]:"fire-core",[nk]:"fire-core-compat",[ik]:"fire-analytics",[rk]:"fire-analytics-compat",[ok]:"fire-app-check",[sk]:"fire-app-check-compat",[ak]:"fire-auth",[lk]:"fire-auth-compat",[uk]:"fire-rtdb",[ck]:"fire-data-connect",[dk]:"fire-rtdb-compat",[fk]:"fire-fn",[hk]:"fire-fn-compat",[pk]:"fire-iid",[mk]:"fire-iid-compat",[gk]:"fire-fcm",[yk]:"fire-fcm-compat",[vk]:"fire-perf",[_k]:"fire-perf-compat",[Ek]:"fire-rc",[wk]:"fire-rc-compat",[Ck]:"fire-gcs",[Sk]:"fire-gcs-compat",[kk]:"fire-fst",[Nk]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[bk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Map,Ik=new Map,Lc=new Map;function jp(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(Lc.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;Lc.set(e,t);for(const n of Ga.values())jp(n,t);for(const n of Ik.values())jp(n,t);return!0}function Pk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ak(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new bv("app","Firebase",Ok);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=Tk;function Av(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dc,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(n||(n=kv()),!n)throw Zn.create("no-options");const s=Ga.get(i);if(s){if(Va(n,s.options)&&Va(r,s.config))return s;throw Zn.create("duplicate-app",{appName:i})}const o=new BS(i);for(const l of Lc.values())o.addComponent(l);const a=new Dk(n,r,o);return Ga.set(i,a),a}function Mk(t=Dc){const e=Ga.get(t);if(!e&&t===Dc&&kv())return Av();if(!e)throw Zn.create("no-app",{appName:t});return e}function vi(t,e,n){var r;let i=(r=Rk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(a.join(" "));return}qa(new Zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firebase-heartbeat-database",Bk=1,eo="firebase-heartbeat-store";let Su=null;function Ov(){return Su||(Su=XS(Fk,Bk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),Su}async function zk(t){try{const n=(await Ov()).transaction(eo),r=await n.objectStore(eo).get(Dv(t));return await n.done,r}catch(e){if(e instanceof _o)xn.warn(e.message);else{const n=Zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xn.warn(n.message)}}}async function Vp(t,e){try{const r=(await Ov()).transaction(eo,"readwrite");await r.objectStore(eo).put(e,Dv(t)),await r.done}catch(n){if(n instanceof _o)xn.warn(n.message);else{const r=Zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xn.warn(r.message)}}}function Dv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=1024,$k=30;class Wk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>$k){const o=Vk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gp(),{heartbeatsToSend:r,unsentEntries:i}=Hk(this._heartbeatsCache.heartbeats),s=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xn.warn(n),""}}}function Gp(){return new Date().toISOString().substring(0,10)}function Hk(t,e=Uk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qp(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}function Vk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){qa(new Zs("platform-logger",e=>new ek(e),"PRIVATE")),qa(new Zs("heartbeat",e=>new Wk(e),"PRIVATE")),vi(Oc,Hp,t),vi(Oc,Hp,"esm2017"),vi("fire-js","")}Gk("");var qk="firebase",Kk="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(qk,Kk,"app");const Kp="@firebase/database",Yp="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv="";function Yk(t){Lv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Js(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return en(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qk(e)}}catch{}return new Xk},kr=Mv("localStorage"),Mc=Mv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Rv("@firebase/database"),Jk=function(){let t=1;return function(){return t++}}(),Fv=function(t){const e=DS(t),n=new OS;n.update(e);const r=n.digest();return cf.encodeByteArray(r)},Eo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Eo.apply(null,r):typeof r=="object"?e+=Pe(r):e+=r,e+=" "}return e};let br=null,Qp=!0;const Zk=function(t,e){T(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(_i.logLevel=oe.VERBOSE,br=_i.log.bind(_i),e&&Mc.set("logging_enabled",!0)):typeof t=="function"?br=t:(br=null,Mc.remove("logging_enabled"))},Ue=function(...t){if(Qp===!0&&(Qp=!1,br===null&&Mc.get("logging_enabled")===!0&&Zk(!0)),br){const e=Eo.apply(null,t);br(e)}},wo=function(t){return function(...e){Ue(t,...e)}},Fc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Eo(...t);_i.error(e)},Nn=function(...t){const e=`FIREBASE FATAL ERROR: ${Eo(...t)}`;throw _i.error(e),new Error(e)},Ze=function(...t){const e="FIREBASE WARNING: "+Eo(...t);_i.warn(e)},ex=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ze("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ai="[MIN_NAME]",Or="[MAX_NAME]",Ur=function(t,e){if(t===e)return 0;if(t===Ai||e===Or)return-1;if(e===Ai||t===Or)return 1;{const n=Xp(t),r=Xp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nx=function(t,e){return t===e?0:t<e?-1:1},cs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},pf=function(t){if(typeof t!="object"||t===null)return Pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pe(e[r]),n+=":",n+=pf(t[e[r]]);return n+="}",n},Bv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function He(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const zv=function(t){T(!hf(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},rx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ix=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const ox=new RegExp("^-?(0*)\\d{1,10}$"),ax=-2147483648,lx=2147483647,Xp=function(t){if(ox.test(t)){const e=Number(t);if(e>=ax&&e<=lx)return e}return null},Yi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ze("Exception was thrown by user callback.",n),e},Math.floor(0))}},ux=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Is=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ak(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ze(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ze(e)}}class Ei{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ei.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="5",Uv="v",$v="s",Wv="r",Hv="f",jv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vv="ls",Gv="p",Bc="ac",qv="websocket",Kv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&kr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Qv(t,e,n){T(typeof e=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let r;if(e===qv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Kv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fx(t)&&(n.ns=t.namespace);const i=[];return He(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.counters_={}}incrementCounter(e,n=1){en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return cS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku={},xu={};function gf(t){const e=t.toString();return ku[e]||(ku[e]=new hx),ku[e]}function px(t,e){const n=t.toString();return xu[n]||(xu[n]=e()),xu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Yi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="start",gx="close",yx="pLPCommand",vx="pRTLPCB",Xv="id",Jv="pw",Zv="ser",_x="cb",Ex="seg",wx="ts",Cx="d",Sx="dframe",e_=1870,t_=30,kx=e_-t_,xx=25e3,Nx=3e4;class di{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wo(e),this.stats_=gf(n),this.urlFn=l=>(this.appCheckToken&&(l[Bc]=this.appCheckToken),Qv(n,Kv,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Nx)),tx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yf((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Jp)this.id=a,this.password=l;else if(o===gx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Jp]="t",r[Zv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_x]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Uv]=mf,this.transportSessionId&&(r[$v]=this.transportSessionId),this.lastSessionId&&(r[Vv]=this.lastSessionId),this.applicationId&&(r[Gv]=this.applicationId),this.appCheckToken&&(r[Bc]=this.appCheckToken),typeof location<"u"&&location.hostname&&jv.test(location.hostname)&&(r[Wv]=Hv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){di.forceAllow_=!0}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){return di.forceAllow_?!0:!di.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rx()&&!ix()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wv(n),i=Bv(r,kx);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Sx]="t",r[Xv]=e,r[Jv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yf{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Jk(),window[yx+this.uniqueCallbackIdentifier]=e,window[vx+this.uniqueCallbackIdentifier]=n,this.myIFrame=yf.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Xv]=this.myID,e[Jv]=this.myPW,e[Zv]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t_+r.length<=e_;){const o=this.pendingSegs.shift();r=r+"&"+Ex+i+"="+o.seg+"&"+wx+i+"="+o.ts+"&"+Cx+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(xx)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=16384,Tx=45e3;let Ka=null;typeof MozWebSocket<"u"?Ka=MozWebSocket:typeof WebSocket<"u"&&(Ka=WebSocket);class Bt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wo(this.connId),this.stats_=gf(n),this.connURL=Bt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Uv]=mf,typeof location<"u"&&location.hostname&&jv.test(location.hostname)&&(o[Wv]=Hv),n&&(o[$v]=n),r&&(o[Vv]=r),i&&(o[Bc]=i),s&&(o[Gv]=s),Qv(e,qv,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kr.set("previous_websocket_failure",!0);try{let r;Nv(),this.mySock=new Ka(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Bt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ka!==null&&!Bt.forceDisallow_}static previouslyFailed(){return kr.isInMemoryStorage||kr.get("previous_websocket_failure")===!0}markConnectionHealthy(){kr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Js(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Bv(n,bx);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Tx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bt.responsesRequiredToBeHealthy=2;Bt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static get ALL_TRANSPORTS(){return[di,Bt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Bt&&Bt.isAvailable();let r=n&&!Bt.previouslyFailed();if(e.webSocketOnly&&(n||Ze("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bt];else{const i=this.transports_=[];for(const s of to.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);to.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}to.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=6e4,Ix=5e3,Px=10*1024,Ax=100*1024,Nu="t",Zp="d",Ox="s",em="r",Dx="e",tm="o",nm="a",rm="n",im="p",Lx="h";class Mx{constructor(e,n,r,i,s,o,a,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wo("c:"+this.id+":"),this.transportManager_=new to(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Is(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ax?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Px?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nu in e){const n=e[Nu];n===nm?this.upgradeIfSecondaryHealthy_():n===em?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=cs("t",e),r=cs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:im,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=cs("t",e),r=cs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=cs(Nu,e);if(Zp in e){const r=e[Zp];if(n===Lx){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ox?this.onConnectionShutdown_(r):n===em?this.onReset_(r):n===Dx?Fc("Server Error: "+r):n===tm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mf!==r&&Ze("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Is(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Rx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Is(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ix))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:im,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){T(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends r_{static getInstance(){return new Ya}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=32,om=768;class re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function J(){return new re("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function or(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function vf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Fx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function no(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function i_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function we(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){const n=j(t),r=j(e);if(n===null)return e;if(n===r)return Xe(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bx(t,e){const n=no(t,0),r=no(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ur(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function _f(t,e){if(or(t)!==or(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function St(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(or(t)>or(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class zx{constructor(e,n){this.errorPrefix_=n,this.parts_=no(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Rl(this.parts_[r]);s_(this)}}function Ux(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rl(e),s_(t)}function $x(t){const e=t.parts_.pop();t.byteLength_-=Rl(e),t.parts_.length>0&&(t.byteLength_-=1)}function s_(t){if(t.byteLength_>om)throw new Error(t.errorPrefix_+"has a key path longer than "+om+" bytes ("+t.byteLength_+").");if(t.parts_.length>sm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sm+") or object contains a cycle "+_r(t))}function _r(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends r_{static getInstance(){return new Ef}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=1e3,Wx=60*5*1e3,am=30*1e3,Hx=1.3,jx=3e4,Vx="server_kill",lm=3;class _n extends n_{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=_n.nextPersistentConnectionId_++,this.log_=wo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ds,this.maxReconnectDelay_=Wx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Nv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ef.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ya.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Pe(s)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new vo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;_n.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&en(e,"w")){const r=Pi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ze(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=am)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=IS(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fc("Unrecognized action received from server: "+Pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jx&&(this.reconnectDelay_=ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Hx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+_n.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(f){T(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new Mx(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Ze(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Vx)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Ze(f),l())}}}interrupt(e){Ue("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ue("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bp(this.interruptReasons_)&&(this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>pf(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new re(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ue("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lm&&(this.reconnectDelay_=am,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ue("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Lv.replace(/\./g,"-")]=1,xv()?e["framework.cordova"]=1:kS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ya.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&e}}_n.nextPersistentConnectionId_=0;_n.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new V(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new V(Ai,e),i=new V(Ai,n);return this.compare(r,i)!==0}minPost(){return V.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;class o_ extends Il{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,n){return Ur(e.name,n.name)}isDefinedOn(e){throw qi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Or,Yo)}makePost(e,n){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,Yo)}toString(){return".key"}}const wi=new o_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Me{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Me.RED,this.left=i??ot.EMPTY_NODE,this.right=s??ot.EMPTY_NODE}copy(e,n,r,i,s){return new Me(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ot.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ot.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Me.RED=!0;Me.BLACK=!1;class Gx{copy(e,n,r,i,s){return this}insert(e,n,r){return new Me(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ot{constructor(e,n=ot.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ot(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Me.BLACK,null,null))}remove(e){return new ot(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Me.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qo(this.root_,null,this.comparator_,!0,e)}}ot.EMPTY_NODE=new Gx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e){return Ur(t.name,e.name)}function wf(t,e){return Ur(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;function Kx(t){zc=t}const a_=function(t){return typeof t=="number"?"number:"+zv(t):"string:"+t},l_=function(t){if(t.isLeafNode()){const e=t.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&en(e,".sv"),"Priority must be a string or number.")}else T(t===zc||t.isEmpty(),"priority of unexpected type.");T(t===zc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um;class De{static set __childrenNodeConstructor(e){um=e}static get __childrenNodeConstructor(){return um}constructor(e,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),l_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new De(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return G(e)?this:j(e)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=j(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(T(r!==".priority"||or(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+a_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=zv(this.value_):e+=this.value_,this.lazyHash_=Fv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===De.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof De.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=De.VALUE_TYPE_ORDER.indexOf(n),s=De.VALUE_TYPE_ORDER.indexOf(r);return T(i>=0,"Unknown leaf type: "+n),T(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_,c_;function Yx(t){u_=t}function Qx(t){c_=t}class Xx extends Il{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ur(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Or,new De("[PRIORITY-POST]",c_))}makePost(e,n){const r=u_(e);return new V(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ce=new Xx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=Math.log(2);class Zx{constructor(e){const n=s=>parseInt(Math.log(s)/Jx,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qa=function(t,e,n,r){t.sort(e);const i=function(l,u){const d=u-l;let f,h;if(d===0)return null;if(d===1)return f=t[l],h=n?n(f):f,new Me(h,f.node,Me.BLACK,null,null);{const y=parseInt(d/2,10)+l,_=i(l,y),E=i(y+1,u);return f=t[y],h=n?n(f):f,new Me(h,f.node,Me.BLACK,_,E)}},s=function(l){let u=null,d=null,f=t.length;const h=function(_,E){const w=f-_,m=f;f-=_;const p=i(w+1,m),v=t[w],C=n?n(v):v;y(new Me(C,v.node,E,null,p))},y=function(_){u?(u.left=_,u=_):(d=_,u=_)};for(let _=0;_<l.count;++_){const E=l.nextBitIsOne(),w=Math.pow(2,l.count-(_+1));E?h(w,Me.BLACK):(h(w,Me.BLACK),h(w,Me.RED))}return d},o=new Zx(t.length),a=s(o);return new ot(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;const Jr={};class gn{static get Default(){return T(Jr&&Ce,"ChildrenNode.ts has not been loaded"),bu=bu||new gn({".priority":Jr},{".priority":Ce}),bu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Pi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ot?n:null}hasIndex(e){return en(this.indexSet_,e.toString())}addIndex(e,n){T(e!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(V.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Qa(r,e.getCompare()):a=Jr;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new gn(d,u)}addToIndexes(e,n){const r=ja(this.indexes_,(i,s)=>{const o=Pi(this.indexSet_,s);if(T(o,"Missing index implementation for "+s),i===Jr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(V.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Qa(a,o.getCompare())}else return Jr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new V(e.name,a))),l.insert(e,e.node)}});return new gn(r,this.indexSet_)}removeFromIndexes(e,n){const r=ja(this.indexes_,i=>{if(i===Jr)return i;{const s=n.get(e.name);return s?i.remove(new V(e.name,s)):i}});return new gn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fs;class U{static get EMPTY_NODE(){return fs||(fs=new U(new ot(wf),null,gn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&l_(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fs}updatePriority(e){return this.children_.isEmpty()?this:new U(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?fs:n}}getChild(e){const n=j(e);return n===null?this:this.getImmediateChild(n).getChild(ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(T(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new V(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?fs:this.priorityNode_;return new U(i,o,s)}}updateChild(e,n){const r=j(e);if(r===null)return n;{T(j(e)!==".priority"||or(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ae(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ce,(o,a)=>{n[o]=a.val(e),r++,s&&U.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+a_(this.getPriority().val())+":"),this.forEachChild(Ce,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Fv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new V(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new V(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new V(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Co?-1:0}withIndex(e){if(e===wi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ce),i=n.getIterator(Ce);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===wi?null:this.indexMap_.get(e.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eN extends U{constructor(){super(new ot(wf),U.EMPTY_NODE,gn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return U.EMPTY_NODE}isEmpty(){return!1}}const Co=new eN;Object.defineProperties(V,{MIN:{value:new V(Ai,U.EMPTY_NODE)},MAX:{value:new V(Or,Co)}});o_.__EMPTY_NODE=U.EMPTY_NODE;De.__childrenNodeConstructor=U;Kx(Co);Qx(Co);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=!0;function Ie(t,e=null){if(t===null)return U.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new De(n,Ie(e))}if(!(t instanceof Array)&&tN){const n=[];let r=!1;if(He(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ie(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new V(o,l)))}}),n.length===0)return U.EMPTY_NODE;const s=Qa(n,qx,o=>o.name,wf);if(r){const o=Qa(n,Ce.getCompare());return new U(s,Ie(e),new gn({".priority":o},{".priority":Ce}))}else return new U(s,Ie(e),gn.Default)}else{let n=U.EMPTY_NODE;return He(t,(r,i)=>{if(en(t,r)&&r.substring(0,1)!=="."){const s=Ie(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ie(e))}}Yx(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends Il{constructor(e){super(),this.indexPath_=e,T(!G(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ur(e.name,n.name):s}makePost(e,n){const r=Ie(e),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){const e=U.EMPTY_NODE.updateChild(this.indexPath_,Co);return new V(Or,e)}toString(){return no(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends Il{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ur(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){const r=Ie(e);return new V(n,r)}toString(){return".value"}}const iN=new rN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){return{type:"value",snapshotNode:t}}function Oi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ro(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function io(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ro(n,a)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Oi(n,r)):o.trackChildChange(io(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ce,(i,s)=>{n.hasChild(i)||r.trackChildChange(ro(i,s))}),n.isLeafNode()||n.forEachChild(Ce,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(io(i,s,o))}else r.trackChildChange(Oi(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?U.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.indexedFilter_=new Cf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=so.getStartPost_(e),this.endPost_=so.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new V(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);const s=this;return n.forEachChild(Ce,(o,a)=>{s.matches(new V(o,a))||(i=i.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new so(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new V(n,r))||(r=U.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,y)=>f(y,h)}else o=this.index_.getCompare();const a=e;T(a.numChildren()===this.limit_,"");const l=new V(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const y=h==null?1:o(h,l);if(d&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(io(n,r,f)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ro(n,f));const E=a.updateImmediateChild(n,U.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Oi(h.name,h.node)),E.updateImmediateChild(h.name,h.node)):E}}else return r.isEmpty()?e:d&&o(u,l)>=0?(s!=null&&(s.trackChildChange(ro(u.name,u.node)),s.trackChildChange(Oi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,U.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ai}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){const e=new Sf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aN(t){return t.loadsAllData()?new Cf(t.getIndex()):t.hasLimit()?new oN(t):new so(t)}function cm(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ce?n="$priority":t.index_===iN?n="$value":t.index_===wi?n="$key":(T(t.index_ instanceof nN,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ce&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends n_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=wo("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Xa.getListenId_(e,r),a={};this.listens_[o]=a;const l=cm(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,r),Pi(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Xa.getListenId_(e,n);delete this.listens_[r]}get(e){const n=cm(e._queryParams),r=e._path.toString(),i=new vo;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+AS(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Js(a.responseText)}catch{Ze("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ze("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(){return{value:null,children:new Map}}function f_(t,e,n){if(G(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=j(e);t.children.has(r)||t.children.set(r,Ja());const i=t.children.get(r);e=ae(e),f_(i,e,n)}}function Uc(t,e,n){t.value!==null?n(e,t.value):uN(t,(r,i)=>{const s=new re(e.toString()+"/"+r);Uc(i,s,n)})}function uN(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&He(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=10*1e3,dN=30*1e3,fN=5*60*1e3;class hN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cN(e);const r=fm+(dN-fm)*Math.random();Is(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;He(e,(i,s)=>{s>0&&en(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Is(this.reportStats_.bind(this),Math.floor(Math.random()*2*fN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zt||(zt={}));function kf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Nf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zt.ACK_USER_WRITE,this.source=kf()}operationForChild(e){if(G(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(e));return new Za(J(),n,this.revert)}}else return T(j(this.path)===e,"operationForChild called for unrelated child."),new Za(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.source=e,this.path=n,this.type=zt.LISTEN_COMPLETE}operationForChild(e){return G(this.path)?new oo(this.source,J()):new oo(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zt.OVERWRITE}operationForChild(e){return G(this.path)?new Dr(this.source,J(),this.snap.getImmediateChild(e)):new Dr(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zt.MERGE}operationForChild(e){if(G(this.path)){const n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new Dr(this.source,J(),n.value):new Di(this.source,J(),n)}else return T(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Di(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;const n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mN(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(sN(o.childName,o.snapshotNode))}),hs(t,i,"child_removed",e,r,n),hs(t,i,"child_added",e,r,n),hs(t,i,"child_moved",s,r,n),hs(t,i,"child_changed",e,r,n),hs(t,i,"value",e,r,n),i}function hs(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>yN(t,a,l)),o.forEach(a=>{const l=gN(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function gN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function yN(t,e,n){if(e.childName==null||n.childName==null)throw qi("Should only compare child_ events.");const r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){return{eventCache:t,serverCache:e}}function Ps(t,e,n,r){return Pl(new ar(e,n,r),t.serverCache)}function h_(t,e,n,r){return Pl(t.eventCache,new ar(e,n,r))}function el(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Lr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;const vN=()=>(Tu||(Tu=new ot(nx)),Tu);class se{static fromObject(e){let n=new se(null);return He(e,(r,i)=>{n=n.set(new re(r),i)}),n}constructor(e,n=vN()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(G(e))return null;{const r=j(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ae(e),n);return s!=null?{path:we(new re(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{const n=j(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new se(null)}}set(e,n){if(G(e))return new se(n,this.children);{const r=j(e),s=(this.children.get(r)||new se(null)).set(ae(e),n),o=this.children.insert(r,s);return new se(this.value,o)}}remove(e){if(G(e))return this.children.isEmpty()?new se(null):new se(null,this.children);{const n=j(e),r=this.children.get(n);if(r){const i=r.remove(ae(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new se(null):new se(this.value,s)}else return this}}get(e){if(G(e))return this.value;{const n=j(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(G(e))return n;{const r=j(e),s=(this.children.get(r)||new se(null)).setTree(ae(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new se(this.value,o)}}fold(e){return this.fold_(J(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(we(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(G(e))return null;{const s=j(e),o=this.children.get(s);return o?o.findOnPath_(ae(e),we(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,r){if(G(e))return this;{this.value&&r(n,this.value);const i=j(e),s=this.children.get(i);return s?s.foreachOnPath_(ae(e),we(n,i),r):new se(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(we(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.writeTree_=e}static empty(){return new Wt(new se(null))}}function As(t,e,n){if(G(e))return new Wt(new se(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Xe(i,e);return s=s.updateChild(o,n),new Wt(t.writeTree_.set(i,s))}else{const i=new se(n),s=t.writeTree_.setTree(e,i);return new Wt(s)}}}function $c(t,e,n){let r=t;return He(n,(i,s)=>{r=As(r,we(e,i),s)}),r}function hm(t,e){if(G(e))return Wt.empty();{const n=t.writeTree_.setTree(e,new se(null));return new Wt(n)}}function Wc(t,e){return $r(t,e)!=null}function $r(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function pm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ce,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function er(t,e){if(G(e))return t;{const n=$r(t,e);return n!=null?new Wt(new se(n)):new Wt(t.writeTree_.subtree(e))}}function Hc(t){return t.writeTree_.isEmpty()}function Li(t,e){return p_(J(),t.writeTree_,e)}function p_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(T(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=p_(we(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(we(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t,e){return v_(e,t)}function _N(t,e,n,r,i){T(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=As(t.visibleWrites,e,n)),t.lastWriteId=r}function EN(t,e,n,r){T(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=$c(t.visibleWrites,e,n),t.lastWriteId=r}function wN(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function CN(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);T(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&SN(a,r.path)?i=!1:St(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return kN(t),!0;if(r.snap)t.visibleWrites=hm(t.visibleWrites,r.path);else{const a=r.children;He(a,l=>{t.visibleWrites=hm(t.visibleWrites,we(r.path,l))})}return!0}else return!1}function SN(t,e){if(t.snap)return St(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&St(we(t.path,n),e))return!0;return!1}function kN(t){t.visibleWrites=m_(t.allWrites,xN,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function xN(t){return t.visible}function m_(t,e,n){let r=Wt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)St(n,o)?(a=Xe(n,o),r=As(r,a,s.snap)):St(o,n)&&(a=Xe(o,n),r=As(r,J(),s.snap.getChild(a)));else if(s.children){if(St(n,o))a=Xe(n,o),r=$c(r,a,s.children);else if(St(o,n))if(a=Xe(o,n),G(a))r=$c(r,J(),s.children);else{const l=Pi(s.children,j(a));if(l){const u=l.getChild(ae(a));r=As(r,J(),u)}}}else throw qi("WriteRecord should have .snap or .children")}}return r}function g_(t,e,n,r,i){if(!r&&!i){const s=$r(t.visibleWrites,e);if(s!=null)return s;{const o=er(t.visibleWrites,e);if(Hc(o))return n;if(n==null&&!Wc(o,J()))return null;{const a=n||U.EMPTY_NODE;return Li(o,a)}}}else{const s=er(t.visibleWrites,e);if(!i&&Hc(s))return n;if(!i&&n==null&&!Wc(s,J()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(St(u.path,e)||St(e,u.path))},a=m_(t.allWrites,o,e),l=n||U.EMPTY_NODE;return Li(a,l)}}}function NN(t,e,n){let r=U.EMPTY_NODE;const i=$r(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=er(t.visibleWrites,e);return n.forEachChild(Ce,(o,a)=>{const l=Li(er(s,new re(o)),a);r=r.updateImmediateChild(o,l)}),pm(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=er(t.visibleWrites,e);return pm(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function bN(t,e,n,r,i){T(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=we(e,n);if(Wc(t.visibleWrites,s))return null;{const o=er(t.visibleWrites,s);return Hc(o)?i.getChild(n):Li(o,i.getChild(n))}}function TN(t,e,n,r){const i=we(e,n),s=$r(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=er(t.visibleWrites,i);return Li(o,r.getNode().getImmediateChild(n))}else return null}function RN(t,e){return $r(t.visibleWrites,e)}function IN(t,e,n,r,i,s,o){let a;const l=er(t.visibleWrites,e),u=$r(l,J());if(u!=null)a=u;else if(n!=null)a=Li(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=h.getNext();for(;y&&d.length<i;)f(y,r)!==0&&d.push(y),y=h.getNext();return d}else return[]}function PN(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function tl(t,e,n,r){return g_(t.writeTree,t.treePath,e,n,r)}function bf(t,e){return NN(t.writeTree,t.treePath,e)}function mm(t,e,n,r){return bN(t.writeTree,t.treePath,e,n,r)}function nl(t,e){return RN(t.writeTree,we(t.treePath,e))}function AN(t,e,n,r,i,s){return IN(t.writeTree,t.treePath,e,n,r,i,s)}function Tf(t,e,n){return TN(t.writeTree,t.treePath,e,n)}function y_(t,e){return v_(we(t.treePath,e),t.writeTree)}function v_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,io(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ro(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Oi(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,io(r,e.snapshotNode,i.oldSnap));else throw qi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const __=new DN;class Rf{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tf(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Lr(this.viewCache_),s=AN(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){return{filter:t}}function MN(t,e){T(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FN(t,e,n,r,i){const s=new ON;let o,a;if(n.type===zt.OVERWRITE){const u=n;u.source.fromUser?o=jc(t,e,u.path,u.snap,r,i,s):(T(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!G(u.path),o=rl(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===zt.MERGE){const u=n;u.source.fromUser?o=zN(t,e,u.path,u.children,r,i,s):(T(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Vc(t,e,u.path,u.children,r,i,a,s))}else if(n.type===zt.ACK_USER_WRITE){const u=n;u.revert?o=WN(t,e,u.path,r,i,s):o=UN(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===zt.LISTEN_COMPLETE)o=$N(t,e,n.path,r,s);else throw qi("Unknown operation type: "+n.type);const l=s.getChanges();return BN(e,o,l),{viewCache:o,changes:l}}function BN(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=el(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(d_(el(e)))}}function E_(t,e,n,r,i,s){const o=e.eventCache;if(nl(r,n)!=null)return e;{let a,l;if(G(n))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Lr(e),d=u instanceof U?u:U.EMPTY_NODE,f=bf(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=tl(r,Lr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=j(n);if(u===".priority"){T(or(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=mm(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=o.getNode()}else{const d=ae(n);let f;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=mm(r,n,o.getNode(),l);h!=null?f=o.getNode().getImmediateChild(u).updateChild(d,h):f=o.getNode().getImmediateChild(u)}else f=Tf(r,u,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),u,f,d,i,s):a=o.getNode()}}return Ps(e,a,o.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function rl(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(G(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),y,null)}else{const y=j(n);if(!l.isCompleteForPath(n)&&or(n)>1)return e;const _=ae(n),w=l.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?u=d.updatePriority(l.getNode(),w):u=d.updateChild(l.getNode(),y,w,_,__,null)}const f=h_(e,u,l.isFullyInitialized()||G(n),d.filtersNodes()),h=new Rf(i,f,s);return E_(t,f,n,i,h,a)}function jc(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const d=new Rf(i,e,s);if(G(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ps(e,u,!0,t.filter.filtersNodes());else{const f=j(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ps(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=ae(n),y=a.getNode().getImmediateChild(f);let _;if(G(h))_=r;else{const E=d.getCompleteChild(f);E!=null?vf(h)===".priority"&&E.getChild(i_(h)).isEmpty()?_=E:_=E.updateChild(h,r):_=U.EMPTY_NODE}if(y.equals(_))l=e;else{const E=t.filter.updateChild(a.getNode(),f,_,h,d,o);l=Ps(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function gm(t,e){return t.eventCache.isCompleteForChild(e)}function zN(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const d=we(n,l);gm(e,j(d))&&(a=jc(t,a,d,u,i,s,o))}),r.foreach((l,u)=>{const d=we(n,l);gm(e,j(d))||(a=jc(t,a,d,u,i,s,o))}),a}function ym(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Vc(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;G(n)?u=r:u=new se(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const y=e.serverCache.getNode().getImmediateChild(f),_=ym(t,y,h);l=rl(t,l,new re(f),_,i,s,o,a)}}),u.children.inorderTraversal((f,h)=>{const y=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!y){const _=e.serverCache.getNode().getImmediateChild(f),E=ym(t,_,h);l=rl(t,l,new re(f),E,i,s,o,a)}}),l}function UN(t,e,n,r,i,s,o){if(nl(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rl(t,e,n,l.getNode().getChild(n),i,s,a,o);if(G(n)){let u=new se(null);return l.getNode().forEachChild(wi,(d,f)=>{u=u.set(new re(d),f)}),Vc(t,e,n,u,i,s,a,o)}else return e}else{let u=new se(null);return r.foreach((d,f)=>{const h=we(n,d);l.isCompleteForPath(h)&&(u=u.set(d,l.getNode().getChild(h)))}),Vc(t,e,n,u,i,s,a,o)}}function $N(t,e,n,r,i){const s=e.serverCache,o=h_(e,s.getNode(),s.isFullyInitialized()||G(n),s.isFiltered());return E_(t,o,n,r,__,i)}function WN(t,e,n,r,i,s){let o;if(nl(r,n)!=null)return e;{const a=new Rf(r,e,i),l=e.eventCache.getNode();let u;if(G(n)||j(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=tl(r,Lr(e));else{const f=e.serverCache.getNode();T(f instanceof U,"serverChildren would be complete if leaf node"),d=bf(r,f)}d=d,u=t.filter.updateFullNode(l,d,s)}else{const d=j(n);let f=Tf(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?u=t.filter.updateChild(l,d,f,ae(n),a,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,U.EMPTY_NODE,ae(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=tl(r,Lr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||nl(r,J())!=null,Ps(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Cf(r.getIndex()),s=aN(r);this.processor_=LN(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(U.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(U.EMPTY_NODE,a.getNode(),null),d=new ar(l,o.isFullyInitialized(),i.filtersNodes()),f=new ar(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Pl(f,d),this.eventGenerator_=new pN(this.query_)}get query(){return this.query_}}function jN(t){return t.viewCache_.serverCache.getNode()}function VN(t){return el(t.viewCache_)}function GN(t,e){const n=Lr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function vm(t){return t.eventRegistrations_.length===0}function qN(t,e){t.eventRegistrations_.push(e)}function _m(t,e,n){const r=[];if(n){T(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Em(t,e,n,r){e.type===zt.MERGE&&e.source.queryId!==null&&(T(Lr(t.viewCache_),"We should always have a full cache before handling merges"),T(el(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=FN(t.processor_,i,e,n,r);return MN(t.processor_,s.viewCache),T(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,w_(t,s.changes,s.viewCache.eventCache.getNode(),null)}function KN(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ce,(s,o)=>{r.push(Oi(s,o))}),n.isFullyInitialized()&&r.push(d_(n.getNode())),w_(t,r,n.getNode(),e)}function w_(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return mN(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;class C_{constructor(){this.views=new Map}}function YN(t){T(!il,"__referenceConstructor has already been defined"),il=t}function QN(){return T(il,"Reference.ts has not been loaded"),il}function XN(t){return t.views.size===0}function If(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return T(s!=null,"SyncTree gave us an op for an invalid query."),Em(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Em(o,e,n,r));return s}}function S_(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=tl(n,i?r:null),l=!1;a?l=!0:r instanceof U?(a=bf(n,r),l=!1):(a=U.EMPTY_NODE,l=!1);const u=Pl(new ar(a,l,!1),new ar(r,i,!1));return new HN(e,u)}return o}function JN(t,e,n,r,i,s){const o=S_(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qN(o,n),KN(o,n)}function ZN(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=lr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(_m(u,n,r)),vm(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(_m(l,n,r)),vm(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!lr(t)&&s.push(new(QN())(e._repo,e._path)),{removed:s,events:o}}function k_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function tr(t,e){let n=null;for(const r of t.views.values())n=n||GN(r,e);return n}function x_(t,e){if(e._queryParams.loadsAllData())return Ol(t);{const r=e._queryIdentifier;return t.views.get(r)}}function N_(t,e){return x_(t,e)!=null}function lr(t){return Ol(t)!=null}function Ol(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;function eb(t){T(!sl,"__referenceConstructor has already been defined"),sl=t}function tb(){return T(sl,"Reference.ts has not been loaded"),sl}let nb=1;class wm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new se(null),this.pendingWriteTree_=PN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function b_(t,e,n,r,i){return _N(t.pendingWriteTree_,e,n,r,i),i?Qi(t,new Dr(kf(),e,n)):[]}function rb(t,e,n,r){EN(t.pendingWriteTree_,e,n,r);const i=se.fromObject(n);return Qi(t,new Di(kf(),e,i))}function $n(t,e,n=!1){const r=wN(t.pendingWriteTree_,e);if(CN(t.pendingWriteTree_,e)){let s=new se(null);return r.snap!=null?s=s.set(J(),!0):He(r.children,o=>{s=s.set(new re(o),!0)}),Qi(t,new Za(r.path,s,n))}else return[]}function So(t,e,n){return Qi(t,new Dr(xf(),e,n))}function ib(t,e,n){const r=se.fromObject(n);return Qi(t,new Di(xf(),e,r))}function sb(t,e){return Qi(t,new oo(xf(),e))}function ob(t,e,n){const r=Af(t,n);if(r){const i=Of(r),s=i.path,o=i.queryId,a=Xe(s,e),l=new oo(Nf(o),a);return Df(t,s,l)}else return[]}function ol(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||N_(o,e))){const l=ZN(o,e,n,r);XN(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,y)=>lr(y));if(d&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const y=ub(h);for(let _=0;_<y.length;++_){const E=y[_],w=E.query,m=P_(t,E);t.listenProvider_.startListening(Os(w),ao(t,w),m.hashFn,m.onComplete)}}}!f&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(Os(e),null):u.forEach(h=>{const y=t.queryToTagMap.get(Dl(h));t.listenProvider_.stopListening(Os(h),y)}))}cb(t,u)}return a}function T_(t,e,n,r){const i=Af(t,r);if(i!=null){const s=Of(i),o=s.path,a=s.queryId,l=Xe(o,e),u=new Dr(Nf(a),l,n);return Df(t,o,u)}else return[]}function ab(t,e,n,r){const i=Af(t,r);if(i){const s=Of(i),o=s.path,a=s.queryId,l=Xe(o,e),u=se.fromObject(n),d=new Di(Nf(a),l,u);return Df(t,o,d)}else return[]}function Gc(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,y)=>{const _=Xe(h,i);s=s||tr(y,_),o=o||lr(y)});let a=t.syncPointTree_.get(i);a?(o=o||lr(a),s=s||tr(a,J())):(a=new C_,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=U.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,_)=>{const E=tr(_,J());E&&(s=s.updateImmediateChild(y,E))}));const u=N_(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Dl(e);T(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const y=db();t.queryToTagMap.set(h,y),t.tagToQueryMap.set(y,h)}const d=Al(t.pendingWriteTree_,i);let f=JN(a,e,n,d,s,l);if(!u&&!o&&!r){const h=x_(a,e);f=f.concat(fb(t,e,h))}return f}function Pf(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Xe(o,e),u=tr(a,l);if(u)return u});return g_(i,e,s,n,!0)}function lb(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,d)=>{const f=Xe(u,n);r=r||tr(d,f)});let i=t.syncPointTree_.get(n);i?r=r||tr(i,J()):(i=new C_,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ar(r,!0,!1):null,a=Al(t.pendingWriteTree_,e._path),l=S_(i,e,a,s?o.getNode():U.EMPTY_NODE,s);return VN(l)}function Qi(t,e){return R_(e,t.syncPointTree_,null,Al(t.pendingWriteTree_,J()))}function R_(t,e,n,r){if(G(t.path))return I_(t,e,n,r);{const i=e.get(J());n==null&&i!=null&&(n=tr(i,J()));let s=[];const o=j(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,d=y_(r,o);s=s.concat(R_(a,l,u,d))}return i&&(s=s.concat(If(i,t,r,n))),s}}function I_(t,e,n,r){const i=e.get(J());n==null&&i!=null&&(n=tr(i,J()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=y_(r,o),d=t.operationForChild(o);d&&(s=s.concat(I_(d,a,l,u)))}),i&&(s=s.concat(If(i,t,r,n))),s}function P_(t,e){const n=e.query,r=ao(t,n);return{hashFn:()=>(jN(e)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ob(t,n._path,r):sb(t,n._path);{const s=sx(i,n);return ol(t,n,null,s)}}}}function ao(t,e){const n=Dl(e);return t.queryToTagMap.get(n)}function Dl(t){return t._path.toString()+"$"+t._queryIdentifier}function Af(t,e){return t.tagToQueryMap.get(e)}function Of(t){const e=t.indexOf("$");return T(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function Df(t,e,n){const r=t.syncPointTree_.get(e);T(r,"Missing sync point for query tag that we're tracking");const i=Al(t.pendingWriteTree_,e);return If(r,n,i,null)}function ub(t){return t.fold((e,n,r)=>{if(n&&lr(n))return[Ol(n)];{let i=[];return n&&(i=k_(n)),He(r,(s,o)=>{i=i.concat(o)}),i}})}function Os(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tb())(t._repo,t._path):t}function cb(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Dl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function db(){return nb++}function fb(t,e,n){const r=e._path,i=ao(t,e),s=P_(t,n),o=t.listenProvider_.startListening(Os(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)T(!lr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,d,f)=>{if(!G(u)&&d&&lr(d))return[Ol(d).query];{let h=[];return d&&(h=h.concat(k_(d).map(y=>y.query))),He(f,(y,_)=>{h=h.concat(_)}),h}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(Os(d),ao(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Lf(n)}node(){return this.node_}}class Mf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=we(this.path_,e);return new Mf(this.syncTree_,n)}node(){return Pf(this.syncTree_,this.path_)}}const hb=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Cm=function(t,e,n){if(!t||typeof t!="object")return t;if(T(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pb(t[".sv"],e,n);if(typeof t[".sv"]=="object")return mb(t[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pb=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+t)}},mb=function(t,e,n){t.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&T(!1,"Unexpected increment value: "+r);const i=e.node();if(T(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},A_=function(t,e,n,r){return Ff(e,new Mf(n,t),r)},O_=function(t,e,n){return Ff(t,new Lf(e),n)};function Ff(t,e,n){const r=t.getPriority().val(),i=Cm(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Cm(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new De(a,Ie(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new De(i))),o.forEachChild(Ce,(a,l)=>{const u=Ff(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function zf(t,e){let n=e instanceof re?e:new re(e),r=t,i=j(n);for(;i!==null;){const s=Pi(r.node.children,i)||{children:{},childCount:0};r=new Bf(i,r,s),n=ae(n),i=j(n)}return r}function Xi(t){return t.node.value}function D_(t,e){t.node.value=e,qc(t)}function L_(t){return t.node.childCount>0}function gb(t){return Xi(t)===void 0&&!L_(t)}function Ll(t,e){He(t.node.children,(n,r)=>{e(new Bf(n,t,r))})}function M_(t,e,n,r){n&&!r&&e(t),Ll(t,i=>{M_(i,e,!0,r)}),n&&r&&e(t)}function yb(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ko(t){return new re(t.parent===null?t.name:ko(t.parent)+"/"+t.name)}function qc(t){t.parent!==null&&vb(t.parent,t.name,t)}function vb(t,e,n){const r=gb(n),i=en(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=/[\[\].#$\/\u0000-\u001F\u007F]/,Eb=/[\[\].#$\u0000-\u001F\u007F]/,Ru=10*1024*1024,Uf=function(t){return typeof t=="string"&&t.length!==0&&!_b.test(t)},F_=function(t){return typeof t=="string"&&t.length!==0&&!Eb.test(t)},wb=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),F_(t)},Cb=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hf(t)||t&&typeof t=="object"&&en(t,".sv")},Sb=function(t,e,n,r){r&&e===void 0||Ml(Tl(t,"value"),e,n)},Ml=function(t,e,n){const r=n instanceof re?new zx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+_r(r));if(typeof e=="function")throw new Error(t+"contains a function "+_r(r)+" with contents = "+e.toString());if(hf(e))throw new Error(t+"contains "+e.toString()+" "+_r(r));if(typeof e=="string"&&e.length>Ru/3&&Rl(e)>Ru)throw new Error(t+"contains a string greater than "+Ru+" utf8 bytes "+_r(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(He(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Uf(o)))throw new Error(t+" contains an invalid key ("+o+") "+_r(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ux(r,o),Ml(t,a,r),$x(r)}),i&&s)throw new Error(t+' contains ".value" child '+_r(r)+" in addition to actual children.")}},kb=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=no(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Uf(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Bx);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&St(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},xb=function(t,e,n,r){if(r&&e===void 0)return;const i=Tl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];He(e,(o,a)=>{const l=new re(o);if(Ml(i,a,we(n,l)),vf(l)===".priority"&&!Cb(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),kb(i,s)},B_=function(t,e,n,r){if(!(r&&n===void 0)&&!F_(n))throw new Error(Tl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Nb=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),B_(t,e,n,r)},z_=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},bb=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Uf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wb(n))throw new Error(Tl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fl(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!_f(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function U_(t,e,n){Fl(t,n),$_(t,r=>_f(r,e))}function Tt(t,e,n){Fl(t,n),$_(t,r=>St(r,e)||St(e,r))}function $_(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Rb(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Rb(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();br&&Ue("event: "+n.toString()),Yi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="repo_interrupt",Pb=25;class Ab{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ja(),this.transactionQueueTree_=new Bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ob(t,e,n){if(t.stats_=gf(t.repoInfo_),t.forceRestClient_||ux())t.server_=new Xa(t.repoInfo_,(r,i,s,o)=>{Sm(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>km(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _n(t.repoInfo_,e,(r,i,s,o)=>{Sm(t,r,i,s,o)},r=>{km(t,r)},r=>{Lb(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=px(t.repoInfo_,()=>new hN(t.stats_,t.server_)),t.infoData_=new lN,t.infoSyncTree_=new wm({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=So(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),$f(t,"connected",!1),t.serverSyncTree_=new wm({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Tt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Db(t){const n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Bl(t){return hb({timestamp:Db(t)})}function Sm(t,e,n,r,i){t.dataUpdateCount++;const s=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ja(n,u=>Ie(u));o=ab(t.serverSyncTree_,s,l,i)}else{const l=Ie(n);o=T_(t.serverSyncTree_,s,l,i)}else if(r){const l=ja(n,u=>Ie(u));o=ib(t.serverSyncTree_,s,l)}else{const l=Ie(n);o=So(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Mi(t,s)),Tt(t.eventQueue_,a,o)}function km(t,e){$f(t,"connected",e),e===!1&&zb(t)}function Lb(t,e){He(e,(n,r)=>{$f(t,n,r)})}function $f(t,e,n){const r=new re("/.info/"+e),i=Ie(n);t.infoData_.updateSnapshot(r,i);const s=So(t.infoSyncTree_,r,i);Tt(t.eventQueue_,r,s)}function Wf(t){return t.nextWriteId_++}function Mb(t,e,n){const r=lb(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ie(i).withIndex(e._queryParams.getIndex());Gc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=So(t.serverSyncTree_,e._path,s);else{const a=ao(t.serverSyncTree_,e);o=T_(t.serverSyncTree_,e._path,s,a)}return Tt(t.eventQueue_,e._path,o),ol(t.serverSyncTree_,e,n,null,!0),s},i=>(xo(t,"get for query "+Pe(e)+" failed: "+i),Promise.reject(new Error(i))))}function Fb(t,e,n,r,i){xo(t,"set",{path:e.toString(),value:n,priority:r});const s=Bl(t),o=Ie(n,r),a=Pf(t.serverSyncTree_,e),l=O_(o,a,s),u=Wf(t),d=b_(t.serverSyncTree_,e,l,u,!0);Fl(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(h,y)=>{const _=h==="ok";_||Ze("set at "+e+" failed: "+h);const E=$n(t.serverSyncTree_,u,!_);Tt(t.eventQueue_,e,E),Yc(t,i,h,y)});const f=jf(t,e);Mi(t,f),Tt(t.eventQueue_,f,[])}function Bb(t,e,n,r){xo(t,"update",{path:e.toString(),value:n});let i=!0;const s=Bl(t),o={};if(He(n,(a,l)=>{i=!1,o[a]=A_(we(e,a),Ie(l),t.serverSyncTree_,s)}),i)Ue("update() called with empty data.  Don't do anything."),Yc(t,r,"ok",void 0);else{const a=Wf(t),l=rb(t.serverSyncTree_,e,o,a);Fl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,d)=>{const f=u==="ok";f||Ze("update at "+e+" failed: "+u);const h=$n(t.serverSyncTree_,a,!f),y=h.length>0?Mi(t,e):e;Tt(t.eventQueue_,y,h),Yc(t,r,u,d)}),He(n,u=>{const d=jf(t,we(e,u));Mi(t,d)}),Tt(t.eventQueue_,e,[])}}function zb(t){xo(t,"onDisconnectEvents");const e=Bl(t),n=Ja();Uc(t.onDisconnect_,J(),(i,s)=>{const o=A_(i,s,t.serverSyncTree_,e);f_(n,i,o)});let r=[];Uc(n,J(),(i,s)=>{r=r.concat(So(t.serverSyncTree_,i,s));const o=jf(t,i);Mi(t,o)}),t.onDisconnect_=Ja(),Tt(t.eventQueue_,J(),r)}function Ub(t,e,n){let r;j(e._path)===".info"?r=Gc(t.infoSyncTree_,e,n):r=Gc(t.serverSyncTree_,e,n),U_(t.eventQueue_,e._path,r)}function Kc(t,e,n){let r;j(e._path)===".info"?r=ol(t.infoSyncTree_,e,n):r=ol(t.serverSyncTree_,e,n),U_(t.eventQueue_,e._path,r)}function $b(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ib)}function xo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function Yc(t,e,n,r){e&&Yi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function W_(t,e,n){return Pf(t.serverSyncTree_,e,n)||U.EMPTY_NODE}function Hf(t,e=t.transactionQueueTree_){if(e||zl(t,e),Xi(e)){const n=j_(t,e);T(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Wb(t,ko(e),n)}else L_(e)&&Ll(e,n=>{Hf(t,n)})}function Wb(t,e,n){const r=n.map(u=>u.currentWriteId),i=W_(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];T(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Xe(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{xo(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat($n(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();zl(t,zf(t.transactionQueueTree_,e)),Hf(t,t.transactionQueueTree_),Tt(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)Yi(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ze("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Mi(t,e)}},o)}function Mi(t,e){const n=H_(t,e),r=ko(n),i=j_(t,n);return Hb(t,i,r),r}function Hb(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Xe(n,l.path);let d=!1,f;if(T(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,i=i.concat($n(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Pb)d=!0,f="maxretry",i=i.concat($n(t.serverSyncTree_,l.currentWriteId,!0));else{const h=W_(t,l.path,o);l.currentInputSnapshot=h;const y=e[a].update(h.val());if(y!==void 0){Ml("transaction failed: Data returned ",y,l.path);let _=Ie(y);typeof y=="object"&&y!=null&&en(y,".priority")||(_=_.updatePriority(h.getPriority()));const w=l.currentWriteId,m=Bl(t),p=O_(_,h,m);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=p,l.currentWriteId=Wf(t),o.splice(o.indexOf(w),1),i=i.concat(b_(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat($n(t.serverSyncTree_,w,!0))}else d=!0,f="nodata",i=i.concat($n(t.serverSyncTree_,l.currentWriteId,!0))}Tt(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}zl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Yi(r[a]);Hf(t,t.transactionQueueTree_)}function H_(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&Xi(r)===void 0;)r=zf(r,n),e=ae(e),n=j(e);return r}function j_(t,e){const n=[];return V_(t,e,n),n.sort((r,i)=>r.order-i.order),n}function V_(t,e,n){const r=Xi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ll(e,i=>{V_(t,i,n)})}function zl(t,e){const n=Xi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,D_(e,n.length>0?n:void 0)}Ll(e,r=>{zl(t,r)})}function jf(t,e){const n=ko(H_(t,e)),r=zf(t.transactionQueueTree_,e);return yb(r,i=>{Iu(t,i)}),Iu(t,r),M_(r,i=>{Iu(t,i)}),n}function Iu(t,e){const n=Xi(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($n(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?D_(e,void 0):n.length=s+1,Tt(t.eventQueue_,ko(e),i);for(let o=0;o<r.length;o++)Yi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Vb(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ze(`Invalid query segment '${n}' in query '${t}'`)}return e}const xm=function(t,e){const n=Gb(t),r=n.namespace;n.domain==="firebase.com"&&Nn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ex();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Yv(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new re(n.pathString)}},Gb=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=jb(t.substring(d,f)));const h=Vb(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class q_{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return G(this._path)?null:vf(this._path)}get ref(){return new tn(this._repo,this._path)}get _queryIdentifier(){const e=dm(this._queryParams),n=pf(e);return n==="{}"?"default":n}get _queryObject(){return dm(this._queryParams)}isEqual(e){if(e=Ki(e),!(e instanceof Gf))return!1;const n=this._repo===e._repo,r=_f(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Fx(this._path)}}class tn extends Gf{constructor(e,n){super(e,n,new Sf,!1)}get parent(){const e=i_(this._path);return e===null?null:new tn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new re(e),r=al(this.ref,e);return new Fi(this._node.getChild(n),r,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Fi(i,al(this.ref,r),Ce)))}hasChild(e){const n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wn(t,e){return t=Ki(t),t._checkNotDeleted("ref"),e!==void 0?al(t._root,e):t._root}function al(t,e){return t=Ki(t),j(t._path)===null?Nb("child","path",e,!1):B_("child","path",e,!1),new tn(t._repo,we(t._path,e))}function Qc(t){return z_("remove",t._path),K_(t,null)}function K_(t,e){t=Ki(t),z_("set",t._path),Sb("set",e,t._path,!1);const n=new vo;return Fb(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function qb(t,e){xb("update",e,t._path,!1);const n=new vo;return Bb(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Kb(t){t=Ki(t);const e=new Vf(()=>{}),n=new No(e);return Mb(t._repo,t,n).then(r=>new Fi(r,new tn(t._repo,t._path),t._queryParams.getIndex()))}class No{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new G_("value",this,new Fi(e.snapshotNode,new tn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new q_(this,e,n):null}matches(e){return e instanceof No?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ul{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new q_(this,e,n):null}createEvent(e,n){T(e.childName!=null,"Child events should have a childName.");const r=al(new tn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new G_(e.type,this,new Fi(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ul?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Yb(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(d,f)=>{Kc(t._repo,t,a),l(d,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new Vf(n,s||void 0),a=e==="value"?new No(o):new Ul(e,o);return Ub(t._repo,t,a),()=>Kc(t._repo,t,a)}function qf(t,e,n,r){return Yb(t,"value",e,n,r)}function Y_(t,e,n){let r=null;const i=n?new Vf(n):null;e==="value"?r=new No(i):e&&(r=new Ul(e,i)),Kc(t._repo,t,r)}YN(tn);eb(tn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="FIREBASE_DATABASE_EMULATOR_HOST",Xc={};let Xb=!1;function Jb(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=df(s);t.repoInfo_=new Yv(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Zb(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=xm(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Qb]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=xm(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new Ei(Ei.OWNER):new dx(t.name,t.options,e);bb("Invalid Firebase Database URL",o),G(o.path)||Nn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=tT(a,t,d,new cx(t,n));return new nT(f,t)}function eT(t,e){const n=Xc[e];(!n||n[t.key]!==t)&&Nn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$b(t),delete n[t.key]}function tT(t,e,n,r){let i=Xc[e.name];i||(i={},Xc[e.name]=i);let s=i[t.toURLString()];return s&&Nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ab(t,Xb,n,r),i[t.toURLString()]=s,s}class nT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ob(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tn(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Nn("Cannot call "+e+" on a deleted database.")}}function rT(t=Mk(),e){const n=Pk(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=yS("database");r&&iT(n,...r)}return n}function iT(t,e,n,r={}){t=Ki(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Va(r,s.repoInfo_.emulatorOptions))return;Nn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ei(Ei.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:_S(r.mockUserToken,t.app.options.projectId);o=new Ei(a)}df(e)&&(vS(e),CS("Database",!0)),Jb(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){Yk(Lk),qa(new Zs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Zb(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),vi(Kp,Yp,t),vi(Kp,Yp,"esm2017")}_n.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_n.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sT();const oT={apiKey:"AIzaSyAdCkNDNjnrusXg6blO7z02EkhCiezpvdY",authDomain:"ai-powered-digital-marke-fc7af.firebaseapp.com",databaseURL:"https://ai-powered-digital-marke-fc7af-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ai-powered-digital-marke-fc7af",storageBucket:"ai-powered-digital-marke-fc7af.appspot.com",messagingSenderId:"552564748664",appId:"1:552564748664:web:94c3eb9a66f8e76fc6188d",measurementId:"G-M9V60YDLGY"},aT=Av(oT),Hn=rT(aT);const lT=({user:t,isOpen:e,onClose:n})=>!e||!t?null:c.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},c.createElement("div",{style:{background:"#fff",padding:24,borderRadius:8,minWidth:320,maxWidth:500,position:"relative"}},c.createElement("button",{onClick:n,style:{position:"absolute",top:8,right:8}},"Close"),c.createElement("h2",null,"User Details"),Object.entries(t).map(([r,i])=>c.createElement("div",{key:r},c.createElement("strong",null,r,":")," ",String(i))))),Q_=({account:t,onAccept:e,onReject:n,onDelete:r})=>{const[i,s]=g.useState(!1);return c.createElement(c.Fragment,null,c.createElement("div",{className:"account-card",onClick:()=>s(!0),style:{cursor:"pointer"}},c.createElement("div",{className:"account-info"},c.createElement("strong",null,t.firstName," ",t.lastName)," (",t.role,")",c.createElement("br",null),c.createElement("span",null,t.email)),c.createElement("div",{className:"account-actions"},r?c.createElement("button",{className:"delete-btn",onClick:o=>{o.stopPropagation(),r()}},"Delete"):c.createElement(c.Fragment,null,c.createElement("button",{className:"accept-btn",onClick:o=>{o.stopPropagation(),e()}},"Accept"),c.createElement("button",{className:"reject-btn",onClick:o=>{o.stopPropagation(),n()}},"Reject")))),c.createElement(lT,{user:t,isOpen:i,onClose:()=>s(!1)}))},uT=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0);g.useEffect(()=>{const o=Wn(Hn,"ApprovalofAccounts");Kb(o).then(l=>{const u=l.val();if(u){const d=Object.entries(u).map(([f,h])=>({key:f,...h}));e(d)}else e([]);r(!1)}).catch(l=>{console.error("Error fetching initial data:",l),r(!1)});const a=qf(o,l=>{const u=l.val();if(u){const d=Object.entries(u).map(([f,h])=>({key:f,...h}));e(d)}else e([])});return()=>{Y_(o,"value",a)}},[]);const i=o=>{const a=Wn(Hn,`${o.role}/${o.key}`);K_(a,o).then(()=>{const l=Wn(Hn,`ApprovalofAccounts/${o.key}`);Qc(l)}).catch(l=>console.error("Error approving account:",l))},s=o=>{const a=Wn(Hn,`ApprovalofAccounts/${o}`);Qc(a).catch(l=>console.error("Error rejecting account:",l))};return n?c.createElement("div",null,"Loading..."):c.createElement("div",{className:"approval-page-container"},t.length===0?c.createElement("div",{style:{textAlign:"center",marginTop:"2rem",color:"#888",fontSize:"1.2rem"}},"No accounts pending approval."):c.createElement("div",{className:"accounts-list"},c.createElement("h2",null,"Pending Accounts"),t.map(o=>c.createElement(Q_,{key:o.key,account:o,onAccept:()=>i(o),onReject:()=>s(o.key)}))))},cT=()=>JSON.parse(localStorage.getItem("user")),Nm=({children:t})=>{const{user:e}=Gi(),n=cT();return console.log("AdminRoute: user from context",e),console.log("AdminRoute: user from localStorage",n),!n||n.role!=="Admin"||!e||e.role!=="Admin"?c.createElement(cv,{to:"/login",replace:!0}):t},bm=["ContentCreator","MarketingLead","GraphicDesigner"],dT=()=>{const[t,e]=g.useState({}),[n,r]=g.useState(!0);g.useEffect(()=>{const o=[];return r(!0),bm.forEach(a=>{const l=Wn(Hn,a),u=qf(l,d=>{const f=d.val();e(h=>({...h,[a]:f?Object.entries(f).map(([y,_])=>({key:y,..._,role:a})):[]})),r(!1)});o.push({ref:l,listener:u})}),()=>{o.forEach(({ref:a,listener:l})=>Y_(a,"value",l))}},[]);const i=(o,a)=>{const l=Wn(Hn,`${o}/${a}`);Qc(l).catch(u=>console.error("Error deleting account:",u))};if(n)return c.createElement("div",null,"Loading...");const s=Object.values(t).some(o=>o&&o.length>0);return c.createElement("div",{className:"manage-accounts-page-container"},!s&&c.createElement("div",{style:{textAlign:"center",marginTop:"2rem",color:"#888",fontSize:"1.2rem"}},"No accounts found."),bm.map(o=>t[o]&&t[o].length>0&&c.createElement("div",{key:o,className:"role-section"},c.createElement("h2",null,o),t[o].map(a=>c.createElement(Q_,{key:a.key,account:a,onDelete:()=>i(o,a.key)})))))};const $l=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!1),i=zr();g.useEffect(()=>{const l=Wn(Hn,"AdminNotification"),u=qf(l,d=>{const f=d.val()||{},h=Object.entries(f).map(([y,_])=>({id:y,..._}));e(h.reverse())});return()=>u()},[]);const s=t.filter(l=>!l.read).length,o=()=>{r(l=>!l)},a=l=>{if(!l.read){const u=Wn(Hn,`AdminNotification/${l.id}`);qb(u,{read:!0})}l.type==="approval_needed"&&i("/admin/approval")};return c.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},c.createElement("button",{onClick:o,style:{fontSize:"24px",position:"relative",background:"none",border:"none",cursor:"pointer",marginRight:"20px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},"aria-label":"Notifications"},c.createElement(GC,null),s>0&&c.createElement("span",{style:{position:"absolute",top:"6px",right:"6px",background:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"12px",fontWeight:"bold",minWidth:"18px",textAlign:"center",lineHeight:"16px"}},s)),n&&c.createElement("div",{style:{position:"absolute",right:0,top:"40px",background:"white",border:"1px solid #ccc",borderRadius:"4px",width:"320px",zIndex:100,maxHeight:"350px",overflowY:"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}},c.createElement("ul",{style:{listStyle:"none",margin:0,padding:0}},t.length===0&&c.createElement("li",{style:{padding:"16px",textAlign:"center",color:"#888"}},"No notifications"),t.map(l=>c.createElement("li",{key:l.id,onClick:()=>a(l),style:{padding:"12px 16px",background:l.read?"#f9f9f9":"#e6f7ff",borderBottom:"1px solid #eee",fontSize:"15px",cursor:"pointer",fontWeight:l.read?"normal":"bold",display:"flex",justifyContent:"space-between",alignItems:"center"}},c.createElement("div",null,c.createElement("div",null,l.message),c.createElement("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"}},l.timestamp?new Date(l.timestamp).toLocaleString():"")),c.createElement("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"}},l.read?"Read":c.createElement("span",{style:{color:"#f44336"}},"Unread")))))))},fT=()=>{const{user:t,setUser:e}=Gi(),n=(t==null?void 0:t.name)||"Admin",r=(t==null?void 0:t.role)||"role",[i,s]=g.useState(!1),[o,a]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=It();g.useEffect(()=>{function h(y){l.current&&!l.current.contains(y.target)&&s(!1),u.current&&!u.current.contains(y.target)&&a(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const f=()=>{e(null),localStorage.removeItem("user"),console.log("User after logout (context):",t),console.log("User in localStorage after logout:",localStorage.getItem("user")),window.location.replace("/login")};return c.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},c.createElement("div",{className:"sidebar"},c.createElement("div",{className:"logo",style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.createElement("img",{src:"/assets/issalonlogo.jpg",alt:"infinitysalon",style:{display:"block",margin:"0 auto",maxWidth:"100%",height:"auto"}})),c.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:24}},c.createElement("div",{className:"user-profile"},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile"},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),c.createElement("div",{className:"user-info"},c.createElement("div",{className:"user-name"},n),c.createElement("div",{className:"user-role"},r))),c.createElement("hr",{style:{position:"absolute",left:"-24px",right:"-24px",border:"none",borderTop:"1px solid #e0e0e0",margin:0,width:"calc(100% + 48px)"}})),c.createElement("hr",{style:{border:"none",borderTop:"1px solid #e0e0e0",margin:"0 0 24px 0",width:"100%"}}),c.createElement("nav",{className:"navigation"},c.createElement(mn,{to:"/admin",className:`nav-item${d.pathname==="/admin"?" active":""}`},"Dashboard"),c.createElement(mn,{to:"/admin/approval",className:`nav-item${d.pathname==="/admin/approval"?" active":""}`},"Approval of Accounts"),c.createElement(mn,{to:"/admin/manage",className:`nav-item${d.pathname==="/admin/manage"?" active":""}`},"Manage Accounts"),c.createElement(mn,{to:"/admin/socials",className:`nav-item${d.pathname==="/admin/socials"?" active":""}`},"Socials & Insights"))),c.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:64,background:"#fafafa",borderBottom:"1px solid #e0e0e0",padding:"0 24px",position:"relative",flexShrink:0}},c.createElement($l,{style:{marginRight:"20px"}}),c.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:u},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>a(h=>!h)},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),o&&c.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",borderRadius:8,minWidth:160,zIndex:10}},c.createElement("button",{style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},c.createElement(bl,{style:{marginRight:8}})," Settings"),c.createElement("button",{onClick:f,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},c.createElement(Nl,{style:{marginRight:8}})," Logout")))),c.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},c.createElement(yo,null)))),c.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},c.createElement("div",{className:"admin-dashboard-footer-container"},c.createElement("div",{className:"admin-dashboard-footer-left"},c.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})),c.createElement("div",{className:"admin-dashboard-footer-links"},c.createElement("svg",{className:"admin-dashboard-facebook-icon",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Terms & Condition"),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Policy Privacy")))))},hT=[{label:"Dashboard",path:"/marketing/dashboard"},{label:"Content Calendar",path:"/marketing/content-calendar"},{label:"Set Task (Content Creator)",path:"/marketing/set-task"},{label:"Set Task (Graphic Designer)",path:"/marketing/set-task-graphic-designer"},{label:"Ongoing Task",path:"/marketing/ongoing-task"},{label:"Set Schedule",path:"/marketing/set-schedule"},{label:"Ongoing Schedule",path:"/marketing/ongoing-schedule"},{label:"Approval of Contents",path:"/marketing/approval"},{label:"Approved Contents",path:"/marketing/approved"},{label:"Posted Content",path:"/marketing/posted-content"}];function pT(){const{user:t,setUser:e}=Gi(),n=(t==null?void 0:t.name)||"Marketing Lead",r=(t==null?void 0:t.role)||"role",[i,s]=g.useState(!1),o=g.useRef(null),a=It();g.useEffect(()=>{function u(d){o.current&&!o.current.contains(d.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=()=>{e(null),localStorage.removeItem("user"),window.location.replace("/login")};return c.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},c.createElement("div",{className:"sidebar",style:{maxHeight:"calc(100vh - 60px)",overflowY:"auto",flexShrink:0}},c.createElement("div",{className:"logo",style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.createElement("img",{src:"/assets/issalonlogo.jpg",alt:"infinitysalon",style:{display:"block",margin:"0 auto",maxWidth:"100%",height:"auto"}})),c.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:24}},c.createElement("div",{className:"user-profile"},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile"},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),c.createElement("div",{className:"user-info"},c.createElement("div",{className:"user-name"},n),c.createElement("div",{className:"user-role"},r.charAt(0).toUpperCase()+r.slice(1)))),c.createElement("hr",{style:{position:"absolute",left:"-24px",right:"-24px",border:"none",borderTop:"1px solid #e0e0e0",margin:0,width:"calc(100% + 48px)"}})),c.createElement("hr",{style:{border:"none",borderTop:"1px solid #e0e0e0",margin:"0 0 24px 0",width:"100%"}}),c.createElement("nav",{className:"navigation"},hT.map(u=>c.createElement(mn,{key:u.path,to:u.path,className:`nav-item${a.pathname===u.path?" active":""}`},u.label)))),c.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:64,background:"#fafafa",borderBottom:"1px solid #e0e0e0",padding:"0 24px",position:"relative",flexShrink:0}},c.createElement($l,{role:"MarketingLead",style:{marginRight:"20px"}}),c.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:o},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>s(u=>!u)},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),i&&c.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",borderRadius:8,minWidth:160,zIndex:10}},c.createElement("button",{style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},c.createElement(bl,{style:{marginRight:8}})," Settings"),c.createElement("button",{onClick:l,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},c.createElement(Nl,{style:{marginRight:8}})," Logout")))),c.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},c.createElement(yo,null)))),c.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},c.createElement("div",{className:"admin-dashboard-footer-container"},c.createElement("div",{className:"admin-dashboard-footer-left"},c.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})),c.createElement("div",{className:"admin-dashboard-footer-links"},c.createElement("svg",{className:"admin-dashboard-facebook-icon",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Terms & Condition"),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Policy Privacy")))))}function Tm(){return c.createElement("div",null,c.createElement("h2",null,"Marketing Lead Dashboard"),c.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function mT(){return c.createElement("div",null,c.createElement("h2",null,"Content Calendar"),c.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function gT(){return c.createElement("div",null,c.createElement("h2",null,"Approval of Contents"),c.createElement("div",{style:{marginTop:24}},"This page is currently not in use. Please use the Ongoing Task page for content management."))}function yT(){return c.createElement("div",null,c.createElement("h2",null,"Approved Contents"),c.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function ur(t){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(t)}function vT(t,e){if(ur(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ur(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _T(t){var e=vT(t,"string");return ur(e)=="symbol"?e:e+""}function kt(t,e,n){return(e=_T(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rm(Object(n),!0).forEach(function(r){kt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ET(t){if(Array.isArray(t))return Jc(t)}function wT(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X_(t,e){if(t){if(typeof t=="string")return Jc(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jc(t,e):void 0}}function CT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(t){return ET(t)||wT(t)||X_(t)||CT()}function ST(t){if(Array.isArray(t))return t}function kT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ze(t,e){return ST(t)||kT(t,e)||X_(t,e)||xT()}var J_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(J_);var NT=J_.exports;const Mr=Hm(NT);function Ci(t){var e=g.useRef();e.current=t;var n=g.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return n}function bT(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Im=bT()?g.useLayoutEffect:g.useEffect,Z_=function(e,n){var r=g.useRef(!0);Im(function(){return e(r.current)},n),Im(function(){return r.current=!1,function(){r.current=!0}},[])},Pm=function(e,n){Z_(function(r){if(!r)return e()},n)};function Am(t){var e=g.useRef(!1),n=g.useState(t),r=ze(n,2),i=r[0],s=r[1];g.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,l){l&&e.current||s(a)}return[i,o]}function Pu(t){return t!==void 0}function TT(t,e){var n=e||{},r=n.defaultValue,i=n.value,s=n.onChange,o=n.postState,a=Am(function(){return Pu(i)?i:Pu(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=ze(a,2),u=l[0],d=l[1],f=i!==void 0?i:u,h=o?o(f):f,y=Ci(s),_=Am([f]),E=ze(_,2),w=E[0],m=E[1];Pm(function(){var v=w[0];u!==v&&y(u,v)},[w]),Pm(function(){Pu(i)||d(i)},[i]);var p=Ci(function(v,C){d(v,C),m([f],C)});return[h,p]}var Zc={},RT=function(e){};function IT(t,e){}function PT(t,e){}function AT(){Zc={}}function e0(t,e,n){!e&&!Zc[n]&&(t(!1,n),Zc[n]=!0)}function Bi(t,e){e0(IT,t,e)}function OT(t,e){e0(PT,t,e)}Bi.preMessage=RT;Bi.resetWarned=AT;Bi.noteOnce=OT;function DT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(s);if(Bi(!l,"Warning: There may be circular references"),l)return!1;if(s===o)return!0;if(n&&a>1)return!1;r.add(s);var u=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var d=0;d<s.length;d++)if(!i(s[d],o[d],u))return!1;return!0}if(s&&o&&ur(s)==="object"&&ur(o)==="object"){var f=Object.keys(s);return f.length!==Object.keys(o).length?!1:f.every(function(h){return i(s[h],o[h],u)})}return!1}return i(t,e)}function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lo.apply(null,arguments)}function LT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function t0(t,e){if(t==null)return{};var n,r,i=LT(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ed(t,e,n){return(t-e)/(n-e)}function Kf(t,e,n,r){var i=ed(e,n,r),s={};switch(t){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function Er(t,e){return Array.isArray(t)?t[e]:t}var O={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=O.F1&&n<=O.F12)return!1;switch(n){case O.ALT:case O.CAPS_LOCK:case O.CONTEXT_MENU:case O.CTRL:case O.DOWN:case O.END:case O.ESC:case O.HOME:case O.INSERT:case O.LEFT:case O.MAC_FF_META:case O.META:case O.NUMLOCK:case O.NUM_CENTER:case O.PAGE_DOWN:case O.PAGE_UP:case O.PAUSE:case O.PRINT_SCREEN:case O.RIGHT:case O.SHIFT:case O.UP:case O.WIN_KEY:case O.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=O.ZERO&&e<=O.NINE||e>=O.NUM_ZERO&&e<=O.NUM_MULTIPLY||e>=O.A&&e<=O.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case O.SPACE:case O.QUESTION_MARK:case O.NUM_PLUS:case O.NUM_MINUS:case O.NUM_PERIOD:case O.NUM_DIVISION:case O.SEMICOLON:case O.DASH:case O.EQUALS:case O.COMMA:case O.PERIOD:case O.SLASH:case O.APOSTROPHE:case O.SINGLE_QUOTE:case O.OPEN_SQUARE_BRACKET:case O.BACKSLASH:case O.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Wr=g.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),MT=g.createContext({}),FT=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Om=g.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,i=t.valueIndex,s=t.onStartMove,o=t.onDelete,a=t.style,l=t.render,u=t.dragging,d=t.draggingDelete,f=t.onOffsetChange,h=t.onChangeComplete,y=t.onFocus,_=t.onMouseEnter,E=t0(t,FT),w=g.useContext(Wr),m=w.min,p=w.max,v=w.direction,C=w.disabled,S=w.keyboard,x=w.range,b=w.tabIndex,I=w.ariaLabelForHandle,A=w.ariaLabelledByForHandle,R=w.ariaRequired,k=w.ariaValueTextFormatterForHandle,F=w.styles,$=w.classNames,he="".concat(n,"-handle"),Se=function(M){C||s(M,i)},be=function(M){y==null||y(M,i)},ue=function(M){_(M,i)},P=function(M){if(!C&&S){var L=null;switch(M.which||M.keyCode){case O.LEFT:L=v==="ltr"||v==="btt"?-1:1;break;case O.RIGHT:L=v==="ltr"||v==="btt"?1:-1;break;case O.UP:L=v!=="ttb"?1:-1;break;case O.DOWN:L=v!=="ttb"?-1:1;break;case O.HOME:L="min";break;case O.END:L="max";break;case O.PAGE_UP:L=2;break;case O.PAGE_DOWN:L=-2;break;case O.BACKSPACE:case O.DELETE:o(i);break}L!==null&&(M.preventDefault(),f(L,i))}},B=function(M){switch(M.which||M.keyCode){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:case O.HOME:case O.END:case O.PAGE_UP:case O.PAGE_DOWN:h==null||h();break}},W=Kf(v,r,m,p),Y={};if(i!==null){var Z;Y={tabIndex:C?null:Er(b,i),role:"slider","aria-valuemin":m,"aria-valuemax":p,"aria-valuenow":r,"aria-disabled":C,"aria-label":Er(I,i),"aria-labelledby":Er(A,i),"aria-required":Er(R,i),"aria-valuetext":(Z=Er(k,i))===null||Z===void 0?void 0:Z(r),"aria-orientation":v==="ltr"||v==="rtl"?"horizontal":"vertical",onMouseDown:Se,onTouchStart:Se,onFocus:be,onMouseEnter:ue,onKeyDown:P,onKeyUp:B}}var ee=g.createElement("div",lo({ref:e,className:Mr(he,kt(kt(kt({},"".concat(he,"-").concat(i+1),i!==null&&x),"".concat(he,"-dragging"),u),"".concat(he,"-dragging-delete"),d),$.handle),style:qe(qe(qe({},W),a),F.handle)},Y,E));return l&&(ee=l(ee,{index:i,prefixCls:n,value:r,dragging:u,draggingDelete:d})),ee}),BT=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],zT=g.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,s=t.onOffsetChange,o=t.values,a=t.handleRender,l=t.activeHandleRender,u=t.draggingIndex,d=t.draggingDelete,f=t.onFocus,h=t0(t,BT),y=g.useRef({}),_=g.useState(!1),E=ze(_,2),w=E[0],m=E[1],p=g.useState(-1),v=ze(p,2),C=v[0],S=v[1],x=function(k){S(k),m(!0)},b=function(k,F){x(F),f==null||f(k)},I=function(k,F){x(F)};g.useImperativeHandle(e,function(){return{focus:function(k){var F;(F=y.current[k])===null||F===void 0||F.focus()},hideHelp:function(){ev.flushSync(function(){m(!1)})}}});var A=qe({prefixCls:n,onStartMove:i,onOffsetChange:s,render:a,onFocus:b,onMouseEnter:I},h);return g.createElement(g.Fragment,null,o.map(function(R,k){var F=u===k;return g.createElement(Om,lo({ref:function(he){he?y.current[k]=he:delete y.current[k]},dragging:F,draggingDelete:F&&d,style:Er(r,k),key:k,value:R,valueIndex:k},A))}),l&&w&&g.createElement(Om,lo({key:"a11y"},A,{value:o[C],valueIndex:null,dragging:u!==-1,draggingDelete:d,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),UT=function(e){var n=e.prefixCls,r=e.style,i=e.children,s=e.value,o=e.onClick,a=g.useContext(Wr),l=a.min,u=a.max,d=a.direction,f=a.includedStart,h=a.includedEnd,y=a.included,_="".concat(n,"-text"),E=Kf(d,s,l,u);return g.createElement("span",{className:Mr(_,kt({},"".concat(_,"-active"),y&&f<=s&&s<=h)),style:qe(qe({},E),r),onMouseDown:function(m){m.stopPropagation()},onClick:function(){o(s)}},i)},$T=function(e){var n=e.prefixCls,r=e.marks,i=e.onClick,s="".concat(n,"-mark");return r.length?g.createElement("div",{className:s},r.map(function(o){var a=o.value,l=o.style,u=o.label;return g.createElement(UT,{key:a,prefixCls:s,style:l,value:a,onClick:i},u)})):null},WT=function(e){var n=e.prefixCls,r=e.value,i=e.style,s=e.activeStyle,o=g.useContext(Wr),a=o.min,l=o.max,u=o.direction,d=o.included,f=o.includedStart,h=o.includedEnd,y="".concat(n,"-dot"),_=d&&f<=r&&r<=h,E=qe(qe({},Kf(u,r,a,l)),typeof i=="function"?i(r):i);return _&&(E=qe(qe({},E),typeof s=="function"?s(r):s)),g.createElement("span",{className:Mr(y,kt({},"".concat(y,"-active"),_)),style:E})},HT=function(e){var n=e.prefixCls,r=e.marks,i=e.dots,s=e.style,o=e.activeStyle,a=g.useContext(Wr),l=a.min,u=a.max,d=a.step,f=g.useMemo(function(){var h=new Set;if(r.forEach(function(_){h.add(_.value)}),i&&d!==null)for(var y=l;y<=u;)h.add(y),y+=d;return Array.from(h)},[l,u,d,i,r]);return g.createElement("div",{className:"".concat(n,"-step")},f.map(function(h){return g.createElement(WT,{prefixCls:n,key:h,value:h,style:s,activeStyle:o})}))},Dm=function(e){var n=e.prefixCls,r=e.style,i=e.start,s=e.end,o=e.index,a=e.onStartMove,l=e.replaceCls,u=g.useContext(Wr),d=u.direction,f=u.min,h=u.max,y=u.disabled,_=u.range,E=u.classNames,w="".concat(n,"-track"),m=ed(i,f,h),p=ed(s,f,h),v=function(b){!y&&a&&a(b,-1)},C={};switch(d){case"rtl":C.right="".concat(m*100,"%"),C.width="".concat(p*100-m*100,"%");break;case"btt":C.bottom="".concat(m*100,"%"),C.height="".concat(p*100-m*100,"%");break;case"ttb":C.top="".concat(m*100,"%"),C.height="".concat(p*100-m*100,"%");break;default:C.left="".concat(m*100,"%"),C.width="".concat(p*100-m*100,"%")}var S=l||Mr(w,kt(kt({},"".concat(w,"-").concat(o+1),o!==null&&_),"".concat(n,"-track-draggable"),a),E.track);return g.createElement("div",{className:S,style:qe(qe({},C),r),onMouseDown:v,onTouchStart:v})},jT=function(e){var n=e.prefixCls,r=e.style,i=e.values,s=e.startPoint,o=e.onStartMove,a=g.useContext(Wr),l=a.included,u=a.range,d=a.min,f=a.styles,h=a.classNames,y=g.useMemo(function(){if(!u){if(i.length===0)return[];var E=s??d,w=i[0];return[{start:Math.min(E,w),end:Math.max(E,w)}]}for(var m=[],p=0;p<i.length-1;p+=1)m.push({start:i[p],end:i[p+1]});return m},[i,u,s,d]);if(!l)return null;var _=y!=null&&y.length&&(h.tracks||f.tracks)?g.createElement(Dm,{index:null,prefixCls:n,start:y[0].start,end:y[y.length-1].end,replaceCls:Mr(h.tracks,"".concat(n,"-tracks")),style:f.tracks}):null;return g.createElement(g.Fragment,null,_,y.map(function(E,w){var m=E.start,p=E.end;return g.createElement(Dm,{index:w,prefixCls:n,style:qe(qe({},Er(r,w)),f.track),start:m,end:p,key:w,onStartMove:o})}))},VT=130;function Lm(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function GT(t,e,n,r,i,s,o,a,l,u,d){var f=g.useState(null),h=ze(f,2),y=h[0],_=h[1],E=g.useState(-1),w=ze(E,2),m=w[0],p=w[1],v=g.useState(!1),C=ze(v,2),S=C[0],x=C[1],b=g.useState(n),I=ze(b,2),A=I[0],R=I[1],k=g.useState(n),F=ze(k,2),$=F[0],he=F[1],Se=g.useRef(null),be=g.useRef(null),ue=g.useRef(null),P=g.useContext(MT),B=P.onDragStart,W=P.onDragChange;Z_(function(){m===-1&&R(n)},[n,m]),g.useEffect(function(){return function(){document.removeEventListener("mousemove",Se.current),document.removeEventListener("mouseup",be.current),ue.current&&(ue.current.removeEventListener("touchmove",Se.current),ue.current.removeEventListener("touchend",be.current))}},[]);var Y=function(L,ce,nt){ce!==void 0&&_(ce),R(L);var ct=L;nt&&(ct=L.filter(function(Te,rt){return rt!==m})),o(ct),W&&W({rawValues:L,deleteIndex:nt?m:-1,draggingIndex:m,draggingValue:ce})},Z=Ci(function(M,L,ce){if(M===-1){var nt=$[0],ct=$[$.length-1],Te=r-nt,rt=i-ct,Pt=L*(i-r);Pt=Math.max(Pt,Te),Pt=Math.min(Pt,rt);var Hr=s(nt+Pt);Pt=Hr-nt;var nn=$.map(function(on){return on+Pt});Y(nn)}else{var rn=(i-r)*L,sn=fn(A);sn[M]=$[M];var Tn=l(sn,rn,M,"dist");Y(Tn.values,Tn.value,ce)}}),ee=function(L,ce,nt){L.stopPropagation();var ct=nt||n,Te=ct[ce];p(ce),_(Te),he(ct),R(ct),x(!1);var rt=Lm(L),Pt=rt.pageX,Hr=rt.pageY,nn=!1;B&&B({rawValues:ct,draggingIndex:ce,draggingValue:Te});var rn=function(on){on.preventDefault();var yt=Lm(on),jr=yt.pageX,Vr=yt.pageY,Gr=jr-Pt,Gt=Vr-Hr,At=t.current.getBoundingClientRect(),hr=At.width,qr=At.height,Rn,In;switch(e){case"btt":Rn=-Gt/qr,In=Gr;break;case"ttb":Rn=Gt/qr,In=Gr;break;case"rtl":Rn=-Gr/hr,In=Gt;break;default:Rn=Gr/hr,In=Gt}nn=u?Math.abs(In)>VT&&d<A.length:!1,x(nn),Z(ce,Rn,nn)},sn=function Tn(on){on.preventDefault(),document.removeEventListener("mouseup",Tn),document.removeEventListener("mousemove",rn),ue.current&&(ue.current.removeEventListener("touchmove",Se.current),ue.current.removeEventListener("touchend",be.current)),Se.current=null,be.current=null,ue.current=null,a(nn),p(-1),x(!1)};document.addEventListener("mouseup",sn),document.addEventListener("mousemove",rn),L.currentTarget.addEventListener("touchend",sn),L.currentTarget.addEventListener("touchmove",rn),Se.current=rn,be.current=sn,ue.current=L.currentTarget},H=g.useMemo(function(){var M=fn(n).sort(function(Te,rt){return Te-rt}),L=fn(A).sort(function(Te,rt){return Te-rt}),ce={};L.forEach(function(Te){ce[Te]=(ce[Te]||0)+1}),M.forEach(function(Te){ce[Te]=(ce[Te]||0)-1});var nt=u?1:0,ct=Object.values(ce).reduce(function(Te,rt){return Te+Math.abs(rt)},0);return ct<=nt?A:n},[n,A,u]);return[m,y,S,H,ee]}function qT(t,e,n,r,i,s){var o=g.useCallback(function(y){return Math.max(t,Math.min(e,y))},[t,e]),a=g.useCallback(function(y){if(n!==null){var _=t+Math.round((o(y)-t)/n)*n,E=function(v){return(String(v).split(".")[1]||"").length},w=Math.max(E(n),E(e),E(t)),m=Number(_.toFixed(w));return t<=m&&m<=e?m:null}return null},[n,t,e,o]),l=g.useCallback(function(y){var _=o(y),E=r.map(function(p){return p.value});n!==null&&E.push(a(y)),E.push(t,e);var w=E[0],m=e-t;return E.forEach(function(p){var v=Math.abs(_-p);v<=m&&(w=p,m=v)}),w},[t,e,r,n,o,a]),u=function y(_,E,w){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof E=="number"){var p,v=_[w],C=v+E,S=[];r.forEach(function(R){S.push(R.value)}),S.push(t,e),S.push(a(v));var x=E>0?1:-1;m==="unit"?S.push(a(v+x*n)):S.push(a(C)),S=S.filter(function(R){return R!==null}).filter(function(R){return E<0?R<=v:R>=v}),m==="unit"&&(S=S.filter(function(R){return R!==v}));var b=m==="unit"?v:C;p=S[0];var I=Math.abs(p-b);if(S.forEach(function(R){var k=Math.abs(R-b);k<I&&(p=R,I=k)}),p===void 0)return E<0?t:e;if(m==="dist")return p;if(Math.abs(E)>1){var A=fn(_);return A[w]=p,y(A,E-x,w,m)}return p}else{if(E==="min")return t;if(E==="max")return e}},d=function(_,E,w){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",p=_[w],v=u(_,E,w,m);return{value:v,changed:v!==p}},f=function(_){return s===null&&_===0||typeof s=="number"&&_<s},h=function(_,E,w){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",p=_.map(l),v=p[w],C=u(p,E,w,m);if(p[w]=C,i===!1){var S=s||0;w>0&&p[w-1]!==v&&(p[w]=Math.max(p[w],p[w-1]+S)),w<p.length-1&&p[w+1]!==v&&(p[w]=Math.min(p[w],p[w+1]-S))}else if(typeof s=="number"||s===null){for(var x=w+1;x<p.length;x+=1)for(var b=!0;f(p[x]-p[x-1])&&b;){var I=d(p,1,x);p[x]=I.value,b=I.changed}for(var A=w;A>0;A-=1)for(var R=!0;f(p[A]-p[A-1])&&R;){var k=d(p,-1,A-1);p[A-1]=k.value,R=k.changed}for(var F=p.length-1;F>0;F-=1)for(var $=!0;f(p[F]-p[F-1])&&$;){var he=d(p,-1,F-1);p[F-1]=he.value,$=he.changed}for(var Se=0;Se<p.length-1;Se+=1)for(var be=!0;f(p[Se+1]-p[Se])&&be;){var ue=d(p,1,Se+1);p[Se+1]=ue.value,be=ue.changed}}return{value:p[w],values:p}};return[l,h]}function KT(t){return g.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,i=t.maxCount;return[!0,e,!e&&n,r||0,i]},[t])}var n0=g.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,i=t.className,s=t.style,o=t.classNames,a=t.styles,l=t.id,u=t.disabled,d=u===void 0?!1:u,f=t.keyboard,h=f===void 0?!0:f,y=t.autoFocus,_=t.onFocus,E=t.onBlur,w=t.min,m=w===void 0?0:w,p=t.max,v=p===void 0?100:p,C=t.step,S=C===void 0?1:C,x=t.value,b=t.defaultValue,I=t.range,A=t.count,R=t.onChange,k=t.onBeforeChange,F=t.onAfterChange,$=t.onChangeComplete,he=t.allowCross,Se=he===void 0?!0:he,be=t.pushable,ue=be===void 0?!1:be,P=t.reverse,B=t.vertical,W=t.included,Y=W===void 0?!0:W,Z=t.startPoint,ee=t.trackStyle,H=t.handleStyle,M=t.railStyle,L=t.dotStyle,ce=t.activeDotStyle,nt=t.marks,ct=t.dots,Te=t.handleRender,rt=t.activeHandleRender,Pt=t.track,Hr=t.tabIndex,nn=Hr===void 0?0:Hr,rn=t.ariaLabelForHandle,sn=t.ariaLabelledByForHandle,Tn=t.ariaRequired,on=t.ariaValueTextFormatterForHandle,yt=g.useRef(null),jr=g.useRef(null),Vr=g.useMemo(function(){return B?P?"ttb":"btt":P?"rtl":"ltr"},[P,B]),Gr=KT(I),Gt=ze(Gr,5),At=Gt[0],hr=Gt[1],qr=Gt[2],Rn=Gt[3],In=Gt[4],vt=g.useMemo(function(){return isFinite(m)?m:0},[m]),Kr=g.useMemo(function(){return isFinite(v)?v:100},[v]),pr=g.useMemo(function(){return S!==null&&S<=0?1:S},[S]),g0=g.useMemo(function(){return typeof ue=="boolean"?ue?pr:!1:ue>=0?ue:!1},[ue,pr]),bo=g.useMemo(function(){return Object.keys(nt||{}).map(function(te){var z=nt[te],ie={value:Number(te)};return z&&ur(z)==="object"&&!g.isValidElement(z)&&("label"in z||"style"in z)?(ie.style=z.style,ie.label=z.label):ie.label=z,ie}).filter(function(te){var z=te.label;return z||typeof z=="number"}).sort(function(te,z){return te.value-z.value})},[nt]),y0=qT(vt,Kr,pr,bo,Se,g0),th=ze(y0,2),To=th[0],nh=th[1],v0=TT(b,{value:x}),rh=ze(v0,2),Pn=rh[0],_0=rh[1],Ye=g.useMemo(function(){var te=Pn==null?[]:Array.isArray(Pn)?Pn:[Pn],z=ze(te,1),ie=z[0],ge=ie===void 0?vt:ie,Oe=Pn===null?[]:[ge];if(At){if(Oe=fn(te),A||Pn===void 0){var An=A>=0?A+1:2;for(Oe=Oe.slice(0,An);Oe.length<An;){var an;Oe.push((an=Oe[Oe.length-1])!==null&&an!==void 0?an:vt)}}Oe.sort(function(ln,un){return ln-un})}return Oe.forEach(function(ln,un){Oe[un]=To(ln)}),Oe},[Pn,At,vt,A,To]),Yr=function(z){return At?z:z[0]},Ro=Ci(function(te){var z=fn(te).sort(function(ie,ge){return ie-ge});R&&!DT(z,Ye,!0)&&R(Yr(z)),_0(z)}),ih=Ci(function(te){te&&yt.current.hideHelp();var z=Yr(Ye);F==null||F(z),Bi(!F,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(z)}),E0=function(z){if(!(d||!hr||Ye.length<=Rn)){var ie=fn(Ye);ie.splice(z,1),k==null||k(Yr(ie)),Ro(ie);var ge=Math.max(0,z-1);yt.current.hideHelp(),yt.current.focus(ge)}},w0=GT(jr,Vr,Ye,vt,Kr,To,Ro,ih,nh,hr,Rn),Zi=ze(w0,5),sh=Zi[0],C0=Zi[1],S0=Zi[2],jl=Zi[3],oh=Zi[4],ah=function(z,ie){if(!d){var ge=fn(Ye),Oe=0,An=0,an=Kr-vt;Ye.forEach(function(On,Io){var mh=Math.abs(z-On);mh<=an&&(an=mh,Oe=Io),On<z&&(An=Io)});var ln=Oe;hr&&an!==0&&(!In||Ye.length<In)?(ge.splice(An+1,0,z),ln=An+1):ge[Oe]=z,At&&!Ye.length&&A===void 0&&ge.push(z);var un=Yr(ge);if(k==null||k(un),Ro(ge),ie){var mr,Qr;(mr=document.activeElement)===null||mr===void 0||(Qr=mr.blur)===null||Qr===void 0||Qr.call(mr),yt.current.focus(ln),oh(ie,ln,ge)}else F==null||F(un),Bi(!F,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(un)}},k0=function(z){z.preventDefault();var ie=jr.current.getBoundingClientRect(),ge=ie.width,Oe=ie.height,An=ie.left,an=ie.top,ln=ie.bottom,un=ie.right,mr=z.clientX,Qr=z.clientY,On;switch(Vr){case"btt":On=(ln-Qr)/Oe;break;case"ttb":On=(Qr-an)/Oe;break;case"rtl":On=(un-mr)/ge;break;default:On=(mr-An)/ge}var Io=vt+On*(Kr-vt);ah(To(Io),z)},x0=g.useState(null),lh=ze(x0,2),Vl=lh[0],uh=lh[1],N0=function(z,ie){if(!d){var ge=nh(Ye,z,ie);k==null||k(Yr(Ye)),Ro(ge.values),uh(ge.value)}};g.useEffect(function(){if(Vl!==null){var te=Ye.indexOf(Vl);te>=0&&yt.current.focus(te)}uh(null)},[Vl]);var b0=g.useMemo(function(){return qr&&pr===null?!1:qr},[qr,pr]),ch=Ci(function(te,z){oh(te,z),k==null||k(Yr(Ye))}),dh=sh!==-1;g.useEffect(function(){if(!dh){var te=Ye.lastIndexOf(C0);yt.current.focus(te)}},[dh]);var es=g.useMemo(function(){return fn(jl).sort(function(te,z){return te-z})},[jl]),T0=g.useMemo(function(){return At?[es[0],es[es.length-1]]:[vt,es[0]]},[es,At,vt]),fh=ze(T0,2),hh=fh[0],ph=fh[1];g.useImperativeHandle(e,function(){return{focus:function(){yt.current.focus(0)},blur:function(){var z,ie=document,ge=ie.activeElement;(z=jr.current)!==null&&z!==void 0&&z.contains(ge)&&(ge==null||ge.blur())}}}),g.useEffect(function(){y&&yt.current.focus(0)},[]);var R0=g.useMemo(function(){return{min:vt,max:Kr,direction:Vr,disabled:d,keyboard:h,step:pr,included:Y,includedStart:hh,includedEnd:ph,range:At,tabIndex:nn,ariaLabelForHandle:rn,ariaLabelledByForHandle:sn,ariaRequired:Tn,ariaValueTextFormatterForHandle:on,styles:a||{},classNames:o||{}}},[vt,Kr,Vr,d,h,pr,Y,hh,ph,At,nn,rn,sn,Tn,on,a,o]);return g.createElement(Wr.Provider,{value:R0},g.createElement("div",{ref:jr,className:Mr(r,i,kt(kt(kt(kt({},"".concat(r,"-disabled"),d),"".concat(r,"-vertical"),B),"".concat(r,"-horizontal"),!B),"".concat(r,"-with-marks"),bo.length)),style:s,onMouseDown:k0,id:l},g.createElement("div",{className:Mr("".concat(r,"-rail"),o==null?void 0:o.rail),style:qe(qe({},M),a==null?void 0:a.rail)}),Pt!==!1&&g.createElement(jT,{prefixCls:r,style:ee,values:Ye,startPoint:Z,onStartMove:b0?ch:void 0}),g.createElement(HT,{prefixCls:r,marks:bo,dots:ct,style:L,activeStyle:ce}),g.createElement(zT,{ref:yt,prefixCls:r,style:H,values:jl,draggingIndex:sh,draggingDelete:S0,onStartMove:ch,onOffsetChange:N0,onFocus:_,onBlur:E,handleRender:Te,activeHandleRender:rt,onChangeComplete:ih,onDelete:hr?E0:void 0}),g.createElement($T,{prefixCls:r,marks:bo,onClick:ah})))});function YT(){const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,s]=g.useState(()=>new Date().toISOString().split("T")[0]),[o,a]=g.useState(!1),[l,u]=g.useState([20,40]),[d,f]=g.useState(1),[h,y]=g.useState(!1),[_,E]=g.useState(!1),[w,m]=g.useState(null),p=[{min:3,max:6,label:"Toddlers"},{min:7,max:12,label:"Kids"},{min:13,max:19,label:"Teens"},{min:20,max:35,label:"Adult"},{min:36,max:100,label:"Oldies"}],v=([k,F])=>p.filter($=>$.max>=k&&$.min<=F).map($=>$.label),C=new Date,S=C.getFullYear(),x=String(C.getMonth()+1).padStart(2,"0"),b=String(C.getDate()).padStart(2,"0"),I=`${S}-${x}-${b}`,A=`${S+3}-${x}-${b}`,R=k=>{k.preventDefault(),E(!0),m(null);const F={objectives:t,gender:n,minAge:l[0],maxAge:l[1],deadline:i,numContent:d};fetch("https://system-production-9942.up.railway.app/api/v1/tasks/content-creator/task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}).then(async $=>{if(!$.ok){const he=await $.text();throw new Error(he||"Failed to submit task")}return $.json()}).then(()=>{a(!0),e(""),f(1),r(""),u([20,40]),s("")}).catch($=>{m($.message||"Submission failed")}).finally(()=>E(!1))};return c.createElement("div",{style:{minHeight:"100vh",background:"#f3f4f6",padding:"40px 0"}},c.createElement("div",{style:{maxWidth:520,margin:"0 auto",background:"#fff",borderRadius:18,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.08)",padding:"36px 32px 32px 32px",display:"flex",flexDirection:"column",gap:28}},c.createElement("div",{style:{textAlign:"center",marginBottom:8}},c.createElement("span",{style:{display:"inline-block",background:"#e0e7ff",color:"#2563eb",fontWeight:700,fontSize:16,borderRadius:8,padding:"4px 18px",marginBottom:8,letterSpacing:.5}},"Content Creator")),c.createElement("h2",{style:{fontWeight:800,fontSize:28,letterSpacing:.5,color:"#f87171",marginBottom:8,textAlign:"center",textShadow:"0 1px 0 #fff"}},"Set Task"),c.createElement("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",gap:24}},c.createElement("div",null,c.createElement("label",{htmlFor:"objective",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Objective"),c.createElement("textarea",{id:"objective",value:t,onChange:k=>e(k.target.value),placeholder:"Write here...",rows:3,style:{width:"100%",minHeight:60,maxHeight:200,padding:12,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",resize:"vertical",outline:"none",boxSizing:"border-box"},required:!0})),c.createElement("div",null,c.createElement("label",{htmlFor:"numContents",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Number of Contents"),c.createElement("input",{type:"number",id:"numContents",min:1,value:h?d:1,onFocus:()=>{!h&&d===1&&f(""),y(!0)},onBlur:k=>{(k.target.value===""||isNaN(Number(k.target.value)))&&(f(1),y(!1))},onChange:k=>{const F=k.target.value;F===""||isNaN(Number(F))?f(""):f(Math.max(1,Number(F)))},style:{width:"100%",padding:10,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",outline:"none"},required:!0})),c.createElement("div",null,c.createElement("label",{style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Gender"),c.createElement("div",{style:{display:"flex",gap:24,padding:"6px 0 0 2px"}},c.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},c.createElement("input",{type:"radio",name:"gender",value:"Male",checked:n==="Male",onChange:k=>r(k.target.value),required:!0,style:{marginRight:6}})," Male"),c.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},c.createElement("input",{type:"radio",name:"gender",value:"Female",checked:n==="Female",onChange:k=>r(k.target.value),style:{marginRight:6}})," Female"),c.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},c.createElement("input",{type:"radio",name:"gender",value:"Other",checked:n==="Other",onChange:k=>r(k.target.value),style:{marginRight:6}})," Other"))),c.createElement("div",null,c.createElement("label",{style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Age Range"),c.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4,marginLeft:10,marginRight:10}},c.createElement("span",{style:{fontWeight:700,color:"#f87171",fontSize:16}},l[0]),c.createElement("span",{style:{fontWeight:700,color:"#f87171",fontSize:16}},l[1])),c.createElement("div",{style:{padding:"18px 14px 12px 14px",background:"#f9fafb",borderRadius:12,border:"1.5px solid #e5e7eb",boxShadow:"0 1px 4px 0 #f3f4f6"}},c.createElement(n0,{range:!0,min:3,max:60,value:l,onChange:u,allowCross:!1,trackStyle:[{backgroundColor:"#f87171",height:10}],handleStyle:[{backgroundColor:"#fff",borderColor:"#f87171",height:28,width:28,marginTop:-10,boxShadow:"0 2px 8px #fca5a5"},{backgroundColor:"#fff",borderColor:"#f87171",height:28,width:28,marginTop:-10,boxShadow:"0 2px 8px #fca5a5"}],railStyle:{backgroundColor:"#fee2e2",height:10},step:1}),c.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,fontSize:15,color:"#6b7280",fontWeight:500}},c.createElement("span",null,"3"),c.createElement("span",null,"10"),c.createElement("span",null,"20"),c.createElement("span",null,"30"),c.createElement("span",null,"40"),c.createElement("span",null,"50"),c.createElement("span",null,"60+")),c.createElement("div",{style:{marginTop:12,fontWeight:700,color:"#f87171",textAlign:"center",fontSize:17,display:"flex",flexWrap:"wrap",gap:10,justifyContent:"center"}},v(l).map(k=>c.createElement("span",{key:k,style:{background:"#fff1f2",borderRadius:8,padding:"4px 16px",border:"1.5px solid #fca5a5",fontSize:15,fontWeight:600,letterSpacing:.2}},k))))),c.createElement("div",null,c.createElement("label",{htmlFor:"deadline",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Deadline Date"),c.createElement("input",{type:"date",id:"deadline",value:i,min:I,max:A,onChange:k=>s(k.target.value),style:{padding:10,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",outline:"none",width:"100%"},required:!0})),c.createElement("button",{type:"submit",disabled:_,style:{marginTop:16,background:_?"#fca5a5":"#f87171",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:"1.08rem",cursor:_?"not-allowed":"pointer",letterSpacing:.5,boxShadow:"0 2px 8px #fca5a5",transition:"background 0.2s"}},_?"Submitting...":"Submit"),w&&c.createElement("div",{style:{color:"#ef4444",marginTop:12,fontWeight:600,textAlign:"center"}},w),o&&c.createElement("div",{style:{color:"#22c55e",marginTop:12,fontWeight:600,textAlign:"center"}},"Task submitted successfully!"))))}const Zt=Object.create(null);Zt.open="0";Zt.close="1";Zt.ping="2";Zt.pong="3";Zt.message="4";Zt.upgrade="5";Zt.noop="6";const ha=Object.create(null);Object.keys(Zt).forEach(t=>{ha[Zt[t]]=t});const td={type:"error",data:"parser error"},r0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",i0=typeof ArrayBuffer=="function",s0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Yf=({type:t,data:e},n,r)=>r0&&e instanceof Blob?n?r(e):Mm(e,r):i0&&(e instanceof ArrayBuffer||s0(e))?n?r(e):Mm(new Blob([e]),r):r(Zt[t]+(e||"")),Mm=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Fm(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Au;function QT(t,e){if(r0&&t.data instanceof Blob)return t.data.arrayBuffer().then(Fm).then(e);if(i0&&(t.data instanceof ArrayBuffer||s0(t.data)))return e(Fm(t.data));Yf(t,!1,n=>{Au||(Au=new TextEncoder),e(Au.encode(n))})}const Bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_s=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Bm.length;t++)_s[Bm.charCodeAt(t)]=t;const XT=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)s=_s[t.charCodeAt(r)],o=_s[t.charCodeAt(r+1)],a=_s[t.charCodeAt(r+2)],l=_s[t.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return u},JT=typeof ArrayBuffer=="function",Qf=(t,e)=>{if(typeof t!="string")return{type:"message",data:o0(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ZT(t.substring(1),e)}:ha[n]?t.length>1?{type:ha[n],data:t.substring(1)}:{type:ha[n]}:td},ZT=(t,e)=>{if(JT){const n=XT(t);return o0(n,e)}else return{base64:!0,data:t}},o0=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},a0=String.fromCharCode(30),e2=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{Yf(s,!1,a=>{r[o]=a,++i===n&&e(r.join(a0))})})},t2=(t,e)=>{const n=t.split(a0),r=[];for(let i=0;i<n.length;i++){const s=Qf(n[i],e);if(r.push(s),s.type==="error")break}return r};function n2(){return new TransformStream({transform(t,e){QT(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Ou;function Xo(t){return t.reduce((e,n)=>e+n.length,0)}function Jo(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function r2(t,e){Ou||(Ou=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Xo(n)<1)break;const l=Jo(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Xo(n)<2)break;const l=Jo(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Xo(n)<8)break;const l=Jo(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){a.enqueue(td);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Xo(n)<i)break;const l=Jo(n,i);a.enqueue(Qf(s?l:Ou.decode(l),e)),r=0}if(i===0||i>t){a.enqueue(td);break}}}})}const l0=4;function Ne(t){if(t)return i2(t)}function i2(t){for(var e in Ne.prototype)t[e]=Ne.prototype[e];return t}Ne.prototype.on=Ne.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ne.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ne.prototype.off=Ne.prototype.removeListener=Ne.prototype.removeAllListeners=Ne.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ne.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Ne.prototype.emitReserved=Ne.prototype.emit;Ne.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ne.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Wl=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),wt=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),s2="arraybuffer";function u0(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const o2=wt.setTimeout,a2=wt.clearTimeout;function Hl(t,e){e.useNativeTimers?(t.setTimeoutFn=o2.bind(wt),t.clearTimeoutFn=a2.bind(wt)):(t.setTimeoutFn=wt.setTimeout.bind(wt),t.clearTimeoutFn=wt.clearTimeout.bind(wt))}const l2=1.33;function u2(t){return typeof t=="string"?c2(t):Math.ceil((t.byteLength||t.size)*l2)}function c2(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function c0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function d2(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function f2(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class h2 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Xf extends Ne{constructor(e){super(),this.writable=!1,Hl(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new h2(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Qf(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=d2(e);return n.length?"?"+n:""}}class p2 extends Xf{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};t2(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,e2(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=c0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let d0=!1;try{d0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const m2=d0;function g2(){}class y2 extends p2{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class Jt extends Ne{constructor(e,n,r){super(),this.createRequest=e,Hl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=u0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Jt.requestsCount++,Jt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=g2,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Jt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Jt.requestsCount=0;Jt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",zm);else if(typeof addEventListener=="function"){const t="onpagehide"in wt?"pagehide":"unload";addEventListener(t,zm,!1)}}function zm(){for(let t in Jt.requests)Jt.requests.hasOwnProperty(t)&&Jt.requests[t].abort()}const v2=function(){const t=f0({xdomain:!1});return t&&t.responseType!==null}();class _2 extends y2{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=v2&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Jt(f0,this.uri(),e)}}function f0(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||m2))return new XMLHttpRequest}catch{}if(!e)try{return new wt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const h0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class E2 extends Xf{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=h0?{}:u0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Yf(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&Wl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=c0()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Du=wt.WebSocket||wt.MozWebSocket;class w2 extends E2{createSocket(e,n,r){return h0?new Du(e,n,r):n?new Du(e,n):new Du(e)}doWrite(e,n){this.ws.send(n)}}class C2 extends Xf{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=r2(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=n2();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Wl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const S2={websocket:w2,webtransport:C2,polling:_2},k2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,x2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function nd(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=k2.exec(t||""),s={},o=14;for(;o--;)s[x2[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=N2(s,s.path),s.queryKey=b2(s,s.query),s}function N2(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function b2(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const rd=typeof addEventListener=="function"&&typeof removeEventListener=="function",pa=[];rd&&addEventListener("offline",()=>{pa.forEach(t=>t())},!1);class nr extends Ne{constructor(e,n){if(super(),this.binaryType=s2,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=nd(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=nd(n.host).host);Hl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=f2(this.opts.query)),rd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pa.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=l0,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&nr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",nr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=u2(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Wl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(nr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),rd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=pa.indexOf(this._offlineEventListener);r!==-1&&pa.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}nr.protocol=l0;class T2 extends nr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;nr.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;nr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,s(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function l(){o("socket closed")}function u(f){n&&f.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let R2=class extends T2{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>S2[i]).filter(i=>!!i)),super(e,r)}};function I2(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=nd(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const P2=typeof ArrayBuffer=="function",A2=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,p0=Object.prototype.toString,O2=typeof Blob=="function"||typeof Blob<"u"&&p0.call(Blob)==="[object BlobConstructor]",D2=typeof File=="function"||typeof File<"u"&&p0.call(File)==="[object FileConstructor]";function Jf(t){return P2&&(t instanceof ArrayBuffer||A2(t))||O2&&t instanceof Blob||D2&&t instanceof File}function ma(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(ma(t[n]))return!0;return!1}if(Jf(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ma(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ma(t[n]))return!0;return!1}function L2(t){const e=[],n=t.data,r=t;return r.data=id(n,e),r.attachments=e.length,{packet:r,buffers:e}}function id(t,e){if(!t)return t;if(Jf(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=id(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=id(t[r],e));return n}return t}function M2(t,e){return t.data=sd(t.data,e),delete t.attachments,t}function sd(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=sd(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=sd(t[n],e));return t}const F2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],B2=5;var K;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));class z2{constructor(e){this.replacer=e}encode(e){return(e.type===K.EVENT||e.type===K.ACK)&&ma(e)?this.encodeAsBinary({type:e.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===K.BINARY_EVENT||e.type===K.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=L2(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Um(t){return Object.prototype.toString.call(t)==="[object Object]"}class Zf extends Ne{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===K.BINARY_EVENT;r||n.type===K.BINARY_ACK?(n.type=r?K.EVENT:K.ACK,this.reconstructor=new U2(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Jf(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(K[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===K.BINARY_EVENT||r.type===K.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Zf.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case K.CONNECT:return Um(n);case K.DISCONNECT:return n===void 0;case K.CONNECT_ERROR:return typeof n=="string"||Um(n);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&F2.indexOf(n[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class U2{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=M2(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Zf,Encoder:z2,get PacketType(){return K},protocol:B2},Symbol.toStringTag,{value:"Module"}));function Mt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const W2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class m0 extends Ne{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Mt(e,"open",this.onopen.bind(this)),Mt(e,"packet",this.onpacket.bind(this)),Mt(e,"error",this.onerror.bind(this)),Mt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(W2.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:K.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),o.id=d}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:K.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case K.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(e);break;case K.ACK:case K.BINARY_ACK:this.onack(e);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:K.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Ji(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ji.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ji.prototype.reset=function(){this.attempts=0};Ji.prototype.setMin=function(t){this.ms=t};Ji.prototype.setMax=function(t){this.max=t};Ji.prototype.setJitter=function(t){this.jitter=t};class od extends Ne{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Hl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ji({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||$2;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new R2(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Mt(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Mt(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Mt(e,"ping",this.onping.bind(this)),Mt(e,"data",this.ondata.bind(this)),Mt(e,"error",this.onerror.bind(this)),Mt(e,"close",this.onclose.bind(this)),Mt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Wl(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new m0(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ps={};function Si(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=I2(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=ps[i]&&s in ps[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new od(r,e):(ps[i]||(ps[i]=new od(r,e)),l=ps[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Si,{Manager:od,Socket:m0,io:Si,connect:Si});const ll=({content:t,onDelete:e,showDelete:n=!0,onClick:r})=>c.createElement("div",{className:"account-card",onClick:r,style:{cursor:r?"pointer":"default"}},c.createElement("div",{className:"account-info"},c.createElement("strong",null,t.title||"Untitled Content"),c.createElement("br",null),c.createElement("span",null,t.description||"")),c.createElement("div",{className:"account-actions"},n&&c.createElement("button",{className:"delete-btn",onClick:i=>{i.stopPropagation(),e&&e()}},"Delete"))),eh=({task:t,isOpen:e,onClose:n})=>!e||!t?null:c.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},c.createElement("div",{style:{background:"#fff",padding:24,borderRadius:8,minWidth:320,maxWidth:500,position:"relative"}},c.createElement("button",{onClick:n,style:{position:"absolute",top:8,right:8,fontSize:18,background:"none",border:"none",cursor:"pointer"}},""),c.createElement("h2",null,"Task Details"),Object.entries(t).map(([r,i])=>c.createElement("div",{key:r,style:{marginBottom:8}},c.createElement("strong",null,r,":")," ",String(i)))));function H2(){const[t,e]=g.useState([]),[n,r]=g.useState([]),[i,s]=g.useState(!0),[o,a]=g.useState(null);g.useEffect(()=>{s(!0),fetch("https://system-production-9942.up.railway.app/api/v1/tasks/marketing/content-creator/task").then(d=>d.json()).then(d=>{console.log("Content Creator tasks API response:",d),e(Array.isArray(d.data)?d.data:[]),s(!1)}).catch(d=>{e([]),s(!1)}),fetch("https://system-production-9942.up.railway.app/api/v1/tasks/marketing/graphic-designer/task").then(d=>d.json()).then(d=>{console.log("Graphic Designer tasks API response:",d),r(Array.isArray(d.data)?d.data:[])}).catch(d=>{r([])});const u=Si("https://system-production-9942.up.railway.app",{withCredentials:!0});return u.on("ongoingContentCreatorTask",d=>{e(f=>[d,...Array.isArray(f)?f:[]])}),u.on("ongoingGraphicDesignerTask",d=>{r(f=>[d,...Array.isArray(f)?f:[]])}),()=>u.disconnect()},[]);const l=(u,d)=>{u==="Content Creator"?e(f=>Array.isArray(f)?f.filter(h=>(h.id||h._id)!==d):[]):u==="Graphic Designer"&&r(f=>Array.isArray(f)?f.filter(h=>(h.id||h._id)!==d):[])};return c.createElement("div",{className:"manage-accounts-page-container"},c.createElement("div",{className:"role-section"},c.createElement("h2",null,"Content Creator"),i?"Loading...":Array.isArray(t)&&t.length===0?c.createElement("div",{style:{marginBottom:20}},"No pending content."):Array.isArray(t)?t.map(u=>c.createElement(ll,{key:u.id||u._id,content:u,onDelete:()=>l("Content Creator",u.id||u._id),onClick:()=>a(u)})):c.createElement("div",{style:{color:"red"}},"Error: Tasks data is not an array.")),c.createElement("div",{className:"role-section"},c.createElement("h2",null,"Graphic Designer"),i?"Loading...":Array.isArray(n)&&n.length===0?c.createElement("div",{style:{marginBottom:20}},"No pending content."):Array.isArray(n)?n.map(u=>c.createElement(ll,{key:u.id||u._id,content:u,onDelete:()=>l("Graphic Designer",u.id||u._id),onClick:()=>a(u)})):c.createElement("div",{style:{color:"red"}},"Error: Tasks data is not an array.")),c.createElement(eh,{task:o,isOpen:!!o,onClose:()=>a(null)}))}function j2(){return c.createElement("div",null,c.createElement("h2",null,"Set Schedule"),c.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function V2(){return c.createElement("div",null,c.createElement("h2",null,"Ongoing Schedule"),c.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function G2(){return c.createElement("div",null,c.createElement("h2",null,"Posted Content"),c.createElement("div",{style:{marginTop:24}},"Pending Content..."))}function q2(){const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,s]=g.useState(()=>new Date().toISOString().split("T")[0]),[o,a]=g.useState(!1),[l,u]=g.useState([20,40]),[d,f]=g.useState(1),[h,y]=g.useState(!1),[_,E]=g.useState(!1),[w,m]=g.useState(null),p=[{min:3,max:6,label:"Toddlers"},{min:7,max:12,label:"Kids"},{min:13,max:19,label:"Teens"},{min:20,max:35,label:"Adult"},{min:36,max:100,label:"Oldies"}],v=([k,F])=>p.filter($=>$.max>=k&&$.min<=F).map($=>$.label),C=new Date,S=C.getFullYear(),x=String(C.getMonth()+1).padStart(2,"0"),b=String(C.getDate()).padStart(2,"0"),I=`${S}-${x}-${b}`,A=`${S+3}-${x}-${b}`,R=k=>{k.preventDefault(),E(!0),m(null);const F={objectives:t,gender:n,minAge:l[0],maxAge:l[1],deadline:i,numContent:d};fetch("https://system-production-9942.up.railway.app/api/v1/tasks/graphic-designer/task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}).then(async $=>{if(!$.ok){const he=await $.text();throw new Error(he||"Failed to submit task")}return $.json()}).then(()=>{a(!0),e(""),f(1),r(""),u([20,40]),s("")}).catch($=>{m($.message||"Submission failed")}).finally(()=>E(!1))};return c.createElement("div",{style:{minHeight:"100vh",background:"#f3f4f6",padding:"40px 0"}},c.createElement("div",{style:{maxWidth:520,margin:"0 auto",background:"#fff",borderRadius:18,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.08)",padding:"36px 32px 32px 32px",display:"flex",flexDirection:"column",gap:28}},c.createElement("div",{style:{textAlign:"center",marginBottom:8}},c.createElement("span",{style:{display:"inline-block",background:"#e0e7ff",color:"#2563eb",fontWeight:700,fontSize:16,borderRadius:8,padding:"4px 18px",marginBottom:8,letterSpacing:.5}},"Graphic Designer")),c.createElement("h2",{style:{fontWeight:800,fontSize:28,letterSpacing:.5,color:"#f87171",marginBottom:8,textAlign:"center",textShadow:"0 1px 0 #fff"}},"Set Task"),c.createElement("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",gap:24}},c.createElement("div",null,c.createElement("label",{htmlFor:"objective",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Objective"),c.createElement("textarea",{id:"objective",value:t,onChange:k=>e(k.target.value),placeholder:"Write here...",rows:3,style:{width:"100%",minHeight:60,maxHeight:200,padding:12,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",resize:"vertical",outline:"none",boxSizing:"border-box"},required:!0})),c.createElement("div",null,c.createElement("label",{htmlFor:"numContents",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Number of Contents"),c.createElement("input",{type:"number",id:"numContents",min:1,value:h?d:1,onFocus:()=>{!h&&d===1&&f(""),y(!0)},onBlur:k=>{(k.target.value===""||isNaN(Number(k.target.value)))&&(f(1),y(!1))},onChange:k=>{const F=k.target.value;F===""||isNaN(Number(F))?f(""):f(Math.max(1,Number(F)))},style:{width:"100%",padding:10,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",outline:"none"},required:!0})),c.createElement("div",null,c.createElement("label",{style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Gender"),c.createElement("div",{style:{display:"flex",gap:24,padding:"6px 0 0 2px"}},c.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},c.createElement("input",{type:"radio",name:"gender",value:"Male",checked:n==="Male",onChange:k=>r(k.target.value),required:!0,style:{marginRight:6}})," Male"),c.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},c.createElement("input",{type:"radio",name:"gender",value:"Female",checked:n==="Female",onChange:k=>r(k.target.value),style:{marginRight:6}})," Female"),c.createElement("label",{style:{fontWeight:500,color:"#6b7280",fontSize:15}},c.createElement("input",{type:"radio",name:"gender",value:"Other",checked:n==="Other",onChange:k=>r(k.target.value),style:{marginRight:6}})," Other"))),c.createElement("div",null,c.createElement("label",{style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Age Range"),c.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4,marginLeft:10,marginRight:10}},c.createElement("span",{style:{fontWeight:700,color:"#f87171",fontSize:16}},l[0]),c.createElement("span",{style:{fontWeight:700,color:"#f87171",fontSize:16}},l[1])),c.createElement("div",{style:{padding:"18px 14px 12px 14px",background:"#f9fafb",borderRadius:12,border:"1.5px solid #e5e7eb",boxShadow:"0 1px 4px 0 #f3f4f6"}},c.createElement(n0,{range:!0,min:3,max:60,value:l,onChange:u,allowCross:!1,trackStyle:[{backgroundColor:"#f87171",height:10}],handleStyle:[{backgroundColor:"#fff",borderColor:"#f87171",height:28,width:28,marginTop:-10,boxShadow:"0 2px 8px #fca5a5"},{backgroundColor:"#fff",borderColor:"#f87171",height:28,width:28,marginTop:-10,boxShadow:"0 2px 8px #fca5a5"}],railStyle:{backgroundColor:"#fee2e2",height:10},step:1}),c.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,fontSize:15,color:"#6b7280",fontWeight:500}},c.createElement("span",null,"3"),c.createElement("span",null,"10"),c.createElement("span",null,"20"),c.createElement("span",null,"30"),c.createElement("span",null,"40"),c.createElement("span",null,"50"),c.createElement("span",null,"60+")),c.createElement("div",{style:{marginTop:12,fontWeight:700,color:"#f87171",textAlign:"center",fontSize:17,display:"flex",flexWrap:"wrap",gap:10,justifyContent:"center"}},v(l).map(k=>c.createElement("span",{key:k,style:{background:"#fff1f2",borderRadius:8,padding:"4px 16px",border:"1.5px solid #fca5a5",fontSize:15,fontWeight:600,letterSpacing:.2}},k))))),c.createElement("div",null,c.createElement("label",{htmlFor:"deadline",style:{fontWeight:700,display:"block",marginBottom:8,color:"#374151",fontSize:16}},"Deadline Date"),c.createElement("input",{type:"date",id:"deadline",value:i,min:I,max:A,onChange:k=>s(k.target.value),style:{padding:10,borderRadius:10,border:"1.5px solid #e5e7eb",fontSize:"1rem",background:"#f9fafb",outline:"none",width:"100%"},required:!0})),c.createElement("button",{type:"submit",disabled:_,style:{marginTop:16,background:_?"#fca5a5":"#f87171",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:"1.08rem",cursor:_?"not-allowed":"pointer",letterSpacing:.5,boxShadow:"0 2px 8px #fca5a5",transition:"background 0.2s"}},_?"Submitting...":"Submit"),w&&c.createElement("div",{style:{color:"#ef4444",marginTop:12,fontWeight:600,textAlign:"center"}},w),o&&c.createElement("div",{style:{color:"#22c55e",marginTop:12,fontWeight:600,textAlign:"center"}},"Task submitted successfully!"))))}const K2=[{label:"Dashboard",path:"/content/dashboard"},{label:"Create Content",path:"/content/create"},{label:"Task",path:"/content/task"}];function Y2(){const{user:t,setUser:e}=Gi(),n=(t==null?void 0:t.name)||"Content Creator",r=(t==null?void 0:t.role)||"role",[i,s]=g.useState(!1),o=g.useRef(null),a=It();g.useEffect(()=>{function u(d){o.current&&!o.current.contains(d.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=()=>{e(null),localStorage.removeItem("user"),window.location.replace("/login")};return c.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},c.createElement("div",{className:"sidebar",style:{maxHeight:"calc(100vh - 60px)",overflowY:"auto",flexShrink:0}},c.createElement("div",{className:"logo",style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.createElement("img",{src:"/assets/issalonlogo.jpg",alt:"infinitysalon",style:{display:"block",margin:"0 auto",maxWidth:"100%",height:"auto"}})),c.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:24}},c.createElement("div",{className:"user-profile"},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile"},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),c.createElement("div",{className:"user-info"},c.createElement("div",{className:"user-name"},n),c.createElement("div",{className:"user-role"},r.charAt(0).toUpperCase()+r.slice(1)))),c.createElement("hr",{style:{position:"absolute",left:"-24px",right:"-24px",border:"none",borderTop:"1px solid #e0e0e0",margin:0,width:"calc(100% + 48px)"}})),c.createElement("hr",{style:{border:"none",borderTop:"1px solid #e0e0e0",margin:"0 0 24px 0",width:"100%"}}),c.createElement("nav",{className:"navigation"},K2.map(u=>c.createElement(mn,{key:u.path,to:u.path,className:`nav-item${a.pathname===u.path?" active":""}`},u.label)))),c.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:64,background:"#fafafa",borderBottom:"1px solid #e0e0e0",padding:"0 24px",position:"relative",flexShrink:0}},c.createElement($l,{role:"ContentCreator",style:{marginRight:"20px"}}),c.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:o},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>s(u=>!u)},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),i&&c.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",borderRadius:8,minWidth:160,zIndex:10}},c.createElement("button",{style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},c.createElement(bl,{style:{marginRight:8}})," Settings"),c.createElement("button",{onClick:l,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},c.createElement(Nl,{style:{marginRight:8}})," Logout")))),c.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},c.createElement(yo,null)))),c.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},c.createElement("div",{className:"admin-dashboard-footer-container"},c.createElement("div",{className:"admin-dashboard-footer-left"},c.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})),c.createElement("div",{className:"admin-dashboard-footer-links"},c.createElement("svg",{className:"admin-dashboard-facebook-icon",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Terms & Condition"),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Policy Privacy")))))}function $m(){return c.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",fontSize:28,fontWeight:700}},"Content Creator Dashboard")}function Q2(){return c.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",fontSize:28,fontWeight:700}},"Create Content Page")}function X2(){const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState(null);return g.useEffect(()=>{r(!0),fetch("https://system-production-9942.up.railway.app/api/v1/tasks/content-creator/task").then(a=>a.json()).then(a=>{e(Array.isArray(a.data)?a.data:[]),r(!1)}).catch(a=>{e([]),r(!1)});const o=Si("https://system-production-9942.up.railway.app",{withCredentials:!0});return o.on("ongoingContentCreatorTask",a=>{e(l=>[a,...Array.isArray(l)?l:[]])}),()=>o.disconnect()},[]),c.createElement("div",{className:"manage-accounts-page-container"},c.createElement("div",{className:"role-section"},c.createElement("h2",null,"Task"),n?"Loading...":Array.isArray(t)&&t.length===0?c.createElement("div",{style:{marginBottom:20}},"No pending content."):Array.isArray(t)?t.map(o=>c.createElement(ll,{key:o.id||o._id,content:o,showDelete:!1,onClick:()=>s(o)})):c.createElement("div",{style:{color:"red"}},"Error: Tasks data is not an array.")),c.createElement(eh,{task:i,isOpen:!!i,onClose:()=>s(null)}))}const J2=[{label:"Dashboard",path:"/graphic/dashboard"},{label:"Graphic Creation",path:"/graphic/creation"},{label:"Task",path:"/graphic/task"}];function Z2(){const{user:t,setUser:e}=Gi(),n=(t==null?void 0:t.name)||"Graphic Designer",r=(t==null?void 0:t.role)||"role",[i,s]=g.useState(!1),o=g.useRef(null),a=It();g.useEffect(()=>{function u(d){o.current&&!o.current.contains(d.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=()=>{e(null),localStorage.removeItem("user"),window.location.replace("/login")};return c.createElement("div",{className:"admin-dashboard",style:{height:"100vh",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"dashboard-container",style:{flex:1,display:"flex",flexDirection:"row",minHeight:0}},c.createElement("div",{className:"sidebar",style:{maxHeight:"calc(100vh - 60px)",overflowY:"auto",flexShrink:0}},c.createElement("div",{className:"logo",style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.createElement("img",{src:"/assets/issalonlogo.jpg",alt:"infinitysalon",style:{display:"block",margin:"0 auto",maxWidth:"100%",height:"auto"}})),c.createElement("div",{className:"user-profile-divider-wrapper",style:{position:"relative",marginBottom:24}},c.createElement("div",{className:"user-profile"},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile"},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),c.createElement("div",{className:"user-info"},c.createElement("div",{className:"user-name"},n),c.createElement("div",{className:"user-role"},r.charAt(0).toUpperCase()+r.slice(1)))),c.createElement("hr",{style:{position:"absolute",left:"-24px",right:"-24px",border:"none",borderTop:"1px solid #e0e0e0",margin:0,width:"calc(100% + 48px)"}})),c.createElement("hr",{style:{border:"none",borderTop:"1px solid #e0e0e0",margin:"0 0 24px 0",width:"100%"}}),c.createElement("nav",{className:"navigation"},J2.map(u=>c.createElement(mn,{key:u.path,to:u.path,className:`nav-item${a.pathname===u.path?" active":""}`},u.label)))),c.createElement("div",{className:"main-content",style:{flex:1,position:"relative",display:"flex",flexDirection:"column"}},c.createElement("div",{className:"header",style:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:64,background:"#fafafa",borderBottom:"1px solid #e0e0e0",padding:"0 24px",position:"relative",flexShrink:0}},c.createElement($l,{role:"GraphicDesigner",style:{marginRight:"20px"}}),c.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"},ref:o},c.createElement("button",{className:"header-profile-btn","aria-label":"Profile",style:{background:"none",border:"none",cursor:"pointer",padding:0,marginLeft:"0px",display:"flex",alignItems:"center",justifyContent:"center",height:"40px",width:"40px"},onClick:()=>s(u=>!u)},c.createElement("span",{className:"header-profile-avatar"},c.createElement(sr,{size:24}))),i&&c.createElement("div",{style:{position:"absolute",right:0,top:40,background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",borderRadius:8,minWidth:160,zIndex:10}},c.createElement("button",{style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer"}},c.createElement(bl,{style:{marginRight:8}})," Settings"),c.createElement("button",{onClick:l,style:{display:"flex",alignItems:"center",width:"100%",padding:"10px 16px",background:"none",border:"none",cursor:"pointer",color:"#e74c3c"}},c.createElement(Nl,{style:{marginRight:8}})," Logout")))),c.createElement("div",{className:"content-area",style:{flex:1,padding:"24px",overflowY:"auto"}},c.createElement(yo,null)))),c.createElement("footer",{className:"admin-dashboard-footer",style:{flexShrink:0}},c.createElement("div",{className:"admin-dashboard-footer-container"},c.createElement("div",{className:"admin-dashboard-footer-left"},c.createElement("img",{src:"/assets/issalonnails.png",alt:"infinitysalon",className:"admin-dashboard-footer-logo"})),c.createElement("div",{className:"admin-dashboard-footer-links"},c.createElement("svg",{className:"admin-dashboard-facebook-icon",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Terms & Condition"),c.createElement("a",{href:"#",className:"admin-dashboard-footer-link"},"Policy Privacy")))))}function Wm(){return c.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",fontSize:28,fontWeight:700}},"Graphic Designer Dashboard")}function eR(){const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState(null);return g.useEffect(()=>{r(!0),fetch("https://system-production-9942.up.railway.app/api/v1/tasks/graphic-designer/task").then(a=>a.json()).then(a=>{e(Array.isArray(a.data)?a.data:[]),r(!1)}).catch(a=>{e([]),r(!1)});const o=Si("https://system-production-9942.up.railway.app",{withCredentials:!0});return o.on("ongoingGraphicDesignerTask",a=>{e(l=>[a,...Array.isArray(l)?l:[]])}),()=>o.disconnect()},[]),c.createElement("div",{className:"manage-accounts-page-container"},c.createElement("div",{className:"role-section"},c.createElement("h2",null,"Task"),n?"Loading...":Array.isArray(t)&&t.length===0?c.createElement("div",{style:{marginBottom:20}},"No pending content."):Array.isArray(t)?t.map(o=>c.createElement(ll,{key:o.id||o._id,content:o,showDelete:!1,onClick:()=>s(o)})):c.createElement("div",{style:{color:"red"}},"Error: Tasks data is not an array.")),c.createElement(eh,{task:i,isOpen:!!i,onClose:()=>s(null)}))}function tR(){return c.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",background:"#fff",fontSize:28,fontWeight:700}},"Graphic Creation")}function nR(){return c.createElement(xC,null,c.createElement(eC,null,c.createElement(Q,{element:c.createElement(iS,null)},c.createElement(Q,{path:"/login",element:c.createElement(eS,null)}),c.createElement(Q,{path:"/register",element:c.createElement(JC,null)}),c.createElement(Q,{path:"/forgot-password",element:c.createElement(tS,null)}),c.createElement(Q,{path:"/reset-password/:token",element:c.createElement(sS,null)}),c.createElement(Q,{path:"/",element:c.createElement(cv,{to:"/login",replace:!0})})),c.createElement(Q,{path:"/admin",element:c.createElement(fT,null)},c.createElement(Q,{index:!0,element:c.createElement(oS,null)}),c.createElement(Q,{path:"approval",element:c.createElement(Nm,null,c.createElement(uT,null))}),c.createElement(Q,{path:"manage",element:c.createElement(Nm,null,c.createElement(dT,null))})),c.createElement(Q,{path:"/marketing",element:c.createElement(pT,null)},c.createElement(Q,{index:!0,element:c.createElement(Tm,null)}),c.createElement(Q,{path:"dashboard",element:c.createElement(Tm,null)}),c.createElement(Q,{path:"content-calendar",element:c.createElement(mT,null)}),c.createElement(Q,{path:"approval",element:c.createElement(gT,null)}),c.createElement(Q,{path:"approved",element:c.createElement(yT,null)}),c.createElement(Q,{path:"set-task",element:c.createElement(YT,null)}),c.createElement(Q,{path:"set-task-graphic-designer",element:c.createElement(q2,null)}),c.createElement(Q,{path:"ongoing-task",element:c.createElement(H2,null)}),c.createElement(Q,{path:"set-schedule",element:c.createElement(j2,null)}),c.createElement(Q,{path:"ongoing-schedule",element:c.createElement(V2,null)}),c.createElement(Q,{path:"posted-content",element:c.createElement(G2,null)})),c.createElement(Q,{path:"/content",element:c.createElement(Y2,null)},c.createElement(Q,{index:!0,element:c.createElement($m,null)}),c.createElement(Q,{path:"dashboard",element:c.createElement($m,null)}),c.createElement(Q,{path:"create",element:c.createElement(Q2,null)}),c.createElement(Q,{path:"task",element:c.createElement(X2,null)})),c.createElement(Q,{path:"/graphic",element:c.createElement(Z2,null)},c.createElement(Q,{path:"creation",element:c.createElement(tR,null)}),c.createElement(Q,{index:!0,element:c.createElement(Wm,null)}),c.createElement(Q,{path:"dashboard",element:c.createElement(Wm,null)}),c.createElement(Q,{path:"task",element:c.createElement(eR,null)}))))}Lu.createRoot(document.getElementById("root")).render(c.createElement(c.StrictMode,null,c.createElement(ZC,null,c.createElement(nR,null))));
