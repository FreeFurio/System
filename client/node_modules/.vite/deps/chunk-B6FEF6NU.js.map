{
  "version": 3,
  "sources": ["../../js-binary-schema-parser/lib/index.js", "../../js-binary-schema-parser/lib/parsers/uint8.js", "../../js-binary-schema-parser/lib/schemas/gif.js", "../../gifuct-js/lib/deinterlace.js", "../../gifuct-js/lib/lzw.js", "../../gifuct-js/lib/index.js", "../../polotno/canvas/page.js", "../../polotno/canvas/element.js", "../../polotno/canvas/image-element.js", "../../polotno/canvas/video-element.js", "../../polotno/canvas/figure-element.js", "../../polotno/canvas/gif-element.js", "../../polotno/canvas/highlighter.js", "../../polotno/utils/crop.js"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.conditional = exports.parse = void 0;\n\nvar parse = function parse(stream, schema) {\n  var result = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : result;\n\n  if (Array.isArray(schema)) {\n    schema.forEach(function (partSchema) {\n      return parse(stream, partSchema, result, parent);\n    });\n  } else if (typeof schema === 'function') {\n    schema(stream, result, parent, parse);\n  } else {\n    var key = Object.keys(schema)[0];\n\n    if (Array.isArray(schema[key])) {\n      parent[key] = {};\n      parse(stream, schema[key], result, parent[key]);\n    } else {\n      parent[key] = schema[key](stream, result, parent, parse);\n    }\n  }\n\n  return result;\n};\n\nexports.parse = parse;\n\nvar conditional = function conditional(schema, conditionFunc) {\n  return function (stream, result, parent, parse) {\n    if (conditionFunc(stream, result, parent)) {\n      parse(stream, schema, result, parent);\n    }\n  };\n};\n\nexports.conditional = conditional;\n\nvar loop = function loop(schema, continueFunc) {\n  return function (stream, result, parent, parse) {\n    var arr = [];\n    var lastStreamPos = stream.pos;\n\n    while (continueFunc(stream, result, parent)) {\n      var newParent = {};\n      parse(stream, schema, result, newParent); // cases when whole file is parsed but no termination is there and stream position is not getting updated as well\n      // it falls into infinite recursion, null check to avoid the same\n\n      if (stream.pos === lastStreamPos) {\n        break;\n      }\n\n      lastStreamPos = stream.pos;\n      arr.push(newParent);\n    }\n\n    return arr;\n  };\n};\n\nexports.loop = loop;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readBits = exports.readArray = exports.readUnsigned = exports.readString = exports.peekBytes = exports.readBytes = exports.peekByte = exports.readByte = exports.buildStream = void 0;\n\n// Default stream and parsers for Uint8TypedArray data type\nvar buildStream = function buildStream(uint8Data) {\n  return {\n    data: uint8Data,\n    pos: 0\n  };\n};\n\nexports.buildStream = buildStream;\n\nvar readByte = function readByte() {\n  return function (stream) {\n    return stream.data[stream.pos++];\n  };\n};\n\nexports.readByte = readByte;\n\nvar peekByte = function peekByte() {\n  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function (stream) {\n    return stream.data[stream.pos + offset];\n  };\n};\n\nexports.peekByte = peekByte;\n\nvar readBytes = function readBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos += length);\n  };\n};\n\nexports.readBytes = readBytes;\n\nvar peekBytes = function peekBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos + length);\n  };\n};\n\nexports.peekBytes = peekBytes;\n\nvar readString = function readString(length) {\n  return function (stream) {\n    return Array.from(readBytes(length)(stream)).map(function (value) {\n      return String.fromCharCode(value);\n    }).join('');\n  };\n};\n\nexports.readString = readString;\n\nvar readUnsigned = function readUnsigned(littleEndian) {\n  return function (stream) {\n    var bytes = readBytes(2)(stream);\n    return littleEndian ? (bytes[1] << 8) + bytes[0] : (bytes[0] << 8) + bytes[1];\n  };\n};\n\nexports.readUnsigned = readUnsigned;\n\nvar readArray = function readArray(byteSize, totalOrFunc) {\n  return function (stream, result, parent) {\n    var total = typeof totalOrFunc === 'function' ? totalOrFunc(stream, result, parent) : totalOrFunc;\n    var parser = readBytes(byteSize);\n    var arr = new Array(total);\n\n    for (var i = 0; i < total; i++) {\n      arr[i] = parser(stream);\n    }\n\n    return arr;\n  };\n};\n\nexports.readArray = readArray;\n\nvar subBitsTotal = function subBitsTotal(bits, startIndex, length) {\n  var result = 0;\n\n  for (var i = 0; i < length; i++) {\n    result += bits[startIndex + i] && Math.pow(2, length - i - 1);\n  }\n\n  return result;\n};\n\nvar readBits = function readBits(schema) {\n  return function (stream) {\n    var _byte = readByte()(stream); // convert the byte to bit array\n\n\n    var bits = new Array(8);\n\n    for (var i = 0; i < 8; i++) {\n      bits[7 - i] = !!(_byte & 1 << i);\n    } // convert the bit array to values based on the schema\n\n\n    return Object.keys(schema).reduce(function (res, key) {\n      var def = schema[key];\n\n      if (def.length) {\n        res[key] = subBitsTotal(bits, def.index, def.length);\n      } else {\n        res[key] = bits[def.index];\n      }\n\n      return res;\n    }, {});\n  };\n};\n\nexports.readBits = readBits;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _ = require(\"../\");\n\nvar _uint = require(\"../parsers/uint8\");\n\n// a set of 0x00 terminated subblocks\nvar subBlocksSchema = {\n  blocks: function blocks(stream) {\n    var terminator = 0x00;\n    var chunks = [];\n    var streamSize = stream.data.length;\n    var total = 0;\n\n    for (var size = (0, _uint.readByte)()(stream); size !== terminator; size = (0, _uint.readByte)()(stream)) {\n      // size becomes undefined for some case when file is corrupted and  terminator is not proper \n      // null check to avoid recursion\n      if (!size) break; // catch corrupted files with no terminator\n\n      if (stream.pos + size >= streamSize) {\n        var availableSize = streamSize - stream.pos;\n        chunks.push((0, _uint.readBytes)(availableSize)(stream));\n        total += availableSize;\n        break;\n      }\n\n      chunks.push((0, _uint.readBytes)(size)(stream));\n      total += size;\n    }\n\n    var result = new Uint8Array(total);\n    var offset = 0;\n\n    for (var i = 0; i < chunks.length; i++) {\n      result.set(chunks[i], offset);\n      offset += chunks[i].length;\n    }\n\n    return result;\n  }\n}; // global control extension\n\nvar gceSchema = (0, _.conditional)({\n  gce: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    byteSize: (0, _uint.readByte)()\n  }, {\n    extras: (0, _uint.readBits)({\n      future: {\n        index: 0,\n        length: 3\n      },\n      disposal: {\n        index: 3,\n        length: 3\n      },\n      userInput: {\n        index: 6\n      },\n      transparentColorGiven: {\n        index: 7\n      }\n    })\n  }, {\n    delay: (0, _uint.readUnsigned)(true)\n  }, {\n    transparentColorIndex: (0, _uint.readByte)()\n  }, {\n    terminator: (0, _uint.readByte)()\n  }]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xf9;\n}); // image pipeline block\n\nvar imageSchema = (0, _.conditional)({\n  image: [{\n    code: (0, _uint.readByte)()\n  }, {\n    descriptor: [{\n      left: (0, _uint.readUnsigned)(true)\n    }, {\n      top: (0, _uint.readUnsigned)(true)\n    }, {\n      width: (0, _uint.readUnsigned)(true)\n    }, {\n      height: (0, _uint.readUnsigned)(true)\n    }, {\n      lct: (0, _uint.readBits)({\n        exists: {\n          index: 0\n        },\n        interlaced: {\n          index: 1\n        },\n        sort: {\n          index: 2\n        },\n        future: {\n          index: 3,\n          length: 2\n        },\n        size: {\n          index: 5,\n          length: 3\n        }\n      })\n    }]\n  }, (0, _.conditional)({\n    lct: (0, _uint.readArray)(3, function (stream, result, parent) {\n      return Math.pow(2, parent.descriptor.lct.size + 1);\n    })\n  }, function (stream, result, parent) {\n    return parent.descriptor.lct.exists;\n  }), {\n    data: [{\n      minCodeSize: (0, _uint.readByte)()\n    }, subBlocksSchema]\n  }]\n}, function (stream) {\n  return (0, _uint.peekByte)()(stream) === 0x2c;\n}); // plain text block\n\nvar textSchema = (0, _.conditional)({\n  text: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    preData: function preData(stream, result, parent) {\n      return (0, _uint.readBytes)(parent.text.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0x01;\n}); // application block\n\nvar applicationSchema = (0, _.conditional)({\n  application: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    id: function id(stream, result, parent) {\n      return (0, _uint.readString)(parent.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xff;\n}); // comment block\n\nvar commentSchema = (0, _.conditional)({\n  comment: [{\n    codes: (0, _uint.readBytes)(2)\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xfe;\n});\nvar schema = [{\n  header: [{\n    signature: (0, _uint.readString)(3)\n  }, {\n    version: (0, _uint.readString)(3)\n  }]\n}, {\n  lsd: [{\n    width: (0, _uint.readUnsigned)(true)\n  }, {\n    height: (0, _uint.readUnsigned)(true)\n  }, {\n    gct: (0, _uint.readBits)({\n      exists: {\n        index: 0\n      },\n      resolution: {\n        index: 1,\n        length: 3\n      },\n      sort: {\n        index: 4\n      },\n      size: {\n        index: 5,\n        length: 3\n      }\n    })\n  }, {\n    backgroundColorIndex: (0, _uint.readByte)()\n  }, {\n    pixelAspectRatio: (0, _uint.readByte)()\n  }]\n}, (0, _.conditional)({\n  gct: (0, _uint.readArray)(3, function (stream, result) {\n    return Math.pow(2, result.lsd.gct.size + 1);\n  })\n}, function (stream, result) {\n  return result.lsd.gct.exists;\n}), // content frames\n{\n  frames: (0, _.loop)([gceSchema, applicationSchema, commentSchema, imageSchema, textSchema], function (stream) {\n    var nextCode = (0, _uint.peekByte)()(stream); // rather than check for a terminator, we should check for the existence\n    // of an ext or image block to avoid infinite loops\n    //var terminator = 0x3B;\n    //return nextCode !== terminator;\n\n    return nextCode === 0x21 || nextCode === 0x2c;\n  })\n}];\nvar _default = schema;\nexports[\"default\"] = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deinterlace = void 0;\n\n/**\r\n * Deinterlace function from https://github.com/shachaf/jsgif\r\n */\nvar deinterlace = function deinterlace(pixels, width) {\n  var newPixels = new Array(pixels.length);\n  var rows = pixels.length / width;\n\n  var cpRow = function cpRow(toRow, fromRow) {\n    var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n  }; // See appendix E.\n\n\n  var offsets = [0, 4, 2, 1];\n  var steps = [8, 8, 4, 2];\n  var fromRow = 0;\n\n  for (var pass = 0; pass < 4; pass++) {\n    for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n      cpRow(toRow, fromRow);\n      fromRow++;\n    }\n  }\n\n  return newPixels;\n};\n\nexports.deinterlace = deinterlace;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lzw = void 0;\n\n/**\r\n * javascript port of java LZW decompression\r\n * Original java author url: https://gist.github.com/devunwired/4479231\r\n */\nvar lzw = function lzw(minCodeSize, data, pixelCount) {\n  var MAX_STACK_SIZE = 4096;\n  var nullCode = -1;\n  var npix = pixelCount;\n  var available, clear, code_mask, code_size, end_of_information, in_code, old_code, bits, code, i, datum, data_size, first, top, bi, pi;\n  var dstPixels = new Array(pixelCount);\n  var prefix = new Array(MAX_STACK_SIZE);\n  var suffix = new Array(MAX_STACK_SIZE);\n  var pixelStack = new Array(MAX_STACK_SIZE + 1); // Initialize GIF data stream decoder.\n\n  data_size = minCodeSize;\n  clear = 1 << data_size;\n  end_of_information = clear + 1;\n  available = clear + 2;\n  old_code = nullCode;\n  code_size = data_size + 1;\n  code_mask = (1 << code_size) - 1;\n\n  for (code = 0; code < clear; code++) {\n    prefix[code] = 0;\n    suffix[code] = code;\n  } // Decode GIF pixel stream.\n\n\n  var datum, bits, count, first, top, pi, bi;\n  datum = bits = count = first = top = pi = bi = 0;\n\n  for (i = 0; i < npix;) {\n    if (top === 0) {\n      if (bits < code_size) {\n        // get the next byte\n        datum += data[bi] << bits;\n        bits += 8;\n        bi++;\n        continue;\n      } // Get the next code.\n\n\n      code = datum & code_mask;\n      datum >>= code_size;\n      bits -= code_size; // Interpret the code\n\n      if (code > available || code == end_of_information) {\n        break;\n      }\n\n      if (code == clear) {\n        // Reset decoder.\n        code_size = data_size + 1;\n        code_mask = (1 << code_size) - 1;\n        available = clear + 2;\n        old_code = nullCode;\n        continue;\n      }\n\n      if (old_code == nullCode) {\n        pixelStack[top++] = suffix[code];\n        old_code = code;\n        first = code;\n        continue;\n      }\n\n      in_code = code;\n\n      if (code == available) {\n        pixelStack[top++] = first;\n        code = old_code;\n      }\n\n      while (code > clear) {\n        pixelStack[top++] = suffix[code];\n        code = prefix[code];\n      }\n\n      first = suffix[code] & 0xff;\n      pixelStack[top++] = first; // add a new string to the table, but only if space is available\n      // if not, just continue with current table until a clear code is found\n      // (deferred clear code implementation as per GIF spec)\n\n      if (available < MAX_STACK_SIZE) {\n        prefix[available] = old_code;\n        suffix[available] = first;\n        available++;\n\n        if ((available & code_mask) === 0 && available < MAX_STACK_SIZE) {\n          code_size++;\n          code_mask += available;\n        }\n      }\n\n      old_code = in_code;\n    } // Pop a pixel off the pixel stack.\n\n\n    top--;\n    dstPixels[pi++] = pixelStack[top];\n    i++;\n  }\n\n  for (i = pi; i < npix; i++) {\n    dstPixels[i] = 0; // clear missing pixels\n  }\n\n  return dstPixels;\n};\n\nexports.lzw = lzw;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decompressFrames = exports.decompressFrame = exports.parseGIF = void 0;\n\nvar _gif = _interopRequireDefault(require(\"js-binary-schema-parser/lib/schemas/gif\"));\n\nvar _jsBinarySchemaParser = require(\"js-binary-schema-parser\");\n\nvar _uint = require(\"js-binary-schema-parser/lib/parsers/uint8\");\n\nvar _deinterlace = require(\"./deinterlace\");\n\nvar _lzw = require(\"./lzw\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar parseGIF = function parseGIF(arrayBuffer) {\n  var byteData = new Uint8Array(arrayBuffer);\n  return (0, _jsBinarySchemaParser.parse)((0, _uint.buildStream)(byteData), _gif[\"default\"]);\n};\n\nexports.parseGIF = parseGIF;\n\nvar generatePatch = function generatePatch(image) {\n  var totalPixels = image.pixels.length;\n  var patchData = new Uint8ClampedArray(totalPixels * 4);\n\n  for (var i = 0; i < totalPixels; i++) {\n    var pos = i * 4;\n    var colorIndex = image.pixels[i];\n    var color = image.colorTable[colorIndex] || [0, 0, 0];\n    patchData[pos] = color[0];\n    patchData[pos + 1] = color[1];\n    patchData[pos + 2] = color[2];\n    patchData[pos + 3] = colorIndex !== image.transparentIndex ? 255 : 0;\n  }\n\n  return patchData;\n};\n\nvar decompressFrame = function decompressFrame(frame, gct, buildImagePatch) {\n  if (!frame.image) {\n    console.warn('gif frame does not have associated image.');\n    return;\n  }\n\n  var image = frame.image; // get the number of pixels\n\n  var totalPixels = image.descriptor.width * image.descriptor.height; // do lzw decompression\n\n  var pixels = (0, _lzw.lzw)(image.data.minCodeSize, image.data.blocks, totalPixels); // deal with interlacing if necessary\n\n  if (image.descriptor.lct.interlaced) {\n    pixels = (0, _deinterlace.deinterlace)(pixels, image.descriptor.width);\n  }\n\n  var resultImage = {\n    pixels: pixels,\n    dims: {\n      top: frame.image.descriptor.top,\n      left: frame.image.descriptor.left,\n      width: frame.image.descriptor.width,\n      height: frame.image.descriptor.height\n    }\n  }; // color table\n\n  if (image.descriptor.lct && image.descriptor.lct.exists) {\n    resultImage.colorTable = image.lct;\n  } else {\n    resultImage.colorTable = gct;\n  } // add per frame relevant gce information\n\n\n  if (frame.gce) {\n    resultImage.delay = (frame.gce.delay || 10) * 10; // convert to ms\n\n    resultImage.disposalType = frame.gce.extras.disposal; // transparency\n\n    if (frame.gce.extras.transparentColorGiven) {\n      resultImage.transparentIndex = frame.gce.transparentColorIndex;\n    }\n  } // create canvas usable imagedata if desired\n\n\n  if (buildImagePatch) {\n    resultImage.patch = generatePatch(resultImage);\n  }\n\n  return resultImage;\n};\n\nexports.decompressFrame = decompressFrame;\n\nvar decompressFrames = function decompressFrames(parsedGif, buildImagePatches) {\n  return parsedGif.frames.filter(function (f) {\n    return f.image;\n  }).map(function (f) {\n    return decompressFrame(f, parsedGif.gct, buildImagePatches);\n  });\n};\n\nexports.decompressFrames = decompressFrames;", "var e=this&&this.__rest||function(e,t){var n={};for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i])}if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++){t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}}return n};import t from\"react\";import{observer as n,useLocalObservable as i}from\"mobx-react-lite\";import{action as o,runInAction as r}from\"mobx\";import{Group as l,Image as a,Label as s,Layer as c,Line as d,Rect as m,Stage as h,Tag as u,Text as g,Transformer as p}from\"react-konva\";import f from\"use-image\";import b from\"konva\";import x from\"./element.js\";import{ensureDragOrder as v,useSnap as E}from\"./use-transformer-snap.js\";import{useImageLoader as y}from\"./image-element.js\";import{getCrop as w}from\"../utils/crop.js\";import{___ as k,isCreditVisible as Y}from\"../utils/validate-key.js\";import{getClientRect as S,getTotalClientRect as X}from\"../utils/math.js\";import{pxToUnitRounded as C,pxToUnitString as A}from\"../utils/unit.js\";import{flags as O}from\"../utils/flags.js\";import{isTouchDevice as P}from\"../utils/screen.js\";import{useColor as L}from\"./use-color.js\";import{isGradient as R}from\"../utils/gradient.js\";import{Html as M}from\"react-konva-utils\";const j=b.DD._drag;window.removeEventListener(\"mousemove\",j),b.DD._drag=function(e){r(()=>{j.call(this,e)})},window.addEventListener(\"mousemove\",b.DD._drag);const D=new b.Group,I=20;D.add(new b.Rect({width:I,height:I,fill:\"white\"})),D.add(new b.Path({scaleX:I/24,scaleY:I/24,data:\"M4.98313549,11.0001422 C5.49589839,10.9914935 5.92501998,11.3703506 5.99116425,11.8666444 L5.99985778,11.9831355 L6.00348884,12.2068855 C6.11245031,15.4321748 8.76323537,17.9999971 11.9999971,17.9999971 C12.1869612,17.9999971 12.3726725,17.9914753 12.5567465,17.9745765 L12.2928932,17.7071068 C11.9023689,17.3165825 11.9023689,16.6834175 12.2928932,16.2928932 C12.6834175,15.9023689 13.3165825,15.9023689 13.7071068,16.2928932 L15.7071068,18.2928932 C16.0976311,18.6834175 16.0976311,19.3165825 15.7071068,19.7071068 L13.7071068,21.7071068 C13.3165825,22.0976311 12.6834175,22.0976311 12.2928932,21.7071068 C11.9023689,21.3165825 11.9023689,20.6834175 12.2928932,20.2928932 L12.6111505,19.9769552 C12.4086045,19.9922816 12.2047796,19.9999971 11.9999971,19.9999971 C7.7687005,19.9999971 4.28886152,16.7094374 4.01666425,12.5105203 L4.00420123,12.2575143 L4.00014222,12.0168645 C3.9908282,11.4646583 4.43092928,11.0094562 4.98313549,11.0001422 Z M11.7071068,2.29289322 C12.0675907,2.65337718 12.0953203,3.22060824 11.7902954,3.61289944 L11.7071068,3.70710678 L11.3891629,4.0230186 C11.5916051,4.00770767 11.7953244,4 12,4 C16.418278,4 20,7.581722 20,12 C20,12.5522847 19.5522847,13 19,13 C18.4477153,13 18,12.5522847 18,12 C18,8.6862915 15.3137085,6 12,6 C11.8129339,6 11.6271216,6.00853145 11.4429483,6.02544919 L11.7071068,6.29289322 C12.0976311,6.68341751 12.0976311,7.31658249 11.7071068,7.70710678 C11.3466228,8.06759074 10.7793918,8.09532028 10.3871006,7.79029539 L10.2928932,7.70710678 L8.29289322,5.70710678 C7.93240926,5.34662282 7.90467972,4.77939176 8.20970461,4.38710056 L8.29289322,4.29289322 L10.2928932,2.29289322 C10.6834175,1.90236893 11.3165825,1.90236893 11.7071068,2.29289322 Z\",fill:\"black\"}));const T=D.toCanvas({pixelRatio:2,width:I,height:I}),W={enabledAnchors:[\"top-left\",\"top-center\",\"top-right\",\"middle-left\",\"bottom-left\",\"bottom-right\",\"bottom-center\",\"middle-right\"],borderEnabled:!0,rotateEnabled:!0,rotationSnaps:[0,45,90,135,180,225,270,315],ignoreStroke:!0,flipEnabled:!1,anchorStrokeWidth:2,borderStrokeWidth:2,rotateAnchorOffset:30,anchorStyleFunc:e=>{if(e.hasName(\"rotater\")){const t=20;e.setAttrs({width:t,height:t,cornerRadius:t/2,offsetX:t/2,offsetY:t/2,fillPatternImage:T,fillPatternScaleX:t/I/2,fillPatternScaleY:t/I/2,fillPriority:\"pattern\",fillPatternRepeat:\"no-repeat\"})}}};export const setTransformerStyle=e=>{Object.assign(W,e)};const B={text:{enabledAnchors:[\"top-left\",\"top-right\",\"middle-left\",\"bottom-left\",\"bottom-right\",\"middle-right\"]},svg:{enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]},gif:{enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]},line:{enabledAnchors:[],borderEnabled:!1,rotateEnabled:!1},image:{enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]},many:{enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]},group:{enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]}};export function registerTransformerAttrs(e,t){B[e]=B[e]||t,Object.assign(B[e],t)}const F=e=>t.createElement(m,Object.assign({},e,{preventDefault:!1})),G=n=>{var{url:i}=n,o=e(n,[\"url\"]);const[r,l]=f(i,\"anonymous\"),s=r?w(r,{width:o.width,height:o.height},\"center-middle\"):{};return y(l,i,\"page background\"),t.createElement(a,Object.assign({image:r},o,s))},_=e=>{const n=L({fill:e.fill,a:{width:e.width,height:e.height}});return t.createElement(m,Object.assign({},e,n))},z=n=>{const{background:i,scale:o,borderColor:r}=n,l=e(n,[\"background\",\"scale\",\"borderColor\"]),a=t.useMemo(()=>!!b.Util.colorToRGBA(i)||R(i),[i]),s=t.useMemo(()=>{const e=document.createElement(\"canvas\"),t=30;e.width=60,e.height=60;const n=e.getContext(\"2d\");return n&&(n.fillStyle=\"black\",n.fillRect(t,0,t,t),n.fillRect(0,t,t,t)),e},[]);return t.createElement(t.Fragment,null,t.createElement(m,Object.assign({fillPatternImage:s},l,{opacity:.1,hideInExport:!0})),a?t.createElement(_,Object.assign({fill:i},l)):t.createElement(G,Object.assign({url:i},l)))},N=n(({selection:e,fill:n=\"rgba(0, 161, 255, 0.3)\",stroke:i=\"rgb(0, 161, 255)\",strokeWidth:o=1})=>e.visible?t.createElement(m,{name:\"selection\",x:Math.min(e.x1,e.x2),y:Math.min(e.y1,e.y2),width:Math.abs(e.x1-e.x2),height:Math.abs(e.y1-e.y2),fill:n,stroke:i,strokeWidth:o}):null),H=n(({x:e,y:n,width:i,height:o,rotation:r,anchor:l,store:a,tagFill:c,textFill:d})=>{const m=S({x:e,y:n,width:i,height:o,rotation:b.Util.radToDeg(r)});if(void 0===l){return null}const h=(o/2+70)*Math.cos(r-Math.PI/2),p=(o/2+70)*Math.sin(r-Math.PI/2),f=C({unit:a.unit,dpi:a.dpi,px:i/a.scale,precious:\"px\"===a.unit?0:1})+\" x \"+C({unit:a.unit,dpi:a.dpi,px:o/a.scale,precious:\"px\"===a.unit?0:1})+(\"px\"===a.unit?\"\":\" \"+a.unit);return t.createElement(t.Fragment,null,t.createElement(s,{x:(m.minX+m.maxX)/2+h,y:(m.minY+m.maxY)/2+p,offsetX:14,offsetY:14,visible:\"rotater\"===l},t.createElement(u,{cornerRadius:5,fill:c||\"rgb(0, 161, 255)\"}),t.createElement(g,{align:\"center\",verticalAlign:\"middle\",fill:d||\"white\",padding:8,text:Math.round(b.Util.radToDeg(r)).toString()+\"Â°\"})),t.createElement(s,{x:(m.minX+m.maxX)/2,y:m.maxY+20,visible:\"rotater\"!==l},t.createElement(u,{cornerRadius:5,fill:c||\"rgb(0, 161, 255)\",pointerDirection:\"up\",pointerHeight:0,pointerWidth:0}),t.createElement(g,{align:\"center\",verticalAlign:\"middle\",fill:d||\"white\",padding:8,text:f})))}),V=n(({elements:e,store:n})=>{const i=e.filter(e=>e.alwaysOnTop),o=e.filter(e=>!e.alwaysOnTop).concat(i);return t.createElement(t.Fragment,null,o.map(e=>t.createElement(x,{key:e.id,store:n,element:e,onClick:()=>{console.warn(\"Polotno warning: onClick callback is deprecated. Just stop using it. Polotno will do selection automatically.\")}})))});export const useContextMenu=({store:e})=>{const[n,i]=t.useState(!1),[o,r]=t.useState({x:0,y:0}),l=t.useCallback(e=>{i(!0),r(e)},[]);return{open:l,close:t.useCallback(()=>{i(!1)},[]),props:{isOpen:n,offset:o,setIsOpen:i}}};let Z=null;export const registerNextDomDrop=e=>{Z=e};const K=atob(\"UG9sb3RubyBmcmVlIGxpY2Vuc2UgbGltaXRhdGlvbiBleGNlZWRlZCAtIFBsZWFzZSB1cGdyYWRlIHlvdXIgYWNjb3VudC4=\"),U=atob(\"cmVk\"),J=atob(\"djAuOS4y\"),$=e=>t.createElement(t.Fragment,null,t.createElement(s,{fill:U,height:200},t.createElement(u,{fill:U}),t.createElement(g,Object.assign({},e,{fill:\"white\",text:K,height:void 0,padding:10,fontSize:20}))));export default n(({store:e,page:n,width:r,height:a,pageControlsEnabled:f,backColor:x,pageBorderColor:y,activePageBorderColor:w,components:C,bleedColor:L,altCloneEnabled:R,viewportSize:j,selectionRectFill:D,selectionRectStroke:I,selectionRectStrokeWidth:T,snapGuideStroke:G,snapGuideStrokeWidth:_,snapGuideDash:K,transformLabelFill:U,transformLabelTextFill:q,distanceGuideStroke:Q,distanceLabelFill:ee,distanceLabelTextFill:te})=>{const ne=e.bleedVisible?n.bleed:0,ie=n.computedWidth+2*ne,oe=n.computedHeight+2*ne,re=(r-ie*e.scale)/2,le=(a-oe*e.scale)/2,ae=t.useRef(null),se=t.useRef(null),ce=t.useRef(null),de=null==f||f,[me,he]=t.useState(null),[ue,ge]=t.useState({}),pe=useContextMenu({store:e}),fe=e.selectedElements.find(e=>e._cropModeEnabled),be=e.selectedElements.find(e=>e.curveEnabled),xe=e.selectedShapes.filter(e=>!e.resizable).length>0,ve=e.selectedShapes.filter(e=>!e.draggable).length>0,Ee=e.selectedElements.filter(e=>!e.visible).length>0;t.useLayoutEffect(()=>{var t,n,i;if(!ae.current){return}const o=ae.current.getStage(),r=e.selectedShapes.map(e=>e._cropModeEnabled?null:o.findOne(\"#\"+e.id)).filter(e=>e),l=1===e.selectedElements.length,a=l&&(null===(t=e.selectedElements[0])||void 0===t?void 0:t.type)||\"many\";B[a]?(ae.current.setAttrs(Object.assign(Object.assign({},W),B[a])),\"svg\"!==a&&\"image\"!==a&&\"gif\"!==a||e.selectedElements[0].keepRatio||ae.current.setAttrs({enabledAnchors:W.enabledAnchors}),\"text\"===a&&O.textVerticalResizeEnabled&&ae.current.setAttrs({enabledAnchors:null===(n=B.text.enabledAnchors)||void 0===n?void 0:n.concat([\"bottom-center\"])}),\"text\"===a&&l&&e.selectedElements[0].curveEnabled&&ae.current.setAttrs({enabledAnchors:B.many.enabledAnchors})):ae.current.setAttrs(W),xe&&ae.current.enabledAnchors([]),ve&&ae.current.rotateEnabled(!1),r.find(e=>null==e?void 0:e.isDragging())&&r.forEach(e=>{e.isDragging()||null==e||e.startDrag()}),ae.current.nodes(r),v(),null===(i=ae.current.getLayer())||void 0===i||i.batchDraw()},[e.selectedShapes,fe,xe,Ee,ve,be]);const ye=i(()=>({visible:!1,x1:0,y1:0,x2:0,y2:0})),we=t.useRef(!1),ke=P(),Ye=o(e=>{var t,n,i,o;if(ke){return}we.current=!1;const r=e.target.findAncestor(\".elements-container\"),l=e.target.findAncestor(\"Transformer\"),a=e.target.findAncestor(\".page-abs-container\");if(r||l||a){return}const s=null===(t=e.target.getStage())||void 0===t?void 0:t.getPointerPosition();s.x-=null===(n=e.target.getStage())||void 0===n?void 0:n.x(),s.y-=null===(i=e.target.getStage())||void 0===i?void 0:i.y(),s&&(ye.visible=!0,ye.x1=s.x,ye.y1=s.y,ye.x2=s.x,ye.y2=s.y,(null===(o=e.target.getStage())||void 0===o?void 0:o.getPointersPositions().length)>=2&&(ye.visible=!1))});(({stageRef:e,containerRef:n,viewportSize:i})=>{t.useEffect(()=>{var t;const i=null===(t=n.current)||void 0===t?void 0:t.closest(\".polotno-workspace-inner\");function o(){var t;if(!e.current){return}const o=null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect(),r=null==i?void 0:i.getBoundingClientRect(),l=Math.max(0,r.left-o.left-100),a=Math.max(0,r.top-o.top-100);e.current.position({x:-l,y:-a}),e.current.container().style.transform=`translate(${l}px, ${a}px)`}return o(),i.addEventListener(\"scroll\",o),()=>{i.removeEventListener(\"scroll\",o)}},[i.width,i.height])})({stageRef:se,containerRef:ce,viewportSize:j}),t.useEffect(()=>{const t=o(e=>{var t,n,i,o;if(!ye.visible){return}null===(t=se.current)||void 0===t||t.setPointersPositions(e);let r=null===(n=se.current)||void 0===n?void 0:n.getPointerPosition();r?(r.x-=null===(i=se.current)||void 0===i?void 0:i.x(),r.y-=null===(o=se.current)||void 0===o?void 0:o.y()):r={x:ye.x2,y:ye.y2},ye.x2=r.x,ye.y2=r.y}),n=o(()=>{if(!ye.visible){return}if(!se.current){return}const t=se.current.findOne(\".selection\"),n=t?t.getClientRect():{width:0,height:0,x:0,y:0};if(n.width&&n.height){const t=[];se.current.find(\".element\").forEach(i=>{const o=i.getClientRect(),r=e.getElementById(i.id()),l=null==r?void 0:r.draggable,a=null==r?void 0:r.selectable;b.Util.haveIntersection(n,o)&&l&&a&&t.push(r.top.id)});const i=[...new Set(t)];e.selectElements(i)}ye.visible=!1,we.current=!0});return window.addEventListener(\"mousemove\",t),window.addEventListener(\"touchmove\",t),window.addEventListener(\"mouseup\",n),window.addEventListener(\"touchend\",n),()=>{window.removeEventListener(\"mousemove\",t),window.removeEventListener(\"touchmove\",t),window.removeEventListener(\"mouseup\",n),window.removeEventListener(\"touchend\",n)}},[]);const Se=t.useRef(!1);t.useEffect(()=>{var e;let t;const n=null===(e=ce.current)||void 0===e?void 0:e.closest(\".polotno-workspace-inner\"),i=()=>{Se.current=!0,clearTimeout(t),t=setTimeout(()=>{Se.current=!1},300)};return n.addEventListener(\"scroll\",i),()=>{clearTimeout(t),n.removeEventListener(\"scroll\",i)}},[]);const Xe=t=>{if(e.activePage!==n&&n.select(),Se.current){return}if(we.current){return}const i=t.evt.ctrlKey||t.evt.metaKey||t.evt.shiftKey,o=t.target.findAncestor(\".elements-container\"),r=t.target.findAncestor(\".page-abs-container\"),l=t.target.findAncestor(\"Transformer\");if(!(i||o||l||r||ye.visible)){return void e.selectElements([])}const a=t.target.findAncestor(\".element\",!0),s=e.getElementById(null==a?void 0:a.id()),c=null==s?void 0:s.top,d=null==c?void 0:c.id,m=e.selectedElementsIds.indexOf(d)>=0,h=t.target.findAncestor(\".page-container\",!0);d&&i&&!m?e.selectElements(e.selectedElementsIds.concat([d])):d&&i&&m?e.selectElements(e.selectedElementsIds.filter(e=>e!==d)):!d||i||m?h?e.selectPages([n.id]):e.selectPages([]):e.selectElements([d])};E(ae,e,{stroke:G,strokeWidth:_,dash:K});const Ce=e.activePage===n,Ae=e._selectedPagesIds.includes(n.id),Oe=null==C?void 0:C.PageControls,Pe=null==C?void 0:C.Tooltip,Le=null==C?void 0:C.ContextMenu,Re=1/e.scale,Me=0/e.scale;return t.createElement(\"div\",{ref:ce,onDragOver:e=>e.preventDefault(),onDrop:t=>{if(t.preventDefault(),!se.current){return}se.current.setPointersPositions(t);const i=se.current.findOne(\".elements-container\").getRelativePointerPosition(),o=se.current.getPointerPosition(),r=se.current.getAllIntersections(o).map(e=>e.findAncestor(\".element\",!0)).filter(Boolean),l=[...new Set(r.reverse())].map(t=>e.getElementById(t.id())),a=l[0];Z&&(Z(i,a,{elements:l,page:n}),Z=null)},style:{position:\"relative\",width:r+\"px\",height:a+\"px\",overflow:\"hidden\"},className:\"polotno-page-container\"+(Ce?\" active-page\":\"\")},t.createElement(h,{ref:se,width:Math.min(r,j.width+200),height:Math.min(j.height+200,a),onClick:Xe,onTap:Xe,onContextMenu:t=>{t.evt.preventDefault();const n=t.target.findAncestor(\".element\",!0),i=e.getElementById(null==n?void 0:n.id()),o=null==i?void 0:i.top,r=null==o?void 0:o.id;r?e.selectedElementsIds.indexOf(r)>=0||e.selectElements([r]):e.selectElements([]),pe.open({x:t.evt.clientX,y:t.evt.clientY})},onMouseDown:Ye,onMouseMove:t=>{if(!t.evt.altKey&&me){return void he(null)}if(!t.evt.altKey){return}const i=t.target.findAncestor(\".element\",!0),o=null==i?void 0:i.id();if(!e.selectedElements[0]){return}if(e.selectedElementsIds.includes(o)){return}const r=X(e.selectedShapes),l=o?e.getElementById(o):{x:0,y:0,width:n.computedWidth,height:n.computedHeight,rotation:0},a=S(l),s=[];r.minX>a.maxX&&s.push({distance:r.minX-a.maxX,box1:r,box2:a,points:[{x:r.minX,y:r.minY+r.height/2},{x:a.maxX,y:r.minY+r.height/2},{x:a.maxX,y:a.minY+a.height/2}]}),r.maxX<a.minX&&s.push({distance:a.minX-r.maxX,box1:r,box2:a,points:[{x:r.maxX,y:r.minY+r.height/2},{x:a.minX,y:r.minY+r.height/2},{x:a.minX,y:a.minY+a.height/2}]}),r.minY>a.maxY&&s.push({box1:r,box2:a,distance:r.minY-a.maxY,points:[{x:r.minX+r.width/2,y:r.minY},{x:r.minX+r.width/2,y:a.maxY},{x:a.minX+a.width/2,y:a.maxY}]}),r.maxY<a.minY&&s.push({box1:r,box2:a,distance:a.minY-r.maxY,points:[{x:r.minX+r.width/2,y:r.maxY},{x:r.minX+r.width/2,y:a.minY},{x:a.minX+a.width/2,y:a.minY}]}),r.minX>=a.minX&&r.maxX<=a.maxX&&r.minY>=a.minY&&r.maxY<=a.maxY&&(s.push({distance:r.minX-a.minX,box1:r,box2:a,points:[{x:r.minX,y:r.minY+r.height/2},{x:a.minX,y:r.minY+r.height/2},{x:a.minX,y:a.minY+a.height/2}]}),s.push({distance:a.maxX-r.maxX,box1:r,box2:a,points:[{x:r.maxX,y:r.minY+r.height/2},{x:a.maxX,y:r.minY+r.height/2},{x:a.maxX,y:a.minY+a.height/2}]}),s.push({box1:r,box2:a,distance:r.minY-a.minY,points:[{x:r.minX+r.width/2,y:r.minY},{x:r.minX+r.width/2,y:a.minY},{x:a.minX+a.width/2,y:a.minY}]}),s.push({box1:r,box2:a,distance:a.maxY-r.maxY,points:[{x:r.minX+r.width/2,y:r.maxY},{x:r.minX+r.width/2,y:a.maxY},{x:a.minX+a.width/2,y:a.maxY}]})),JSON.stringify(me)!==JSON.stringify(s)&&he(s)},onDragStart:t=>{var n;const i=t.target.findAncestor(\".element\",!0);if(i){const o=e.getElementById(null==i?void 0:i.id()),r=null==o?void 0:o.top,l=null==r?void 0:r.id;!(e.selectedElementsIds.indexOf(l)>=0)&&l&&(e.selectElements([l]),t.target.stopDrag(),t.target.startDrag(t),null===(n=ae.current)||void 0===n||n.startDrag(t))}me&&he(null)},pageId:n.id,style:{position:\"absolute\",overflow:\"hidden\",top:0,left:0}},t.createElement(c,null,t.createElement(F,{width:r,height:a,fill:x}),t.createElement(l,{x:re,y:le,scaleX:e.scale,scaleY:e.scale,name:\"page-container\"},t.createElement(l,{name:\"page-container-2\"},t.createElement(l,{name:\"page-background-group\",x:ne,y:ne},t.createElement(z,{x:-n.bleed,y:-n.bleed,width:n.computedWidth+2*n.bleed,height:n.computedHeight+2*n.bleed,background:n.background,name:\"page-background\",preventDefault:!1,scale:e.scale})),t.createElement(l,{x:ne,y:ne,name:\"elements-container\",listening:!e.isPlaying},t.createElement(m,{name:\"elements-area\",width:n.computedWidth,height:n.computedHeight,listening:!1}),t.createElement(V,{elements:n.children,store:e})),t.createElement(m,{stroke:L,name:\"bleed\",strokeWidth:n.bleed,x:n.bleed/2,y:n.bleed/2,width:n.computedWidth+n.bleed,height:n.computedHeight+n.bleed,listening:!1,visible:n.bleed>0&&e.bleedVisible,hideInExport:!0}),k()===J&&t.createElement($,{name:\"hit-detection\",x:-Re/2-Me,y:-Re/2-Me,width:ie+Re+2*Me,height:oe+Re+2*Me}))),t.createElement(d,{name:\"workspace-background\",points:[0,0,r,0,r,a,0,a,0,0,re,le,re,a-le,r-re,a-le,r-re,le,re,le],listening:!1,closed:!0,fill:x}),t.createElement(l,{x:re,y:le,scaleX:e.scale,scaleY:e.scale},t.createElement(m,{name:\"page-highlight\",hideInExport:!0,x:-Re/2-Me,y:-Re/2-Me,width:ie+Re+2*Me,height:oe+Re+2*Me,stroke:Ae?w:y,strokeWidth:2,listening:!1,strokeScaleEnabled:!1})),t.createElement(l,{x:re+ne*e.scale,y:le+ne*e.scale,scaleX:e.scale,scaleY:e.scale,name:\"page-abs-container\"},t.createElement(p,{ref:ae,onDragStart:t=>{var i;(null===(i=t.evt)||void 0===i?void 0:i.altKey)&&R&&e.selectedElements.forEach(e=>{const t=e.clone({},{skipSelect:!0}),i=n.children.indexOf(e);n.setElementZIndex(t.id,i)}),e.history.startTransaction()},onDragEnd:()=>{e.history.endTransaction()},onTransformStart:()=>{e.history.startTransaction(),he(null)},boundBoxFunc:(e,t)=>{const n=Math.abs(t.width)<1||Math.abs(t.height)<1,i=Math.abs(e.width)<1||Math.abs(e.height)<1;return n&&!i?e:t},onTransform:e=>{var t,n;const i=ae.current.nodes(),o=i[i.length-1];if(e.target!==o){return}const r=null===(t=ae.current)||void 0===t?void 0:t.__getNodeRect(),l=null===(n=ae.current)||void 0===n?void 0:n.getActiveAnchor();ge({anchor:l,x:r.x,y:r.y,rotation:r.rotation,width:r.width,height:r.height})},onTransformEnd:t=>{ge({}),e.history.endTransaction()},visible:!e.isPlaying}),me&&me.map(({points:n,distance:i,box1:o,box2:r},a)=>t.createElement(l,{name:\"distances-container\",hideInExport:!0,key:a,listening:!1},t.createElement(m,Object.assign({},o,{stroke:Q,strokeWidth:1,strokeScaleEnabled:!1})),t.createElement(m,Object.assign({},r,{stroke:Q,strokeWidth:1,strokeScaleEnabled:!1})),t.createElement(d,{points:[n[0].x,n[0].y,n[1].x,n[1].y],stroke:Q,strokeWidth:1,strokeScaleEnabled:!1}),t.createElement(d,{points:[n[1].x,n[1].y,n[2].x,n[2].y],stroke:Q,strokeWidth:1,strokeScaleEnabled:!1}),t.createElement(s,{x:(n[0].x+n[1].x)/2,y:(n[0].y+n[1].y)/2,offsetY:-10,scaleX:1/e.scale,scaleY:1/e.scale},t.createElement(u,{cornerRadius:5,fill:ee,pointerDirection:\"down\"}),t.createElement(g,{align:\"center\",verticalAlign:\"middle\",fill:te,padding:5,text:A({unit:e.unit,dpi:e.dpi,px:i})})))),n._rendering&&t.createElement(l,null,t.createElement(m,{width:ie,height:oe,fill:\"rgba(255,255,255,0.9)\"}),t.createElement(g,{text:\"Rendering...\",fontSize:60,width:ie,height:oe,align:\"center\",verticalAlign:\"middle\"})),Pe&&t.createElement(Pe,{components:C,store:e,page:n,stageRef:se}),Le&&t.createElement(M,null,t.createElement(Le,Object.assign({components:C,store:e},pe.props)))),t.createElement(H,Object.assign({},ue,{store:e,tagFill:U,textFill:q})),t.createElement(N,{selection:ye,fill:D,stroke:I,strokeWidth:T}),Y()&&t.createElement(g,{text:\"Powered by polotno.com\",fontSize:14,fill:\"rgba(0,0,0,0.6)\",x:r-170,y:a-18,onMouseEnter:e=>{e.target.getStage().container().style.cursor=\"pointer\"},onMouseLeave:e=>{e.target.getStage().container().style.cursor=\"\"},onTouchStart:e=>{e.cancelBubble=!0},onMouseDown:e=>{e.cancelBubble=!0},onClick:()=>{window.open(\"https://polotno.com\")},onTap:()=>{window.open(\"https://polotno.com\")}}),t.createElement(l,{name:\"line-guides\"}))),de&&Oe&&t.createElement(Oe,{store:e,page:n,xPadding:re,yPadding:le}))});", "import e from\"react\";import{observer as t}from\"mobx-react-lite\";import o from\"konva\";import{TextElement as n}from\"./text-element.js\";import{ImageElement as r}from\"./image-element.js\";import{HTMLElement as i}from\"./html-element.js\";import{LineElement as m}from\"./line-element.js\";import{VideoElement as l}from\"./video-element.js\";import{FigureElement as s}from\"./figure-element.js\";import{GifElement as a}from\"./gif-element.js\";import{Group as c}from\"react-konva\";import{Highlighter as f}from\"./highlighter.js\";import{forEveryChild as p}from\"../model/group-model.js\";import{flags as d}from\"../utils/flags.js\";const u={text:n,image:r,svg:r,line:m,video:l,figure:s,group:t(t=>{const{element:o,store:n}=t,{children:r}=o,i=o.selectable||\"admin\"===n.role;return e.createElement(c,{opacity:o.opacity,listening:i,hideInExport:!o.showInExport},r.map(o=>e.createElement(h,Object.assign({},t,{key:o.id,store:n,element:o}))))}),gif:a};export function registerShapeComponent(e,t){u[e]=t}const g=(e,t)=>{const n=[];p(e,e=>{\"group\"!==e.type&&n.push(e.a)});const r=[];n.forEach(e=>{const t=[{x:0,y:0},{x:0+e.width,y:0},{x:0+e.width,y:0+e.height},{x:0,y:0+e.height}],n=new o.Transform;n.translate(e.x,e.y),n.rotate(o.Util.degToRad(e.rotation)),t.forEach(e=>{const t=n.point(e);r.push(t)})});const i=new o.Transform;i.rotate(-o.Util.degToRad(t));let m=1/0,l=1/0,s=-1/0,a=-1/0;r.forEach(e=>{const t=i.point(e);m=Math.min(m,t.x),l=Math.min(l,t.y),s=Math.max(s,t.x),a=Math.max(a,t.y)}),i.invert();const c=i.point({x:m,y:l});return{x:c.x,y:c.y,width:s-m,height:a-l,rotation:t}},h=t(t=>{var n;const{element:r,store:m}=t,[l,s]=e.useState(!1),a=m.selectedElements.indexOf(r)>=0&&r.selectable,c=\"group\"===(null===(n=r.parent)||void 0===n?void 0:n.type),p=(t=>{const[n,r]=e.useState(null);return e.useEffect(()=>{const e=setTimeout(()=>{const e=t.page.id,n=o.stages.find(t=>t.getAttr(\"pageId\")===e);n||console.error(\"No stage is found for element\",t.id),r(n)});return()=>clearTimeout(e)},[t.id]),n})(r),h=null==p?void 0:p.findOne(\"Transformer\");e.useEffect(()=>{if(p){const e=e=>{const t=e.target.findAncestor(\".element\",!0),o=m.getElementById(null==t?void 0:t.id()),n=null==o?void 0:o.top,i=null==n?void 0:n.id;s(i===r.id)};p.on(\"mouseover\",e);const t=()=>{s(!1)};return p.on(\"mouseleave\",t),()=>{p.off(\"mouseover\",e),p.off(\"mouseleave\",t)}}},[p]);let x=u[t.element.type];return\"text\"===t.element.type&&d.htmlRenderEnabled&&(x=i),t.element.visible?x?e.createElement(e.Fragment,null,e.createElement(x,Object.assign({},t)),(l||a)&&!c&&e.createElement(f,{element:\"group\"===r.type?{a:g(r,(null==h?void 0:h.rotation())||0)}:r})):(console.error(\"Can not find component for \"+t.element.type),null):null});export default h;", "import t from\"react\";import{observer as e}from\"mobx-react-lite\";import{autorun as r}from\"mobx\";import{Image as a,Group as o,Rect as i,Transformer as n,Arc as h,Text as c}from\"react-konva\";import d from\"use-image\";import s from\"konva\";import{Portal as g}from\"react-konva-utils\";import{incrementLoader as l,triggerLoadError as u}from\"../utils/loader.js\";import*as m from\"../utils/svg.js\";import{flags as p}from\"../utils/flags.js\";import{trySetCanvasSize as f}from\"../utils/canvas.js\";import{applyFilter as w}from\"./apply-filters.js\";import{useFadeIn as x}from\"./use-fadein.js\";import{isTouchDevice as y}from\"../utils/screen.js\";import{useDelayer as M}from\"./use-delayer.js\";function v(){return document.createElement(\"canvas\")}const b=t=>t.indexOf(\"data:image/svg+xml\")>=0||t.indexOf(\".svg\")>=0;export const useSizeFixer=e=>{const[r,a]=t.useState(e);return t.useEffect(()=>{(async()=>{const t=await async function(t){if(!b(t)){return t}const e=await m.urlToString(t),r=m.fixSize(e);return m.svgToURL(r)}(e);t!==r&&a(t)})()},[e]),r};function E(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}const S={boundBoxFunc:(t,e)=>e.width<5||e.height<5?t:e,enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"],keepRatio:!1,rotateEnabled:!1,anchorFill:\"rgb(240, 240, 240)\",anchorStrokeWidth:2,borderStrokeWidth:2};export const setInnerImageCropTransformerStyle=t=>{Object.assign(S,t)};const R={boundBoxFunc:(t,e)=>e.width<5||e.height<5?t:e,anchorSize:20,enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"],rotateEnabled:!1,borderEnabled:!1,anchorCornerRadius:10,anchorStrokeWidth:2,borderStrokeWidth:2};export const setOuterImageCropTransformerStyle=t=>{Object.assign(R,t)};const C=(t,e,r)=>Math.max(e,Math.min(r,t));export const useCornerRadiusAndCrop=(e,r,a,o,i=0,n=!1,h=!0)=>{const c=Math.floor(C(e.a.width*o,1,1e4)),d=Math.floor(C(e.a.height*o,1,1e4)),g=Math.min(i*o,c/2,d/2),l=Math.max(e.a.width/a.width,e.a.height/a.height)*o,u=e.page._exportingOrRendering&&p.imageDownScalingEnabled&&l<1&&!n,m=0===a.x&&0===a.y&&a.width===(null==r?void 0:r.width)&&a.height===(null==r?void 0:r.height),w=t.useMemo(()=>{if(r&&r.width&&r.height){return m&&0===g&&!u?void 0:v()}},[r,g,u,m]);return t.useLayoutEffect(()=>{if(!w||!r){return}f(w,c,d);const t=w.getContext(\"2d\");if(!t){return}g&&(t.beginPath(),t.moveTo(g,0),t.lineTo(c-g,0),t.arc(c-g,g,g,3*Math.PI/2,0,!1),t.lineTo(c,d-g),t.arc(c-g,d-g,g,0,Math.PI/2,!1),t.lineTo(g,d),t.arc(g,d-g,g,Math.PI/2,Math.PI,!1),t.lineTo(0,g),t.arc(g,g,g,Math.PI,3*Math.PI/2,!1),t.clip());const e=u?function(t,e){var r,a;const o=v();o.width=t.width,o.height=t.height;const i=Math.max(1,Math.floor(o.width*e)),n=Math.max(1,Math.floor(o.height*e));null===(r=o.getContext(\"2d\"))||void 0===r||r.drawImage(t,0,0,o.width,o.height);const h=function(t,e,r,a,o,i,n){for(var h=new ImageData(e,r),c=new Int32Array(t.data.buffer),d=t.width,s=new Int32Array(h.data.buffer),g=h.width,l=e/i,u=r/n,m=Math.round(1/l),p=Math.round(1/u),f=m*p,w=0;w<h.height;w++){for(var x=0;x<g;x++){for(var y=0+Math.round(x/l)+(0+Math.round(w/u))*d,M=0,v=0,b=0,E=0,S=0;S<p;S++){for(var R=0;R<m;R++){var C=c[y+R+S*d];M+=C<<24>>>24,v+=C<<16>>>24,b+=C<<8>>>24,E+=C>>>24}}M=Math.round(M/f),v=Math.round(v/f),b=Math.round(b/f),E=Math.round(E/f),s[x+w*g]=E<<24|b<<16|v<<8|M}}return h}(o.getContext(\"2d\").getImageData(0,0,o.width,o.height),i,n,0,0,o.width,o.height);return o.width=i,o.height=n,null===(a=o.getContext(\"2d\"))||void 0===a||a.putImageData(h,0,0),o}(r,l):r,o=u?{x:Math.floor(a.x*l),y:Math.floor(a.y*l),width:Math.floor(a.width*l),height:Math.floor(a.height*l)}:a;t.drawImage(e,o.x,o.y,o.width,o.height,0,0,w.width,w.height)},[w,e.a.width,e.a.height,a.x,a.y,a.width,a.height,i,o,n,e.page._exportingOrRendering,u]),t.useEffect(()=>()=>{w&&\"CANVAS\"===w.nodeName&&s.Util.releaseCanvas(w)},[w]),w||r};const I=v(),O=e(({element:e})=>{const r=Math.min(30,e.a.width/4,e.a.height/4),a=t.useRef(null);return t.useEffect(()=>{const t=a.current;if(!t){return}const e=new s.Animation(e=>{t.rotate(((null==e?void 0:e.timeDiff)||0)/2)},t.getLayer());return e.start(),()=>{e.stop()}}),t.createElement(o,{x:e.x,y:e.y,rotation:e.rotation,listening:!1,opacity:e.a.opacity,hideInExport:!e.showInExport},t.createElement(i,{width:e.a.width,height:e.a.height,fill:\"rgba(124, 173, 212, 0.8)\"}),t.createElement(h,{ref:a,x:e.a.width/2,y:e.a.height/2,fill:\"white\",outerRadius:Math.abs(r),innerRadius:Math.max(1,r-5),angle:270}))}),X=e(({element:e})=>{const r=Math.max(10,Math.min(30,e.a.width/25));return t.createElement(o,{x:e.x,y:e.y,rotation:e.rotation,listening:!1,opacity:e.a.opacity,hideInExport:!e.showInExport},t.createElement(i,{width:e.a.width,height:e.a.height,fill:\"rgba(223, 102, 102, 0.8)\"}),t.createElement(c,{text:\"Can not load the image...\",fontSize:r,width:e.a.width,height:e.a.height,align:\"center\",fill:\"white\",verticalAlign:\"middle\",padding:5}))});let Y=d;export const setImageLoaderHook=t=>{Y=t};export const useImageLoader=(e,r=\"\",a=\"\")=>{const o=t.useRef(),i=()=>{var t;null===(t=o.current)||void 0===t||t.call(o),o.current=void 0};t.useEffect(()=>i,[]),t.useLayoutEffect(()=>{const t=r.slice(0,200),n=`image with id ${a} url: ${t}`;\"loading\"!==e||o.current||(o.current=l(n)),\"loading\"!==e&&i(),\"failed\"===e&&u(n)},[e])};export const ImageElement=e(({element:e,store:h})=>{var c;const[d,l]=t.useState(!1),u=t.useRef(null),p=t.useRef(null),C=h.selectedShapes.indexOf(e)>=0&&e.selectable,[T,W]=(e=>{const[r,a]=t.useReducer(t=>t+1,0),o=t.useRef(\"loading\"),i=t.useRef(e.src),n=t.useRef(e.src);n.current!==e.src&&(n.current=e.src,o.current=\"loading\");const h=t.useMemo(()=>b(e.src)||\"svg\"===e.type,[e.src,e.type]);return t.useEffect(()=>{if(!h){return}if(!e.src){return}let t=!1;return(async()=>{o.current=\"loading\",a();const r=await m.urlToString(e.src),n=m.fixSize(r);let h;h=e.colorsReplace?m.replaceColors(n,e.colorsReplace||new Map):m.svgToURL(n),t||(i.current=h,o.current=\"loaded\",a())})(),()=>{t=!0}},[e.src,JSON.stringify(e.colorsReplace)]),h?[i.current,o.current]:[e.src,\"loaded\"]})(e),[k,A]=Y(T,\"anonymous\"),D=\"svg\"!==e.type||\"loaded\"===W?A:\"loading\";useImageLoader(D,e.src,e.id);const _=e.page._exportingOrRendering?1:Math.max(1,h.scale),L=h._elementsPixelRatio*_,z=(({image:e,status:r,type:a})=>{const o=t.useRef();return t.useEffect(()=>{o.current=e||o.current},[e]),\"failed\"!==r||\"failed\"!==r&&\"svg\"===a?o.current:void 0})({image:k,status:A,type:e.type}),H=((e,r,a)=>{const o=t.useMemo(()=>{var t,o;const{flipX:i,flipY:n}=e,h=\"svg\"===e.type||e.src.indexOf(\"data:image/svg+xml\")>=0||e.src.indexOf(\".svg\")>=0,c=navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1,d=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||c)&&h||e.maskSrc;if(!i&&!n&&!d){return r}if(!r||!r.width||!r.height){return null}const s=v();let g=1;\"svg\"===e.type&&(g=Math.max(e.a.width/r.width*a,e.a.height/r.height*a)),f(s,Math.max(r.width*g,1),Math.max(r.height*g,1));let l=i?-s.width:0,u=n?-s.height:0;return null===(t=s.getContext(\"2d\"))||void 0===t||t.scale(i?-1:1,n?-1:1),null===(o=s.getContext(\"2d\"))||void 0===o||o.drawImage(r,l,u,s.width,s.height),s},[e.maskSrc,e.flipX,e.flipY,r,e.a.width,e.a.height,a]);return t.useEffect(()=>()=>{o&&\"CANVAS\"===o.nodeName&&s.Util.releaseCanvas(o)},[o]),o})(e,k||z,L),P=((e,r)=>{const a=useSizeFixer(e.maskSrc||\"\"),[o,i]=Y(a,\"anonymous\");return useImageLoader(a?i:\"loaded\",a||\"\",e.id),t.useMemo(()=>{if(!o){return r}if(!r||!r.width||!r.height){return r}const t=v();t.width=Math.max(r.width,1),t.height=Math.max(r.height,1);const a=t.getContext(\"2d\");if(!a){return r}a.drawImage(r,0,0),a.globalCompositeOperation=\"source-in\";const i=function(t,e){const r=e.width/e.height;let a,o;return r>=t.width/t.height?(a=t.width,o=t.width/r):(a=t.height*r,o=t.height),{x:(t.width-a)/2,y:(t.height-o)/2,width:a,height:o}}(o,e);return a.drawImage(o,i.x,i.y,i.width,i.height,0,0,r.width,r.height),t},[r,o,e.a.width,e.a.height])})(e,H)||I;let{cropX:j,cropY:B,cropWidth:F,cropHeight:N}=e.a;\"loaded\"!==A&&(j=B=0,F=N=1);const U=P.width*F,V=P.height*N,$=e.a.width/e.a.height;let q,J;const G=U/V,K=e.stretchEnabled;K?(q=U,J=V):$>=G?(q=U,J=U/$):(q=V*$,J=V);const Q={x:P.width*j,y:P.height*B,width:q,height:J},Z=null!==(c=e.cornerRadius)&&void 0!==c?c:0,tt=e.page._exportingOrRendering?1:Math.min(2,h.scale),et=h._elementsPixelRatio*tt;let rt=((e,r,a,o)=>{const i=useSizeFixer(e.clipSrc||\"\"),[n,h]=Y(i,\"anonymous\"),c=e.clipSrc?h:\"loaded\";useImageLoader(c,e.clipSrc,e.id);const d=t.useMemo(()=>{if(r&&n){return v()}},[r,n]);return t.useLayoutEffect(()=>{var t;if(!n){return}if(!r||!r.width||!r.height){return}if(!n||!n.width||!n.height){return}if(!d){return}const o=v(),i=Math.max(e.a.width/n.width*a,e.a.height/n.height*a);o.width=Math.max(n.width*i,1),o.height=Math.max(n.height*i,1),null===(t=o.getContext(\"2d\"))||void 0===t||t.drawImage(n,0,0,o.width,o.height),d.width=Math.max(r.width,1),d.height=Math.max(r.height,1);const h=d.getContext(\"2d\");h&&(h.save(),h.drawImage(o,0,0,r.width,r.height),s.Util.releaseCanvas(o),h.globalCompositeOperation=\"source-in\",h.drawImage(r,0,0,d.width,d.height),h.restore())},[d,r,n,e.a.width,e.a.height,a,...o]),e.clipSrc&&n?d:r})(e,useCornerRadiusAndCrop(e,P,Q,et,Z,d||e._cropModeEnabled||\"svg\"===e.type,!0),et,[Q,Z,et]);const at=Math.max(e.a.width/q,e.a.height/J);t.useEffect(()=>{var t;if(!e._cropModeEnabled){return}const r=null===(t=u.current)||void 0===t?void 0:t.getStage();function a(t){e._cropModeEnabled&&t.target!==p.current&&e.toggleCropMode(!1)}function o(t){e._cropModeEnabled&&t.target.parentNode!==r.content&&e.toggleCropMode(!1)}return document.body.addEventListener(\"click\",o),null==r||r.on(\"click\",a),null==r||r.on(\"tap\",a),()=>{document.body.removeEventListener(\"click\",o),document.body.removeEventListener(\"touchstart\",o),null==r||r.off(\"click\",a),null==r||r.off(\"click\",a)}},[e._cropModeEnabled]),t.useLayoutEffect(()=>{if(!d&&!e._cropModeEnabled){return w(u.current,e),r(()=>{w(u.current,e)},{delay:100})}},[rt,e.page._exportingOrRendering,d,F,N,e._cropModeEnabled]),t.useLayoutEffect(()=>{var t;d||e._cropModeEnabled?null===(t=u.current)||void 0===t||t.clearCache():w(u.current,e)},[d,e.a.width,e.a.height,e._cropModeEnabled]),t.useEffect(()=>{w(u.current,e)},[e.shadowEnabled,e.shadowBlur,e.cornerRadius,e.shadowColor,e.shadowOffsetX,e.shadowOffsetY,e.shadowOpacity]);const ot=t.useRef(null),it=t.useRef(null),nt=t.useRef(null);t.useLayoutEffect(()=>{e._cropModeEnabled&&(it.current.nodes([ot.current]),nt.current.nodes([p.current]))},[e._cropModeEnabled]);var ht=t.useRef(null),ct=t.useRef(0),dt=t.useRef(!1);const st=t=>{var r;(null===(r=t.evt.touches)||void 0===r?void 0:r.length)>2&&t.target.stopDrag(),Math.round(t.target.x())>0&&(t.target.x(0),t.target.scaleX(1)),Math.round(t.target.y())>0&&(t.target.y(0),t.target.scaleY(1));const a=t.target.width()*t.target.scaleX(),o=t.target.height()*t.target.scaleY(),i=Math.min(1,q/a),n=Math.min(1,J/o),h=1-i,c=Math.min(h,Math.max(0,Math.round(-t.target.x())/a)),d=1-n,s=Math.min(d,Math.max(0,Math.round(-t.target.y())/o));t.target.setAttrs({x:-c*P.width,y:-s*P.height,scaleX:1,scaleY:1}),e.set({cropX:c,cropY:s,cropWidth:i,cropHeight:n})},gt=()=>{\"svg\"!==e.type&&e.contentEditable&&(e.stretchEnabled||setTimeout(()=>{e.toggleCropMode(!0)}))},lt=\"svg\"===e.type&&z,ut=\"loading\"===A&&!lt,[mt]=M(ut,100,!1,!1),pt=\"failed\"===A,ft=!mt&&!pt,wt=t.useRef({cropX:0,cropY:0,cropWidth:0,cropHeight:0}),xt=ft?e.a.opacity:0;x(u,xt);const yt=e.selectable||\"admin\"===h.role,Mt=y();return t.createElement(t.Fragment,null,mt&&t.createElement(O,{element:e}),pt&&t.createElement(X,{element:e}),t.createElement(a,{ref:u,name:\"element\",id:e.id,image:rt,x:e.a.x,y:e.a.y,width:e.a.width||1,height:e.a.height||1,rotation:e.a.rotation,opacity:xt,shadowEnabled:e.shadowEnabled,shadowBlur:e.shadowBlur,shadowOffsetX:e.shadowOffsetX,shadowOffsetY:e.shadowOffsetY,shadowColor:e.shadowColor,shadowOpacity:e.shadowOpacity,customCrop:Q,listening:yt,draggable:Mt?e.draggable&&C:e.draggable,preventDefault:!Mt||C,hideInExport:!e.showInExport,onDragMove:t=>{e.set({x:t.target.x(),y:t.target.y()})},onDragEnd:t=>{e.set({x:t.target.x(),y:t.target.y()})},onDblClick:gt,onDblTap:gt,onTransformStart:()=>{l(!0),wt.current={cropX:e.cropX,cropY:e.cropY,cropWidth:e.cropWidth,cropHeight:e.cropHeight}},onTransform:t=>{var r;const a=t.currentTarget,o=Math.abs(a.scaleX()-1)<1e-7?1:a.scaleX(),i=Math.abs(a.scaleY()-1)<1e-7?1:a.scaleY();a.scaleX(1),a.scaleY(1);const n=null===(r=t.target.getStage())||void 0===r?void 0:r.findOne(\"Transformer\"),h=1-q/P.width,c=Math.min(h,Math.max(0,e.cropX)),d=1-J/P.height,s=Math.min(d,Math.max(0,e.cropY)),g=n.getActiveAnchor(),l=!(g.indexOf(\"middle\")>=0||g.indexOf(\"center\")>=0),u=!l&&o<1&&wt.current.cropHeight>J/P.height;let m=l?e.cropWidth:e.cropWidth*o;u&&(m=e.cropWidth);const p=!l&&i<1&&wt.current.cropWidth>q/P.width;let f=l?e.cropHeight:e.cropHeight*i;p&&(f=e.cropHeight),K&&(m=e.cropWidth,f=e.cropHeight),e.set({cropX:c,cropY:s,x:a.x(),y:a.y(),width:a.width()*o,height:a.height()*i,rotation:t.target.rotation(),cropWidth:Math.min(m,1-c),cropHeight:Math.min(f,1-s)})},onTransformEnd:t=>{const r=t.currentTarget;e.set({width:r.width(),height:r.height(),x:r.x(),y:r.y(),rotation:t.target.rotation(),cropWidth:q/P.width,cropHeight:J/P.height}),l(!1)}}),t.createElement(i,{x:e.x,y:e.y,width:Math.max(e.a.width-e.borderSize,0),height:Math.max(e.a.height-e.borderSize,0),opacity:xt,offsetX:-e.borderSize/2,offsetY:-e.borderSize/2,stroke:e.borderColor,strokeWidth:e.borderSize,listening:!1,visible:!!e.borderSize,rotation:e.rotation,cornerRadius:Math.max(0,Z-e.borderSize),hideInExport:!e.showInExport}),e._cropModeEnabled&&t.createElement(g,{selector:\".page-abs-container\",enabled:!0},t.createElement(i,{x:-window.innerWidth/h.scale,y:-window.innerWidth/h.scale,width:window.innerWidth/h.scale*3,height:window.innerWidth/h.scale*3,fill:\"rgba(0,0,0,0.3)\"}),t.createElement(a,{listening:!1,image:rt,x:e.x,y:e.y,width:e.a.width,height:e.a.height,rotation:e.rotation,shadowEnabled:e.shadowEnabled,shadowBlur:e.shadowBlur}),t.createElement(o,{x:e.x,y:e.y,rotation:e.rotation,scaleX:at,scaleY:at},t.createElement(a,{image:P,ref:p,opacity:.4,draggable:!0,x:-e.cropX*P.width,y:-e.cropY*P.height,onDragMove:st,onTransform:st,onTouchMove:t=>{t.evt.preventDefault();const e=t.target.getStage().getPointersPositions();var r=e[0],a=e[1];const o=t.target;if(r&&!a&&!o.isDragging()&&dt.current&&(o.startDrag(),dt.current=!1),r&&a){s.hitOnDragEnabled=!0,o.isDragging()&&(dt.current=!0,o.stopDrag());const e=t.target.getAbsoluteTransform().copy();e.invert();var i={x:r.x,y:r.y},n={x:a.x,y:a.y};if(!ht.current){return void(ht.current=E(i,n))}var h=E(i,n),c=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}(i,n);ct.current||(ct.current=c);const p=o.position();var d={x:h.x-p.x,y:h.y-p.y},g=c/ct.current;o.scaleX(g),o.scaleY(g);const f=e.point(h),w=e.point(ht.current);var l=f.x-w.x,u=f.y-w.y,m={x:Math.min(0,h.x-d.x*g+l),y:Math.min(0,h.y-d.y*g+u)};o.position(m),ct.current=c,ht.current=h,st(t)}},onTouchEnd:t=>{ct.current=0,ht.current=null,s.hitOnDragEnabled=!1}}),t.createElement(n,Object.assign({ref:nt},R)),t.createElement(i,{width:q,height:J,ref:ot,listening:!1,onTransform:t=>{if(e.cropX<Math.abs(t.target.x()/P.width)&&t.target.x()<0&&e.cropX>0){const r=(e.cropWidth+e.cropX)*P.width;t.target.scaleX(1),t.target.width(r)}if(e.cropY<Math.abs(t.target.y()/P.height)&&t.target.y()<0&&e.cropY>0){const r=(e.cropHeight+e.cropY)*P.height;t.target.scaleY(1),t.target.height(r)}t.target.x()<-e.cropX*P.width-1e-9&&(t.target.x(-e.cropX*P.width),t.target.scaleX(1)),t.target.y()<-e.cropY*P.height-1e-9&&(t.target.y(-e.cropY*P.height),t.target.scaleY(1));const r=Math.min(1,Math.max(0,e.cropX+t.target.x()/P.width)),a=Math.min(1,Math.max(0,t.target.y()/P.height+e.cropY)),o=t.target.width()*t.target.scaleX(),i=t.target.height()*t.target.scaleY(),n=Math.min(1-r,o/P.width),h=Math.min(1-a,i/P.height),c=t.target.getAbsolutePosition(t.target.getParent().getParent());t.target.scale({x:1,y:1}),t.target.position({x:0,y:0}),e.set({x:c.x,y:c.y,cropX:r,cropY:a,cropWidth:n,cropHeight:h,width:Math.min(o*at,P.width*(1-r)*at),height:Math.min(i*at,P.height*(1-a)*at)})}}),t.createElement(n,Object.assign({ref:it},S,{visible:e.resizable})))))});", "import e from\"react\";import{observer as t}from\"mobx-react-lite\";import{autorun as r}from\"mobx\";import{Arc as n,Group as o,Image as i,Rect as a,Text as h,Transformer as d}from\"react-konva\";import c from\"use-image\";import s from\"konva\";import{Portal as l}from\"react-konva-utils\";import{incrementLoader as u,triggerLoadError as g}from\"../utils/loader.js\";import*as f from\"../utils/svg.js\";import{flags as m}from\"../utils/flags.js\";import{applyFilter as p}from\"./apply-filters.js\";import{useFadeIn as w}from\"./use-fadein.js\";import{isTouchDevice as v}from\"../utils/screen.js\";function x(){return document.createElement(\"canvas\")}const E=new window.Image;E.src=f.svgToURL('\\n  <svg width=\"800px\" height=\"800px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path opacity=\"0.6\" d=\"M4 5.49683V18.5032C4 20.05 5.68077 21.0113 7.01404 20.227L18.0694 13.7239C19.384 12.9506 19.384 11.0494 18.0694 10.2761L7.01404 3.77296C5.68077 2.98869 4 3.95 4 5.49683Z\" fill=\"white\"/>\\n  <path d=\"M4 5.49683V18.5032C4 20.05 5.68077 21.0113 7.01404 20.227L18.0694 13.7239C19.384 12.9506 19.384 11.0494 18.0694 10.2761L7.01404 3.77296C5.68077 2.98869 4 3.95 4 5.49683Z\" stroke=\"#323232\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\\n  </svg>\\n');const M=new window.Image;M.src=f.svgToURL('\\n  <svg width=\"800px\" height=\"800px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path opacity=\"0.6\" d=\"M14 19L14 5C14 3.89543 14.8954 3 16 3L17 3C18.1046 3 19 3.89543 19 5L19 19C19 20.1046 18.1046 21 17 21L16 21C14.8954 21 14 20.1046 14 19Z\" fill=\"white\"/>\\n  <path opacity=\"0.6\" d=\"M10 19L10 5C10 3.89543 9.10457 3 8 3L7 3C5.89543 3 5 3.89543 5 5L5 19C5 20.1046 5.89543 21 7 21L8 21C9.10457 21 10 20.1046 10 19Z\" fill=\"white\"/>\\n  <path d=\"M14 19L14 5C14 3.89543 14.8954 3 16 3L17 3C18.1046 3 19 3.89543 19 5L19 19C19 20.1046 18.1046 21 17 21L16 21C14.8954 21 14 20.1046 14 19Z\" stroke=\"#323232\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\\n  <path d=\"M10 19L10 5C10 3.89543 9.10457 3 8 3L7 3C5.89543 3 5 3.89543 5 5L5 19C5 20.1046 5.89543 21 7 21L8 21C9.10457 21 10 20.1046 10 19Z\" stroke=\"#323232\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\\n  </svg>\\n');export const useCornerRadiusAndCrop=(t,r,n,o,i=0,a=!1)=>{const h=Math.floor(Math.max(t.width*o,1)),d=Math.floor(Math.max(t.height*o,1)),c=Math.min(i*o,h/2,d/2),l=Math.max(t.width/n.width,t.height/n.height)*o,u=t.page._exportingOrRendering&&m.imageDownScalingEnabled&&l<1&&!a,g=0===n.x&&0===n.y&&n.width===(null==r?void 0:r.width)&&n.height===(null==r?void 0:r.height),f=e.useMemo(()=>{if(r&&r.width&&r.height){return g&&0===c&&!u?void 0:x()}},[r,c,u,g]),p=()=>{if(!f||!r){return}f.width=h,f.height=d;const e=f.getContext(\"2d\");if(!e){return}c&&(e.beginPath(),e.moveTo(c,0),e.lineTo(h-c,0),e.arc(h-c,c,c,3*Math.PI/2,0,!1),e.lineTo(h,d-c),e.arc(h-c,d-c,c,0,Math.PI/2,!1),e.lineTo(c,d),e.arc(c,d-c,c,Math.PI/2,Math.PI,!1),e.lineTo(0,c),e.arc(c,c,c,Math.PI,3*Math.PI/2,!1),e.clip());const t=u?function(e,t){var r,n;const o=x();o.width=e.width,o.height=e.height,null===(r=o.getContext(\"2d\"))||void 0===r||r.drawImage(e,0,0,o.width,o.height);const i=function(e,t,r,n,o,i,a){for(var h=new ImageData(t,r),d=new Int32Array(e.data.buffer),c=e.width,s=new Int32Array(h.data.buffer),l=h.width,u=t/i,g=r/a,f=Math.round(1/u),m=Math.round(1/g),p=f*m,w=0;w<h.height;w++){for(var v=0;v<l;v++){for(var x=0+Math.round(v/u)+(0+Math.round(w/g))*c,E=0,M=0,y=0,b=0,L=0;L<m;L++){for(var C=0;C<f;C++){var T=d[x+C+L*c];E+=T<<24>>>24,M+=T<<16>>>24,y+=T<<8>>>24,b+=T>>>24}}E=Math.round(E/p),M=Math.round(M/p),y=Math.round(y/p),b=Math.round(b/p),s[v+w*l]=b<<24|y<<16|M<<8|E}}return h}(o.getContext(\"2d\").getImageData(0,0,o.width,o.height),Math.floor(o.width*t),Math.floor(o.height*t),0,0,o.width,o.height);return o.width=Math.floor(o.width*t),o.height=Math.floor(o.height*t),null===(n=o.getContext(\"2d\"))||void 0===n||n.putImageData(i,0,0),o}(r,l):r,o=u?{x:Math.floor(n.x*l),y:Math.floor(n.y*l),width:Math.floor(n.width*l),height:Math.floor(n.height*l)}:n;e.drawImage(t,o.x,o.y,o.width,o.height,0,0,f.width,f.height)};return e.useLayoutEffect(()=>{p()},[f,t.width,t.height,n.x,n.y,n.width,n.height,i,o,a,t.page._exportingOrRendering,u]),e.useEffect(()=>()=>{f&&\"CANVAS\"===f.nodeName&&s.Util.releaseCanvas(f)},[f]),[f||r,p]};const y=x(),b=t(({element:t})=>{const r=Math.min(30,t.width/4,t.height/4),i=e.useRef(null);return e.useEffect(()=>{const e=i.current;if(!e){return}const t=new s.Animation(t=>{e.rotate(((null==t?void 0:t.timeDiff)||0)/2)},e.getLayer());return t.start(),()=>{t.stop()}}),e.createElement(o,{x:t.a.x,y:t.a.y,rotation:t.a.rotation,listening:!1,opacity:t.a.opacity,hideInExport:!t.showInExport},e.createElement(a,{width:t.width,height:t.height,fill:\"rgba(124, 173, 212, 0.8)\"}),e.createElement(n,{ref:i,x:t.width/2,y:t.height/2,fill:\"white\",outerRadius:Math.abs(r),innerRadius:Math.max(1,r-5),angle:270}))}),L=t(({element:t})=>{const r=Math.max(10,Math.min(30,t.width/25));return e.createElement(o,{x:t.a.x,y:t.a.y,rotation:t.a.rotation,listening:!1,opacity:t.a.opacity,hideInExport:!t.showInExport},e.createElement(a,{width:t.width,height:t.height,fill:\"rgba(223, 102, 102, 0.8)\"}),e.createElement(h,{text:\"Can not load the video...\",fontSize:r,width:t.width,height:t.height,align:\"center\",fill:\"white\",verticalAlign:\"middle\",padding:5}))});let C=function(t,r,n){const o=e.useRef(\"loading\"),i=e.useRef(null),[a,h]=e.useState(0),d=e.useRef(),c=e.useRef(),s=e.useRef();return d.current===t&&c.current===r&&s.current===n||(o.current=\"loading\",i.current=void 0,d.current=t,c.current=r,s.current=n),e.useLayoutEffect(function(){if(t){var e=document.createElement(\"video\");return e.addEventListener(\"canplay\",a),e.addEventListener(\"error\",d),r&&(e.crossOrigin=r),n&&(e.referrerpolicy=n),e.src=t,e.load(),function(){e.removeEventListener(\"canplay\",a),e.removeEventListener(\"error\",d)}}function a(){o.current=\"loaded\",i.current=e,i.current.currentTime=0,h(Math.random()),i.current.removeEventListener(\"canplay\",a)}function d(t){var r;const n=4===e.readyState,a=e.buffered&&e.buffered.length>0&&e.buffered.end(e.buffered.length-1)/e.duration*100>=100;if(n&&a){return}const d=t.message||(null===(r=e.error)||void 0===r?void 0:r.message)||\"Unknown error\",c=new Error(\"Video failed to load: \"+d);console.error(c),o.current=\"failed\",i.current=void 0,h(Math.random())}},[t,r,n]),[i.current,o.current]};export const setVideoLoaderHook=e=>{C=e};function T(e){return e.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}export const useLoader=(t,r,n)=>{const o=e.useRef(),i=()=>{var e;null===(e=o.current)||void 0===e||e.call(o),o.current=void 0};e.useEffect(()=>i,[]),e.useLayoutEffect(()=>{const e=r.slice(0,200),a=`video with id ${n} url: ${e}`;\"loading\"!==t||o.current||(o.current=u(a)),\"loading\"!==t&&i(),\"failed\"===t&&g(a)},[t])};export const VideoElement=t(({element:t,store:n})=>{var h;const[g,m]=e.useState(!1),R=e.useRef(null),I=e.useRef(null),S=n.selectedShapes.indexOf(t)>=0&&t.selectable,[k,X]=e.useState(!1),[Y,W]=C(t.src,\"anonymous\"),[O,_]=e.useState(!1),P=n.activePage===t.page;useLoader(W,t.src,t.id),Y&&(Y.width=Y.videoWidth,Y.height=Y.videoHeight,Y.playsInline=!0);const A=Y||y;e.useEffect(()=>{Y&&n.history.ignore(()=>{t.set({duration:1e3*Y.duration})})},[Y]),e.useEffect(()=>{var e;if(!Y){return}const r=n.animatedElementsIds,o=(!r.length||r.includes(t.id))&&n.isPlaying,i=P&&(o||k);if(!i){return void Y.pause()}i&&(Y.currentTime=t.startTime*Y.duration,Y.play());const a=new s.Animation(()=>{re()},null===(e=R.current)||void 0===e?void 0:e.getLayer());a.start();const h=()=>{X(!1),Y.currentTime=t.startTime*Y.duration},d=()=>{Y.currentTime>=t.endTime*Y.duration&&(Y.pause(),Y.currentTime=t.startTime*Y.duration,X(!1))};return Y.addEventListener(\"ended\",h),Y.addEventListener(\"timeupdate\",d),()=>{Y.pause(),a.stop(),Y.removeEventListener(\"ended\",h),Y.removeEventListener(\"timeupdate\",d)}},[Y,k,n.isPlaying,P]),e.useEffect(()=>{Y&&(Y.volume=t.volume)},[Y,t.volume]);const H=e.useRef();e.useEffect(()=>{const e=r(()=>{var e,r;if(Y){const o=n.animatedElementsIds;if(o.length&&!o.includes(t.id)){return}const i=t.startTime*Y.duration*1e3,a=Y.duration*(t.endTime-t.startTime)*1e3,h=((n.currentTime||t.page.startTime)-t.page.startTime)%a+i;if(Math.abs(1e3*Y.currentTime-h)>500||!n.isPlaying){const e=h/1e3;e!==Y.currentTime&&(Y.currentTime=e),!T(Y)&&!n.isPlaying&&!H.current&&(H.current=u(`video ${t.id}`))}re(),null===(r=null===(e=R.current)||void 0===e?void 0:e.getLayer())||void 0===r||r.batchDraw()}});return()=>{e(),H.current&&(H.current(),H.current=null)}},[n,Y]),e.useEffect(()=>{if(!Y){return}const e=()=>{var e,r;!T(Y)&&t.page._exportingOrRendering||H.current&&(re(),null===(r=null===(e=R.current)||void 0===e?void 0:e.getLayer())||void 0===r||r.batchDraw(),H.current(),H.current=null)};let r;return t.page._exportingOrRendering&&(r=setInterval(e,20)),Y.addEventListener(\"timeupdate\",e),Y.addEventListener(\"canplay\",e),()=>{clearInterval(r),Y.removeEventListener(\"timeupdate\",e),Y.removeEventListener(\"canplay\",e)}},[t.page._exportingOrRendering,Y,t.id,u]);let{cropX:D,cropY:z,cropWidth:j,cropHeight:B}=t;\"loaded\"!==W&&(D=z=0,j=B=1);const U=A.width*j,V=A.height*B,Z=t.width/t.height;let F,N;const $=U/V,q=\"svg\"===t.type;q?(F=U,N=V):Z>=$?(F=U,N=U/Z):(F=V*Z,N=V);const G={x:A.width*D,y:A.height*z,width:F,height:N},J=null!==(h=t.cornerRadius)&&void 0!==h?h:0,[K,Q]=useCornerRadiusAndCrop(t,A,G,n._elementsPixelRatio,J,g||t._cropModeEnabled||\"svg\"===t.type);let[ee,te]=((t,r,n,o)=>{const i=(t=>{const[r,n]=e.useState(t);return e.useEffect(()=>{(async()=>{const e=await async function(e){if(!(e.indexOf(\"data:image/svg+xml\")>=0||e.indexOf(\".svg\")>=0)){return e}const t=await f.urlToString(e),r=f.fixSize(t);return f.svgToURL(r)}(t);e!==r&&n(e)})()},[t]),r})(t.clipSrc||\"\"),[a,h]=c(i,\"anonymous\"),d=t.clipSrc?h:\"loaded\";useLoader(d,t.clipSrc,t.id);const l=e.useMemo(()=>{if(r&&a){return x()}},[r,a]);function u(){var e;if(!a){return}if(!r||!r.width||!r.height){return}if(!a||!a.width||!a.height){return}if(!l){return}const o=x(),i=Math.max(t.width/a.width*n,t.height/a.height*n);o.width=a.width*i,o.height=a.height*i,null===(e=o.getContext(\"2d\"))||void 0===e||e.drawImage(a,0,0,o.width,o.height),l.width=Math.max(r.width,1),l.height=Math.max(r.height,1);const h=l.getContext(\"2d\");h&&(h.save(),h.drawImage(o,0,0,r.width,r.height),s.Util.releaseCanvas(o),h.globalCompositeOperation=\"source-in\",h.drawImage(r,0,0,l.width,l.height),h.restore())}return e.useLayoutEffect(()=>{u()},[l,r,a,t.width,t.height,n,...o]),[t.clipSrc&&a?l:r,u]})(t,K,n._elementsPixelRatio,[G,J,n._elementsPixelRatio]);function re(){Q(),te()}const ne=Math.max(t.width/F,t.height/N);e.useEffect(()=>{var e;if(!t._cropModeEnabled){return}const r=null===(e=R.current)||void 0===e?void 0:e.getStage();function n(e){t._cropModeEnabled&&e.target!==I.current&&t.toggleCropMode(!1)}function o(e){t._cropModeEnabled&&e.target.parentNode!==r.content&&t.toggleCropMode(!1)}return document.body.addEventListener(\"click\",o),null==r||r.on(\"click\",n),null==r||r.on(\"tap\",n),()=>{document.body.removeEventListener(\"click\",o),document.body.removeEventListener(\"touchstart\",o),null==r||r.off(\"click\",n),null==r||r.off(\"click\",n)}},[t._cropModeEnabled]),e.useLayoutEffect(()=>{if(!g&&!t._cropModeEnabled){return p(R.current,t),r(()=>{p(R.current,t)},{delay:100})}},[A,g,j,B,t._cropModeEnabled]),e.useLayoutEffect(()=>{var e;g||t._cropModeEnabled?null===(e=R.current)||void 0===e||e.clearCache():p(R.current,t)},[g,t.width,t.height,t._cropModeEnabled]),e.useEffect(()=>{p(R.current,t)},[t.shadowEnabled,t.shadowBlur,t.cornerRadius,t.shadowColor,t.shadowOffsetX,t.shadowOffsetY,t.shadowOpacity]);const oe=e.useRef(null),ie=e.useRef(null),ae=e.useRef(null);e.useLayoutEffect(()=>{t._cropModeEnabled&&(ie.current.nodes([oe.current]),ae.current.nodes([I.current]))},[t._cropModeEnabled]);const he=e=>{Math.round(e.target.x())>0&&(e.target.x(0),e.target.scaleX(1)),Math.round(e.target.y())>0&&(e.target.y(0),e.target.scaleY(1));const r=e.target.width()*e.target.scaleX(),n=e.target.height()*e.target.scaleY(),o=Math.min(1,F/r),i=Math.min(1,N/n),a=1-o,h=Math.min(a,Math.max(0,Math.round(-e.target.x())/r)),d=1-i,c=Math.min(d,Math.max(0,Math.round(-e.target.y())/n));e.target.setAttrs({x:-h*A.width,y:-c*A.height,scaleX:1,scaleY:1}),t.set({cropX:h,cropY:c,cropWidth:o,cropHeight:i})},de=()=>{\"svg\"!==t.type&&t.contentEditable&&setTimeout(()=>{t.toggleCropMode(!0)})},ce=\"loading\"===W,se=\"failed\"===W,le=!ce&&!se,ue=e.useRef({cropX:0,cropY:0,cropWidth:0,cropHeight:0}),ge=le?t.a.opacity:0;w(R,ge);const fe=t.selectable||\"admin\"===n.role,me=v();return e.createElement(e.Fragment,null,e.createElement(o,{onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1)},ce&&e.createElement(b,{element:t}),se&&e.createElement(L,{element:t}),e.createElement(i,{ref:R,name:\"element\",id:t.id,image:ee,x:t.a.x,y:t.a.y,width:t.a.width||1,height:t.a.height||1,rotation:t.a.rotation,opacity:ge,shadowEnabled:t.shadowEnabled,shadowBlur:t.shadowBlur,shadowOffsetX:t.shadowOffsetX,shadowOffsetY:t.shadowOffsetY,shadowColor:t.shadowColor,shadowOpacity:t.shadowOpacity,customCrop:G,listening:fe,draggable:me?t.draggable&&S:t.draggable,preventDefault:!me||S,hideInExport:!t.showInExport,onDragMove:e=>{t.set({x:e.target.x(),y:e.target.y()})},onDragEnd:e=>{t.set({x:e.target.x(),y:e.target.y()})},onDblClick:de,onDblTap:de,onTransformStart:()=>{m(!0),ue.current={cropX:t.cropX,cropY:t.cropY,cropWidth:t.cropWidth,cropHeight:t.cropHeight}},onTransform:e=>{var r;const n=e.currentTarget,o=Math.abs(n.scaleX()-1)<1e-7?1:n.scaleX(),i=Math.abs(n.scaleY()-1)<1e-7?1:n.scaleY();n.scaleX(1),n.scaleY(1);const a=null===(r=e.target.getStage())||void 0===r?void 0:r.findOne(\"Transformer\"),h=1-F/A.width,d=Math.min(h,Math.max(0,t.cropX)),c=1-N/A.height,s=Math.min(c,Math.max(0,t.cropY)),l=a.getActiveAnchor(),u=!(l.indexOf(\"middle\")>=0||l.indexOf(\"center\")>=0),g=!u&&o<1&&ue.current.cropHeight>N/A.height;let f=u?t.cropWidth:t.cropWidth*o;g&&(f=t.cropWidth);const m=!u&&i<1&&ue.current.cropWidth>F/A.width;let p=u?t.cropHeight:t.cropHeight*i;m&&(p=t.cropHeight),q&&(f=t.cropWidth,p=t.cropHeight),t.set({cropX:d,cropY:s,x:n.x(),y:n.y(),width:n.width()*o,height:n.height()*i,rotation:e.target.rotation(),cropWidth:Math.min(f,1-d),cropHeight:Math.min(p,1-s)})},onTransformEnd:e=>{const r=e.currentTarget;t.set({width:r.width(),height:r.height(),x:r.x(),y:r.y(),rotation:e.target.rotation(),cropWidth:F/A.width,cropHeight:N/A.height}),m(!1)}}),e.createElement(a,{x:t.a.x,y:t.a.y,width:Math.max(t.a.width-t.borderSize,0),height:Math.max(t.a.height-t.borderSize,0),opacity:ge,offsetX:-t.borderSize/2,offsetY:-t.borderSize/2,stroke:t.borderColor,strokeWidth:t.borderSize,listening:!1,visible:!!t.borderSize,rotation:t.rotation,cornerRadius:Math.max(0,J-t.borderSize),hideInExport:!t.showInExport}),!n.isPlaying&&e.createElement(i,{image:k?(O||me)&&M:E,x:t.a.x,y:t.a.y,offsetX:-t.a.width/2+15/n.scale,offsetY:-t.a.height/2+15/n.scale,rotation:t.a.rotation,width:30/n.scale,height:30/n.scale,hideInExport:!0,onClick:()=>X(!k),onTap:()=>X(!k)}),t._cropModeEnabled&&e.createElement(l,{selector:\".page-abs-container\",enabled:!0},e.createElement(a,{x:-window.innerWidth/n.scale,y:-window.innerWidth/n.scale,width:window.innerWidth/n.scale*3,height:window.innerWidth/n.scale*3,fill:\"rgba(0,0,0,0.3)\"}),e.createElement(i,{listening:!1,image:ee,x:t.a.x,y:t.a.y,width:t.a.width,height:t.a.height,rotation:t.a.rotation,shadowEnabled:t.shadowEnabled,shadowBlur:t.shadowBlur}),e.createElement(o,{x:t.a.x,y:t.a.y,rotation:t.a.rotation,scaleX:ne,scaleY:ne},e.createElement(i,{image:A,ref:I,opacity:.4,draggable:!0,x:-t.cropX*A.width,y:-t.cropY*A.height,onDragMove:he,onTransform:he}),e.createElement(d,{ref:ae,anchorSize:20,enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"],boundBoxFunc:(e,t)=>t.width<5||t.height<5?e:t,rotateEnabled:!1,borderEnabled:!1,anchorCornerRadius:10,anchorStrokeWidth:2,borderStrokeWidth:2}),e.createElement(a,{width:F,height:N,ref:oe,listening:!1,onTransform:e=>{e.target.x()<-t.cropX*A.width-1e-9&&(e.target.x(-t.cropX*A.width),e.target.scaleX(1)),e.target.y()<-t.cropY*A.height-1e-9&&(e.target.y(-t.cropY*A.height),e.target.scaleY(1));const r=Math.min(1,Math.max(0,t.cropX+e.target.x()/A.width)),n=Math.min(1,Math.max(0,e.target.y()/A.height+t.cropY)),o=e.target.width()*e.target.scaleX(),i=e.target.height()*e.target.scaleY(),a=Math.min(1-r,o/A.width),h=Math.min(1-n,i/A.height),d=e.target.getAbsolutePosition(e.target.getParent().getParent());e.target.scale({x:1,y:1}),e.target.position({x:0,y:0}),t.set({x:d.x,y:d.y,cropX:r,cropY:n,cropWidth:a,cropHeight:h,width:Math.min(o*ne,A.width*(1-r)*ne),height:Math.min(i*ne,A.height*(1-n)*ne)})}}),e.createElement(d,{ref:ie,enabledAnchors:[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"],boundBoxFunc:(e,t)=>t.width<5||t.height<5?e:t,keepRatio:!1,rotateEnabled:!1,anchorFill:\"rgb(240, 240, 240)\",anchorStrokeWidth:2,borderStrokeWidth:2,visible:t.resizable})))))});", "import e from\"react\";import{observer as t}from\"mobx-react-lite\";import{Group as a,Rect as r,Path as s}from\"react-konva\";import{subTypeToPathDataFunc as o}from\"../utils/figure-to-svg.js\";import{isTouchDevice as i}from\"../utils/screen.js\";import{useColor as n}from\"./use-color.js\";const h={};export const FigureElement=t(({element:l,store:c})=>{const d=l.selectable||\"admin\"===c.role,g=i(),m=c.selectedShapes.indexOf(l)>=0&&l.selectable,p=Math.min(l.strokeWidth,l.width/2,l.height/2),f=Math.max(0,Math.min(l.width/2,l.height/2,l.cornerRadius)),w=n(l,l.a.fill,\"fill\"),u=Object.assign(Object.assign({width:l.a.width,height:l.a.height},w),{cornerRadius:f,opacity:l.animated(\"opacity\"),shadowEnabled:l.shadowEnabled,shadowBlur:l.shadowBlur,shadowOffsetX:l.shadowOffsetX,shadowOffsetY:l.shadowOffsetY,shadowColor:l.shadowColor,shadowOpacity:l.shadowOpacity,preventDefault:!g||m,hideInExport:!l.showInExport}),b=n(l,l.stroke,\"stroke\"),y=Object.assign(Object.assign({visible:p>0,x:p/2,y:p/2,width:l.a.width-p,height:l.a.height-p},b),{strokeWidth:p,cornerRadius:Math.max(0,f-p),dash:l.dash.map(e=>e*p),opacity:l.animated(\"opacity\"),hideInExport:!l.showInExport,listening:!1}),x=(E=l.subType,h[E]||(h[E]=(k=o(E),t(({element:t,fillProps:o,strokeProps:i})=>{let n=k({width:t.a.width,height:t.a.height,cornerRadius:t.cornerRadius}),h=1,l=1;\"string\"!=typeof n&&(h=n.scaleX,l=n.scaleY,n=n.path);const c=e.useRef(null);return e.createElement(e.Fragment,null,e.createElement(r,{width:t.width,height:t.height,fill:\"transparent\"}),e.createElement(s,Object.assign({},o,{ref:c,data:n,scaleX:h,scaleY:l})),e.createElement(a,{clipFunc:e=>{const t=c.current;if(t){var a=t.dataArray;e.beginPath();for(var r=0;r<a.length;r++){var s=a[r].command,o=a[r].points;switch(s){case\"L\":e.lineTo(o[0],o[1]);break;case\"M\":e.moveTo(o[0],o[1]);break;case\"C\":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case\"Q\":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case\"A\":var i=o[0],n=o[1],h=o[2],l=o[3],d=o[4],g=o[5],m=o[6],p=o[7],f=h>l?h:l,w=h>l?1:h/l,u=h>l?l/h:1;e.translate(i,n),e.rotate(m),e.scale(w,u),e.arc(0,0,f,d,d+g,1-p),e.scale(1/w,1/u),e.rotate(-m),e.translate(-i,-n);break;case\"z\":e.closePath()}}}},scaleX:h,scaleY:l},e.createElement(s,Object.assign({},i,{x:0,y:0,data:n,strokeWidth:2*i.strokeWidth,dash:i.dash.map(e=>e)}))))}))),h[E]||a);var E,k;return e.createElement(e.Fragment,null,e.createElement(a,{id:l.id,x:l.a.x,y:l.a.y,rotation:l.a.rotation,opacity:l.a.opacity,listening:d,draggable:g?l.draggable&&m:l.draggable,name:\"element\",onDragMove:e=>{l.set({x:e.target.x(),y:e.target.y()})},onDragEnd:e=>{l.set({x:e.target.x(),y:e.target.y()})},onTransform:e=>{const t=e.target.scale();e.target.scaleX(1),e.target.scaleY(1),l.set({width:l.width*t.x,height:l.height*t.y,x:e.target.x(),y:e.target.y(),rotation:e.target.rotation()})}},e.createElement(x,{element:l,fillProps:u,strokeProps:y})))});", "import e from\"react\";import{observer as t}from\"mobx-react-lite\";import{autorun as r}from\"mobx\";import{Image as a,Group as i,Rect as n,Arc as o,Text as h}from\"react-konva\";import d from\"konva\";import{parseGIF as s,decompressFrames as c}from\"gifuct-js\";import{useCornerRadiusAndCrop as l}from\"./video-element.js\";import{useImageLoader as g}from\"./image-element.js\";import{applyFilter as m}from\"./apply-filters.js\";import{useFadeIn as f}from\"./use-fadein.js\";import{isTouchDevice as u}from\"../utils/screen.js\";function p(e,t,r){const a=t.getContext(\"2d\"),i=r.getContext(\"2d\");if(!a||!i){return}2===e.disposalType&&a.clearRect(0,0,t.width,t.height),r.width=e.width,r.height=e.height;const n=i.createImageData(e.width,e.height);n.data.set(e.patch),i.putImageData(n,0,0),a.drawImage(r,e.left,e.top)}const w=t(({element:t})=>{const r=Math.min(30,t.width/4,t.height/4),a=e.useRef(null);return e.useEffect(()=>{const e=a.current;if(!e){return}const t=new d.Animation(t=>{e.rotate(((null==t?void 0:t.timeDiff)||0)/2)},e.getLayer());return t.start(),()=>{t.stop()}},[]),e.createElement(i,{x:t.a.x,y:t.a.y,rotation:t.a.rotation,listening:!1,opacity:t.a.opacity,hideInExport:!t.showInExport},e.createElement(n,{width:t.width,height:t.height,fill:\"rgba(124, 173, 212, 0.8)\"}),e.createElement(o,{ref:a,x:t.width/2,y:t.height/2,fill:\"white\",outerRadius:Math.abs(r),innerRadius:Math.max(1,r-5),angle:270}))}),y=t(({element:t})=>{const r=Math.max(10,Math.min(30,t.width/22));return e.createElement(i,{x:t.a.x,y:t.a.y,rotation:t.a.rotation,listening:!1,opacity:t.a.opacity,hideInExport:!t.showInExport},e.createElement(n,{width:t.width,height:t.height,fill:\"rgba(223, 102, 102, 0.8)\"}),e.createElement(h,{text:\"Cannot load the GIF...\",fontSize:r,width:t.width,height:t.height,align:\"center\",fill:\"white\",verticalAlign:\"middle\",padding:5}))});export const GifElement=t(({element:t,store:i})=>{var o;const[h,x]=e.useState(!1),E=i.selectedShapes.indexOf(t)>=0&&t.selectable,b=e.useRef(null),v=e.useRef(),[I,S,M,R]=function(t){const[r,a]=e.useState([]),[i,n]=e.useState(0),[o,h]=e.useState(\"loading\"),[d,l]=e.useState({width:0,height:0});return e.useEffect(()=>{(async()=>{try{const e=await fetch(t),r=await e.arrayBuffer(),i=s(r),o=c(i,!0),d=i.lsd.width,g=i.lsd.height;l({width:d,height:g});const m=o.map(e=>({patch:new Uint8ClampedArray(e.patch),delay:e.delay,width:e.dims.width,height:e.dims.height,left:e.dims.left,top:e.dims.top,disposalType:e.disposalType})),f=m.reduce((e,t)=>e+t.delay,0);a(m),n(f),h(\"loaded\")}catch(e){console.error(\"Failed to load GIF:\",e),h(\"failed\")}})()},[t]),[r,i,d,o]}(t.src);g(R,t.src,t.id),e.useEffect(()=>(v.current=document.createElement(\"canvas\"),()=>{v.current&&d.Util.releaseCanvas(v.current)}),[]),e.useEffect(()=>{if(\"loaded\"===R&&v.current&&(v.current.width=M.width,v.current.height=M.height,I.length>0)){const e=v.current.getContext(\"2d\");if(e){e.clearRect(0,0,M.width,M.height);const t=document.createElement(\"canvas\");p(I[0],v.current,t)}}},[M,R,I]),e.useEffect(()=>{if(!I.length||!v.current){return}const e=v.current;e.width=M.width,e.height=M.height;const a=document.createElement(\"canvas\"),n=e.getContext(\"2d\");n&&n.clearRect(0,0,e.width,e.height);let o=-1;p(I[0],e,a),D(),o=0;const h=t=>{const r=(e=>{const t=e%S;let r=0;for(let a=0;a<I.length;a++){if(r+=I[a].delay,r>t){return a}}return 0})(t);r!==o&&(p(I[r],e,a),D(),b.current.getLayer().draw(),o=r)};if(i.isPlaying||t.page._exportingOrRendering){return r(()=>{h(i.currentTime-t.page.startTime)})}{const e=window.setInterval(()=>{h(i.currentTime||performance.now())},16);return()=>{clearInterval(e)}}},[i.isPlaying,I,S,t.page._exportingOrRendering]),e.useEffect(()=>{S&&i.history.ignore(()=>{t.set({duration:S})})},[S]);let{cropX:C,cropY:T,cropWidth:O,cropHeight:z}=t;\"loaded\"!==R&&(C=T=0,O=z=1);const X={x:M.width*C,y:M.height*T,width:M.width*O,height:M.height*z},Y=null!==(o=t.cornerRadius)&&void 0!==o?o:0,[j,D]=l(t,v.current,X,i._elementsPixelRatio,Y,h||t._cropModeEnabled);e.useLayoutEffect(()=>{if(!h&&!t._cropModeEnabled&&b.current){return m(b.current,t),r(()=>{m(b.current,t)},{delay:100})}},[v.current,h,O,z,t._cropModeEnabled,M.width,M.height]);const _=\"loading\"===R,k=\"failed\"===R,F=_||k?0:t.a.opacity;f(b,F);const A=t.selectable||\"admin\"===i.role,B=u();return e.createElement(e.Fragment,null,_&&e.createElement(w,{element:t}),k&&e.createElement(y,{element:t}),e.createElement(a,{ref:b,name:\"element\",id:t.id,image:j,x:t.a.x,y:t.a.y,width:t.a.width||1,height:t.a.height||1,rotation:t.a.rotation,opacity:F,shadowEnabled:t.shadowEnabled,shadowBlur:t.shadowBlur,shadowOffsetX:t.shadowOffsetX,shadowOffsetY:t.shadowOffsetY,shadowColor:t.shadowColor,shadowOpacity:t.shadowOpacity,customCrop:X,listening:A,draggable:B?t.draggable&&E:t.draggable,preventDefault:!B||E,hideInExport:!t.showInExport,onDragMove:e=>{t.set({x:e.target.x(),y:e.target.y()})},onDragEnd:e=>{t.set({x:e.target.x(),y:e.target.y()})},onTransformStart:()=>x(!0),onTransform:e=>{const r=e.currentTarget,a=Math.abs(r.scaleX()-1)<1e-7?1:r.scaleX(),i=Math.abs(r.scaleY()-1)<1e-7?1:r.scaleY();r.scaleX(1),r.scaleY(1),t.set({x:r.x(),y:r.y(),width:r.width()*a,height:r.height()*i,rotation:r.rotation()})},onTransformEnd:()=>x(!1)}),e.createElement(n,{x:t.a.x,y:t.a.y,width:Math.max(t.a.width-t.borderSize,0),height:Math.max(t.a.height-t.borderSize,0),opacity:F,offsetX:-t.borderSize/2,offsetY:-t.borderSize/2,stroke:t.borderColor,strokeWidth:t.borderSize,listening:!1,visible:!!t.borderSize,rotation:t.rotation,cornerRadius:Math.max(0,Y-t.borderSize),hideInExport:!t.showInExport}))});", "import t from\"react\";import{observer as e}from\"mobx-react-lite\";import{Rect as i}from\"react-konva\";const r={stroke:\"rgb(0, 161, 255)\",strokeWidth:2};export const setHighlighterStyle=t=>{Object.assign(r,t)};export const Highlighter=e(({element:e})=>t.createElement(i,Object.assign({name:\"highlighter\",x:e.a.x,y:e.a.y,rotation:e.a.rotation,width:e.a.width,height:e.a.height,listening:!1,strokeScaleEnabled:!1},r)));", "export function getCrop(t,h,e=\"scale\"){const i=h.width/h.height;let o,r;i>=t.width/t.height?(o=t.width,r=t.width/i):(o=t.height*i,r=t.height);let d=0,g=0;return\"left-top\"===e?(d=0,g=0):\"left-middle\"===e?(d=0,g=(t.height-r)/2):\"left-bottom\"===e?(d=0,g=t.height-r):\"center-top\"===e?(d=(t.width-o)/2,g=0):\"center-middle\"===e?(d=(t.width-o)/2,g=(t.height-r)/2):\"center-bottom\"===e?(d=(t.width-o)/2,g=t.height-r):\"right-top\"===e?(d=t.width-o,g=0):\"right-middle\"===e?(d=t.width-o,g=(t.height-r)/2):\"right-bottom\"===e?(d=t.width-o,g=t.height-r):\"scale\"===e?(d=0,g=0,o=t.width,r=t.height):console.error(new Error(\"Unknown clip position property - \"+e)),{cropX:d,cropY:g,cropWidth:o,cropHeight:r}}"],
  "mappings": "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",
  "names": ["parse", "conditional", "loop", "buildStream", "readByte", "peekByte", "readBytes", "peekBytes", "readString", "readUnsigned", "readArray", "subBitsTotal", "readBits", "_", "deinterlace", "cpRow", "toRow", "fromRow", "lzw", "require_lib", "parseGIF", "generatePatch", "decompressFrame", "decompressFrames", "f", "import_react", "import_use_image", "import_react", "t", "e", "r", "t", "e", "t", "e", "r", "h", "c", "d", "g", "u", "w", "a", "o", "i", "n", "s", "l", "m", "p", "f", "x", "y", "M", "v", "b", "E", "S", "R", "C", "e", "r", "t", "h", "c", "d", "u", "p", "C", "T", "W", "n", "D", "_", "L", "z", "H", "o", "s", "g", "l", "a", "i", "j", "B", "F", "N", "U", "V", "$", "J", "G", "K", "Z", "f", "w", "import_react", "import_use_image", "E", "useCornerRadiusAndCrop", "t", "r", "h", "d", "c", "u", "g", "f", "e", "p", "n", "o", "i", "a", "s", "l", "w", "v", "x", "M", "y", "b", "L", "C", "T", "e", "t", "r", "h", "g", "R", "I", "S", "X", "Y", "W", "C", "O", "_", "d", "H", "D", "z", "j", "B", "U", "V", "Z", "F", "N", "$", "G", "J", "K", "useCornerRadiusAndCrop", "n", "c", "u", "o", "i", "b", "s", "f", "m", "p", "E", "import_react", "c", "d", "g", "p", "f", "w", "u", "b", "y", "e", "x", "E", "t", "h", "l", "r", "s", "o", "i", "n", "m", "import_react", "e", "t", "r", "y", "h", "x", "E", "b", "v", "I", "S", "M", "R", "i", "o", "d", "s", "c", "g", "f", "D", "a", "C", "T", "O", "z", "X", "Y", "j", "useCornerRadiusAndCrop", "_", "F", "B", "import_react", "e", "t", "t", "r", "e", "o", "h", "e", "t", "r", "n", "s", "c", "h", "p", "x", "t", "h", "e", "r", "d", "g", "e", "t", "I", "T", "e", "t", "r", "f", "s", "n", "c", "d", "h", "p", "x", "y", "w", "C", "L", "R", "j", "D", "I", "T", "G", "_", "K", "U", "a", "i", "o"]
}
