import{copy as e,cut as t,paste as o}from"../utils/clipboard.js";export function handleHotkey(a,l){var r,d,n,c;if("INPUT"===(null===(r=document.activeElement)||void 0===r?void 0:r.tagName)||"TEXTAREA"===(null===(d=document.activeElement)||void 0===d?void 0:d.tagName)||"true"===(null===(n=document.activeElement)||void 0===n?void 0:n.contentEditable)){return}const s=l.selectedElements.filter(e=>e.removable).map(e=>e.id);46!==a.keyCode&&8!==a.keyCode||l.deleteElements(s);const i=a.ctrlKey||a.metaKey,v=a.shiftKey;if(!i||v||"z"!==a.key.toLowerCase()&&"y"!==a.key.toLowerCase()||(a.preventDefault(),l.history.undo()),i&&v&&("z"===a.key.toLowerCase()||"y"===a.key.toLowerCase())&&(a.preventDefault(),l.history.redo()),i&&"KeyA"===a.code){a.preventDefault();const e=null===(c=l.activePage)||void 0===c?void 0:c.children.filter(e=>e.selectable),t=(null==e?void 0:e.map(e=>e.id))||[];l.selectElements(t)}i&&"KeyC"===a.code&&(a.preventDefault(),e(l)),i&&"KeyX"===a.code&&(a.preventDefault(),t(l)),i&&"KeyV"===a.code&&(a.preventDefault(),o(l)),"ArrowDown"===a.code&&(a.preventDefault(),l.selectedShapes.forEach(e=>{e.draggable&&e.set({y:e.y+1})})),"ArrowUp"===a.code&&(a.preventDefault(),l.selectedShapes.forEach(e=>{e.draggable&&e.set({y:e.y-1})})),"ArrowLeft"===a.code&&(a.preventDefault(),l.selectedShapes.forEach(e=>{e.draggable&&e.set({x:e.x-1})})),"ArrowRight"===a.code&&(a.preventDefault(),l.selectedShapes.forEach(e=>{e.draggable&&e.set({x:e.x+1})}))}