import t from"react";import*as i from"../utils/gradient.js";import r from"konva";export const useColor=(o,a=o.fill,n="fill")=>t.useMemo(()=>{if(!i.isGradient(a)){return{[n]:a}}const{stops:t,rotation:e}=i.parseColor(a),l=o.a.width/2,s=o.a.height/2,d=(e%180+180)%180,h=d>45&&d<135?o.a.width:o.a.height,f=r.Util.degToRad(e)-Math.PI/2,G=[];return t.forEach(({offset:t,color:i})=>{G.push(t,i)}),"fill"===n?{fillLinearGradientStartPointX:l-h/2*Math.cos(f),fillLinearGradientStartPointY:s-h/2*Math.sin(f),fillLinearGradientColorStops:G,fillLinearGradientEndPointX:l+h/2*Math.cos(f),fillLinearGradientEndPointY:s+h/2*Math.sin(f),fill:t[1].color,fillPriority:"linear-gradient"}:{strokeLinearGradientStartPointX:l-h/2*Math.cos(f),strokeLinearGradientStartPointY:s-h/2*Math.sin(f),strokeLinearGradientColorStops:G,strokeLinearGradientEndPointX:l+h/2*Math.cos(f),strokeLinearGradientEndPointY:s+h/2*Math.sin(f)}},[a,o.width,o.height]);