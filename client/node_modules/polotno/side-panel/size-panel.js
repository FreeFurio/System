var e=this&&this.__rest||function(e,t){var n={};for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i])}if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++){t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]])}}return n};import t from"react";import{observer as n}from"mobx-react-lite";import{Button as i,NumericInput as l,Switch as a,Alignment as r,Position as o,Icon as c,Tooltip as m,HTMLSelect as s}from"@blueprintjs/core";import{t as u}from"../utils/l10n.js";import p from"@meronex/icons/ai/AiOutlineFacebook.js";import d from"@meronex/icons/ai/AiOutlineInstagram.js";import E from"@meronex/icons/ai/AiOutlineYoutube.js";import v from"@meronex/icons/ai/AiOutlineVideoCamera.js";import g from"@meronex/icons/zo/ZoDocument.js";import x from"@meronex/icons/ai/AiOutlineIdcard.js";import{Help as h}from"@blueprintjs/icons";import{pxToUnit as y,pxToUnitRounded as f,unitToPx as P}from"../utils/unit.js";import b from"@meronex/icons/ai/AiOutlineLinkedin.js";import S from"@meronex/icons/ai/AiOutlineTwitter.js";export const SIZE_CATEGORIES=[{name:"Instagram",icon:t.createElement(d,null),sizes:[["Post",1080,1080,"px",t.createElement(d,null)],["Story",1080,1920,"px",t.createElement(d,null)],["Ad",1080,1080,"px",t.createElement(d,null)]]},{name:"Facebook",icon:t.createElement(p,null),sizes:[["Post (Landscape)",1200,630,"px",t.createElement(p,null)],["Post (Square)",1080,1080,"px",t.createElement(p,null)],["Cover",851,315,"px",t.createElement(p,null)]]},{name:"Youtube",icon:t.createElement(E,null),sizes:[["Thumbnail",1280,720,"px",t.createElement(E,null)],["Channel",2560,1440,"px",t.createElement(E,null)],["Short",1080,1920,"px",t.createElement(E,null)]]},{name:"LinkedIn",icon:t.createElement(b,null),sizes:[["Post",1200,627,"px",t.createElement(b,null)],["Banner",1584,396,"px",t.createElement(b,null)],["Square",1080,1080,"px",t.createElement(b,null)]]},{name:"Twitter",icon:t.createElement(S,null),sizes:[["Post",1600,900,"px",t.createElement(S,null)],["Header",1500,500,"px",t.createElement(S,null)],["Square",1080,1080,"px",t.createElement(S,null)]]},{name:"Video",icon:t.createElement(v,null),sizes:[["Full HD",1920,1080,"px",t.createElement(v,null)],["4K UHD",3840,2160,"px",t.createElement(v,null)],["Vertical HD",1080,1920,"px",t.createElement(v,null)],["Square HD",1080,1080,"px",t.createElement(v,null)]]},{name:"Print",icon:t.createElement(g,null),sizes:[["Invitation",14,14,"cm",t.createElement(g,null)],["A4 Portrait",21,29.7,"cm",t.createElement(g,null)],["A4 Landscape",29.7,21,"cm",t.createElement(g,null)],["A3",29.7,42,"cm",t.createElement(g,null)],["Letter Portrait",8.5,11,"in",t.createElement(g,null)],["Letter Landscape",11,8.5,"in",t.createElement(g,null)],["Business card",3.5,2,"in",t.createElement(x,null)],["Poster",18,24,"in",t.createElement(g,null)]]}];const O=n=>{var{value:i,onChange:a}=n,r=e(n,["value","onChange"]);const[o,c]=t.useState(i.toString()),m=t.useRef(i);m.current=o;const s=()=>{a(Math.max(r.min||0,parseFloat(m.current)))};return t.useEffect(()=>{c(i)},[i]),t.createElement(l,Object.assign({},r,{value:o.toString(),onValueChange:(e,t)=>{Number.isNaN(t)||c(t)},onBlur:s,allowNumericCharactersOnly:!1,onKeyDown:e=>{"Enter"===e.key&&s()}}))};export const SizePanel=n(({store:e})=>{var n,l;const[p,d]=t.useState(!0),[E,v]=t.useState(e.width),[g,x]=t.useState(e.height),b=y({px:10,unit:e.unit,dpi:e.dpi}),S=(null===(n=e.activePage)||void 0===n?void 0:n.computedWidth)||e.width;t.useEffect(()=>{v(f({px:S,unit:e.unit,dpi:e.dpi}))},[S,e.unit,e.dpi]);const w=(null===(l=e.activePage)||void 0===l?void 0:l.computedHeight)||e.height;return t.useEffect(()=>{x(f({px:w,unit:e.unit,dpi:e.dpi}))},[w,e.unit,e.dpi]),t.createElement("div",{style:{height:"100%",overflow:"auto",paddingRight:"3px"}},t.createElement("div",{style:{paddingBottom:"15px"}},t.createElement(a,{checked:p,onChange:e=>{d(e.target.checked)},alignIndicator:r.RIGHT,style:{marginTop:"8px",marginBottom:"25px"}},u("sidePanel.useMagicResize")," ",t.createElement(m,{content:u("sidePanel.magicResizeDescription"),position:o.BOTTOM},t.createElement(c,{icon:t.createElement(h,null)}))),t.createElement("div",{style:{width:"50%",display:"inline-block"}},u("sidePanel.width")," (",e.unit,")"),t.createElement("div",{style:{width:"50%",display:"inline-block"}},t.createElement(O,{fill:!0,value:E,onChange:e=>{e||(e=b),v(e)},min:b,max:1e4,selectAllOnFocus:!0,stepSize:"px"===e.unit?1:.1}))),t.createElement("div",{style:{paddingBottom:"15px"}},t.createElement("div",{style:{width:"50%",display:"inline-block"}},u("sidePanel.height")," (",e.unit,")"),t.createElement("div",{style:{width:"50%",display:"inline-block"}},t.createElement(O,{fill:!0,value:g,onChange:e=>{e||(e=b),x(e)},min:b,max:1e4,selectAllOnFocus:!0,stepSize:"px"===e.unit?1:.1}))),t.createElement("div",{style:{paddingBottom:"15px"}},t.createElement("div",{style:{width:"50%",display:"inline-block"}},u("sidePanel.units")),t.createElement("div",{style:{width:"50%",display:"inline-block"}},t.createElement(s,{value:e.unit,onChange:t=>{const n=t.currentTarget.value;e.setUnit({unit:n,dpi:e.dpi})},options:[{label:"px",value:"px"},{label:"cm",value:"cm"},{label:"in",value:"in"}],fill:!0}))),t.createElement("div",{style:{paddingBottom:"15px"}},t.createElement(i,{fill:!0,intent:"primary",onClick:()=>{var t,n,i,l;const a=P({unitVal:E,dpi:e.dpi,unit:e.unit}),r=P({unitVal:g,dpi:e.dpi,unit:e.unit});e.setSize(a,r,p),"auto"!==(null===(t=e.activePage)||void 0===t?void 0:t.width)&&(null===(n=e.activePage)||void 0===n||n.set({width:a})),"auto"!==(null===(i=e.activePage)||void 0===i?void 0:i.height)&&(null===(l=e.activePage)||void 0===l||l.set({height:r}))}},u("sidePanel.resize"))),SIZE_CATEGORIES.map(({name:n,icon:l,sizes:a})=>t.createElement(t.Fragment,{key:n},t.createElement("div",{style:{paddingBottom:"15px",paddingTop:"15px",fontWeight:600,display:"flex",alignItems:"center",gap:6}},l,n),t.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",marginBottom:"10px"}},a.map(([n,l,a,r,o])=>t.createElement(i,{key:n,style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"13px"},minimal:!0,onClick:()=>{var t,n,i,o;const c=P({unitVal:l,dpi:e.dpi,unit:r}),m=P({unitVal:a,dpi:e.dpi,unit:r});e.setUnit({unit:r,dpi:e.dpi}),e.setSize(c,m,p),"auto"!==(null===(t=e.activePage)||void 0===t?void 0:t.width)&&(null===(n=e.activePage)||void 0===n||n.set({width:c})),"auto"!==(null===(i=e.activePage)||void 0===i?void 0:i.height)&&(null===(o=e.activePage)||void 0===o||o.set({height:m}))}},t.createElement("div",{style:{fontSize:"22px",marginBottom:"4px"}},o),t.createElement("div",null,n),t.createElement("div",{style:{fontSize:"0.7rem",opacity:.7}},l,"Ã—",a," ",r)))))))});