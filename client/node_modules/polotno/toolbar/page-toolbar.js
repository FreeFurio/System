var e=this&&this.__rest||function(e,t){var n={};for(var r in e){Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r])}if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++){t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}}return n};import t from"react";import{observer as n}from"mobx-react-lite";import{Button as r,NumericInput as o,Slider as a}from"@blueprintjs/core";import{Popover as i}from"@blueprintjs/core";import{ElementContainer as l,extendToolbar as c}from"./element-container.js";import{t as s}from"../utils/l10n.js";import{flags as m}from"../utils/flags.js";import{Time as u}from"@blueprintjs/icons";import{ColorPicker as p}from"./color-picker.js";export const NumberInput=n=>{var{value:r,onValueChange:a}=n,i=e(n,["value","onValueChange"]);const[l,c]=t.useState(r.toString());return t.useEffect(()=>{c(r.toString())},[r]),t.createElement(o,Object.assign({value:l,onValueChange:(e,t)=>{c(t),Number.isNaN(e)||a(e)}},i))};const g=n(({store:e})=>e.activePage?t.createElement(p,{value:e.activePage.background||"white",onChange:t=>{e.activePage.set({background:t})},store:e,gradientEnabled:!0}):null),d={PageDuration:n(({store:e})=>{if(!e.activePage){return null}const{duration:n}=e.activePage;return t.createElement(i,{position:"bottom",content:t.createElement("div",{style:{padding:"15px",paddingTop:"15px",width:"230px"}},t.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"5px",paddingBottom:"5px"}},t.createElement("div",null,s("toolbar.duration")),t.createElement("div",null,t.createElement(NumberInput,{value:n/1e3,onValueChange:t=>{e.activePage.set({duration:1e3*t})},style:{width:"50px"},min:0,buttonPosition:"none"}))),t.createElement(a,{value:Math.min(n/1e3,50),onChange:t=>{e.activePage.set({duration:1e3*t})},min:0,max:50,showTrackFill:!1,labelRenderer:!1}))},t.createElement(r,{icon:t.createElement(u,null),minimal:!0},(e.activePage.duration/1e3).toFixed(1),"s"))}),PageBackground:g};export const PageToolbar=n(({store:e,components:n})=>{const r=["PageBackground",m.animationsEnabled&&"PageDuration"],o=c({type:"page",usedItems:r,components:n});return t.createElement(l,{items:o,itemRender:r=>{const o=n[r]||d[r];return t.createElement(o,{store:e,key:r})}})});export default PageToolbar;