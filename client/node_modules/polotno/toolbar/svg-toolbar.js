import e from"react";import{observer as t}from"mobx-react-lite";import*as r from"../utils/svg.js";import{ElementContainer as o,extendToolbar as s}from"./element-container.js";import n from"./filters-picker.js";import m from"./color-picker.js";import l from"./flip-button.js";import{AnimationsPicker as i}from"./animations-picker.js";import{flags as a}from"../utils/flags.js";const c=(e,t)=>Array.from(e.keys()).find(e=>r.sameColors(e,t)),p=(e,t)=>{const r=c(e,t);return e.get(r||"")||t},g={SvgFlip:l,SvgFilters:n,SvgColors:t(({element:t,elements:o,store:s})=>{const n=r.useSvgColors(t.src);return e.createElement(e.Fragment,null,!t.maskSrc&&n.slice(0,5).map(r=>e.createElement(m,{key:r,value:p(t.colorsReplace,r),style:{marginLeft:"5px"},onChange:e=>{const o=c(t.colorsReplace,r)||r;t.replaceColor(o,e)},store:s,gradientEnabled:!0})))}),SvgAnimations:i};export const SvgToolbar=t(({store:t,hideSvgEffects:r,components:n})=>{const m=t.selectedElements,l=["SvgFlip",!r&&"SvgFilters","SvgColors",a.animationsEnabled&&"SvgAnimations"].filter(e=>!!e),i=s({type:"svg",usedItems:l,components:n});return e.createElement(o,{items:i,itemRender:r=>{const o=n[r]||g[r];return e.createElement(o,{elements:m,element:m[0],store:t,key:r})}})});export default SvgToolbar;